function YO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function XO(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var M={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vh=Symbol.for("react.element"),rV=Symbol.for("react.portal"),iV=Symbol.for("react.fragment"),oV=Symbol.for("react.strict_mode"),aV=Symbol.for("react.profiler"),sV=Symbol.for("react.provider"),uV=Symbol.for("react.context"),lV=Symbol.for("react.forward_ref"),cV=Symbol.for("react.suspense"),hV=Symbol.for("react.memo"),fV=Symbol.for("react.lazy"),eT=Symbol.iterator;function dV(t){return t===null||typeof t!="object"?null:(t=eT&&t[eT]||t["@@iterator"],typeof t=="function"?t:null)}var JO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZO=Object.assign,eC={};function wu(t,e,n){this.props=t,this.context=e,this.refs=eC,this.updater=n||JO}wu.prototype.isReactComponent={};wu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tC(){}tC.prototype=wu.prototype;function W_(t,e,n){this.props=t,this.context=e,this.refs=eC,this.updater=n||JO}var G_=W_.prototype=new tC;G_.constructor=W_;ZO(G_,wu.prototype);G_.isPureReactComponent=!0;var tT=Array.isArray,nC=Object.prototype.hasOwnProperty,K_={current:null},rC={key:!0,ref:!0,__self:!0,__source:!0};function iC(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)nC.call(e,r)&&!rC.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:vh,type:t,key:o,ref:a,props:i,_owner:K_.current}}function pV(t,e){return{$$typeof:vh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function H_(t){return typeof t=="object"&&t!==null&&t.$$typeof===vh}function mV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nT=/\/+/g;function Zg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mV(""+t.key):e.toString(36)}function Qf(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case vh:case rV:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Zg(a,0):r,tT(i)?(n="",t!=null&&(n=t.replace(nT,"$&/")+"/"),Qf(i,e,n,"",function(l){return l})):i!=null&&(H_(i)&&(i=pV(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(nT,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",tT(t))for(var s=0;s<t.length;s++){o=t[s];var u=r+Zg(o,s);a+=Qf(o,e,n,u,i)}else if(u=dV(t),typeof u=="function")for(t=u.call(t),s=0;!(o=t.next()).done;)o=o.value,u=r+Zg(o,s++),a+=Qf(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function cf(t,e,n){if(t==null)return t;var r=[],i=0;return Qf(t,r,"","",function(o){return e.call(n,o,i++)}),r}function gV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pn={current:null},Yf={transition:null},yV={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:Yf,ReactCurrentOwner:K_};Te.Children={map:cf,forEach:function(t,e,n){cf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cf(t,function(){e++}),e},toArray:function(t){return cf(t,function(e){return e})||[]},only:function(t){if(!H_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=wu;Te.Fragment=iV;Te.Profiler=aV;Te.PureComponent=W_;Te.StrictMode=oV;Te.Suspense=cV;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yV;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ZO({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=K_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(u in e)nC.call(e,u)&&!rC.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&s!==void 0?s[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){s=Array(u);for(var l=0;l<u;l++)s[l]=arguments[l+2];r.children=s}return{$$typeof:vh,type:t.type,key:i,ref:o,props:r,_owner:a}};Te.createContext=function(t){return t={$$typeof:uV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sV,_context:t},t.Consumer=t};Te.createElement=iC;Te.createFactory=function(t){var e=iC.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:lV,render:t}};Te.isValidElement=H_;Te.lazy=function(t){return{$$typeof:fV,_payload:{_status:-1,_result:t},_init:gV}};Te.memo=function(t,e){return{$$typeof:hV,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=Yf.transition;Yf.transition={};try{t()}finally{Yf.transition=e}};Te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Te.useCallback=function(t,e){return pn.current.useCallback(t,e)};Te.useContext=function(t){return pn.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return pn.current.useDeferredValue(t)};Te.useEffect=function(t,e){return pn.current.useEffect(t,e)};Te.useId=function(){return pn.current.useId()};Te.useImperativeHandle=function(t,e,n){return pn.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return pn.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return pn.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return pn.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return pn.current.useReducer(t,e,n)};Te.useRef=function(t){return pn.current.useRef(t)};Te.useState=function(t){return pn.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return pn.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return pn.current.useTransition()};Te.version="18.2.0";(function(t){t.exports=Te})(M);const Ne=XO(M.exports),Q_=YO({__proto__:null,default:Ne},[M.exports]);var mv={},rm={exports:{}},jn={},oC={exports:{}},aC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,G){var Y=V.length;V.push(G);e:for(;0<Y;){var ae=Y-1>>>1,te=V[ae];if(0<i(te,G))V[ae]=G,V[Y]=te,Y=ae;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var G=V[0],Y=V.pop();if(Y!==G){V[0]=Y;e:for(var ae=0,te=V.length,le=te>>>1;ae<le;){var je=2*(ae+1)-1,Je=V[je],$t=je+1,We=V[$t];if(0>i(Je,Y))$t<te&&0>i(We,Je)?(V[ae]=We,V[$t]=Y,ae=$t):(V[ae]=Je,V[je]=Y,ae=je);else if($t<te&&0>i(We,Y))V[ae]=We,V[$t]=Y,ae=$t;else break e}}return G}function i(V,G){var Y=V.sortIndex-G.sortIndex;return Y!==0?Y:V.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var u=[],l=[],c=1,h=null,d=3,p=!1,_=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(V){for(var G=n(l);G!==null;){if(G.callback===null)r(l);else if(G.startTime<=V)r(l),G.sortIndex=G.expirationTime,e(u,G);else break;G=n(l)}}function x(V){if(g=!1,w(V),!_)if(n(u)!==null)_=!0,z(T);else{var G=n(l);G!==null&&Q(x,G.startTime-V)}}function T(V,G){_=!1,g&&(g=!1,b(E),E=-1),p=!0;var Y=d;try{for(w(G),h=n(u);h!==null&&(!(h.expirationTime>G)||V&&!R());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,d=h.priorityLevel;var te=ae(h.expirationTime<=G);G=t.unstable_now(),typeof te=="function"?h.callback=te:h===n(u)&&r(u),w(G)}else r(u);h=n(u)}if(h!==null)var le=!0;else{var je=n(l);je!==null&&Q(x,je.startTime-G),le=!1}return le}finally{h=null,d=Y,p=!1}}var A=!1,I=null,E=-1,P=5,O=-1;function R(){return!(t.unstable_now()-O<P)}function N(){if(I!==null){var V=t.unstable_now();O=V;var G=!0;try{G=I(!0,V)}finally{G?C():(A=!1,I=null)}}else A=!1}var C;if(typeof y=="function")C=function(){y(N)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,K=F.port2;F.port1.onmessage=N,C=function(){K.postMessage(null)}}else C=function(){v(N,0)};function z(V){I=V,A||(A=!0,C())}function Q(V,G){E=v(function(){V(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,z(T))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(V){switch(d){case 1:case 2:case 3:var G=3;break;default:G=d}var Y=d;d=G;try{return V()}finally{d=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Y=d;d=V;try{return G()}finally{d=Y}},t.unstable_scheduleCallback=function(V,G,Y){var ae=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ae+Y:ae):Y=ae,V){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=Y+te,V={id:c++,callback:G,priorityLevel:V,startTime:Y,expirationTime:te,sortIndex:-1},Y>ae?(V.sortIndex=Y,e(l,V),n(u)===null&&V===n(l)&&(g?(b(E),E=-1):g=!0,Q(x,Y-ae))):(V.sortIndex=te,e(u,V),_||p||(_=!0,z(T))),V},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(V){var G=d;return function(){var Y=d;d=G;try{return V.apply(this,arguments)}finally{d=Y}}}})(aC);(function(t){t.exports=aC})(oC);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sC=M.exports,Ln=oC.exports;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uC=new Set,rc={};function $a(t,e){Vs(t,e),Vs(t+"Capture",e)}function Vs(t,e){for(rc[t]=e,t=0;t<e.length;t++)uC.add(e[t])}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gv=Object.prototype.hasOwnProperty,vV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rT={},iT={};function _V(t){return gv.call(iT,t)?!0:gv.call(rT,t)?!1:vV.test(t)?iT[t]=!0:(rT[t]=!0,!1)}function wV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bV(t,e,n,r){if(e===null||typeof e>"u"||wV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zt[t]=new mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zt[e]=new mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zt[t]=new mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zt[t]=new mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zt[t]=new mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zt[t]=new mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zt[t]=new mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zt[t]=new mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zt[t]=new mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Y_=/[\-:]([a-z])/g;function X_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Y_,X_);zt[e]=new mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Y_,X_);zt[e]=new mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Y_,X_);zt[e]=new mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zt[t]=new mn(t,1,!1,t.toLowerCase(),null,!1,!1)});zt.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zt[t]=new mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function J_(t,e,n,r){var i=zt.hasOwnProperty(e)?zt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bV(e,n,i,r)&&(n=null),r||i===null?_V(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ei=sC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hf=Symbol.for("react.element"),fs=Symbol.for("react.portal"),ds=Symbol.for("react.fragment"),Z_=Symbol.for("react.strict_mode"),yv=Symbol.for("react.profiler"),lC=Symbol.for("react.provider"),cC=Symbol.for("react.context"),ew=Symbol.for("react.forward_ref"),vv=Symbol.for("react.suspense"),_v=Symbol.for("react.suspense_list"),tw=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),hC=Symbol.for("react.offscreen"),oT=Symbol.iterator;function rl(t){return t===null||typeof t!="object"?null:(t=oT&&t[oT]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,ey;function Il(t){if(ey===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ey=e&&e[1]||""}return`
`+ey+t}var ty=!1;function ny(t,e){if(!t||ty)return"";ty=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var u=`
`+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=s);break}}}finally{ty=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Il(t):""}function xV(t){switch(t.tag){case 5:return Il(t.type);case 16:return Il("Lazy");case 13:return Il("Suspense");case 19:return Il("SuspenseList");case 0:case 2:case 15:return t=ny(t.type,!1),t;case 11:return t=ny(t.type.render,!1),t;case 1:return t=ny(t.type,!0),t;default:return""}}function wv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ds:return"Fragment";case fs:return"Portal";case yv:return"Profiler";case Z_:return"StrictMode";case vv:return"Suspense";case _v:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cC:return(t.displayName||"Context")+".Consumer";case lC:return(t._context.displayName||"Context")+".Provider";case ew:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tw:return e=t.displayName||null,e!==null?e:wv(t.type)||"Memo";case Vi:e=t._payload,t=t._init;try{return wv(t(e))}catch{}}return null}function TV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wv(e);case 8:return e===Z_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function EV(t){var e=fC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ff(t){t._valueTracker||(t._valueTracker=EV(t))}function dC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=fC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bv(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function aT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=mo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pC(t,e){e=e.checked,e!=null&&J_(t,"checked",e,!1)}function xv(t,e){pC(t,e);var n=mo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tv(t,e.type,mo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Tv(t,e,n){(e!=="number"||bd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Al=Array.isArray;function Ss(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ev(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Al(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:mo(n)}}function mC(t,e){var n=mo(e.value),r=mo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function lT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var df,yC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(df=df||document.createElement("div"),df.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=df.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ic(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ll={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SV=["Webkit","ms","Moz","O"];Object.keys(Ll).forEach(function(t){SV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ll[e]=Ll[t]})});function vC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ll.hasOwnProperty(t)&&Ll[t]?(""+e).trim():e+"px"}function _C(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=vC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var IV=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Iv(t,e){if(e){if(IV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Av(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pv=null;function nw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ov=null,Is=null,As=null;function cT(t){if(t=bh(t)){if(typeof Ov!="function")throw Error(H(280));var e=t.stateNode;e&&(e=um(e),Ov(t.stateNode,t.type,e))}}function wC(t){Is?As?As.push(t):As=[t]:Is=t}function bC(){if(Is){var t=Is,e=As;if(As=Is=null,cT(t),e)for(t=0;t<e.length;t++)cT(e[t])}}function xC(t,e){return t(e)}function TC(){}var ry=!1;function EC(t,e,n){if(ry)return t(e,n);ry=!0;try{return xC(t,e,n)}finally{ry=!1,(Is!==null||As!==null)&&(TC(),bC())}}function oc(t,e){var n=t.stateNode;if(n===null)return null;var r=um(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Cv=!1;if(di)try{var il={};Object.defineProperty(il,"passive",{get:function(){Cv=!0}}),window.addEventListener("test",il,il),window.removeEventListener("test",il,il)}catch{Cv=!1}function AV(t,e,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Vl=!1,xd=null,Td=!1,kv=null,PV={onError:function(t){Vl=!0,xd=t}};function OV(t,e,n,r,i,o,a,s,u){Vl=!1,xd=null,AV.apply(PV,arguments)}function CV(t,e,n,r,i,o,a,s,u){if(OV.apply(this,arguments),Vl){if(Vl){var l=xd;Vl=!1,xd=null}else throw Error(H(198));Td||(Td=!0,kv=l)}}function La(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function SC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hT(t){if(La(t)!==t)throw Error(H(188))}function kV(t){var e=t.alternate;if(!e){if(e=La(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return hT(i),t;if(o===r)return hT(i),e;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function IC(t){return t=kV(t),t!==null?AC(t):null}function AC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=AC(t);if(e!==null)return e;t=t.sibling}return null}var PC=Ln.unstable_scheduleCallback,fT=Ln.unstable_cancelCallback,RV=Ln.unstable_shouldYield,NV=Ln.unstable_requestPaint,ft=Ln.unstable_now,DV=Ln.unstable_getCurrentPriorityLevel,rw=Ln.unstable_ImmediatePriority,OC=Ln.unstable_UserBlockingPriority,Ed=Ln.unstable_NormalPriority,MV=Ln.unstable_LowPriority,CC=Ln.unstable_IdlePriority,im=null,Rr=null;function $V(t){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(im,t,void 0,(t.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:jV,LV=Math.log,VV=Math.LN2;function jV(t){return t>>>=0,t===0?32:31-(LV(t)/VV|0)|0}var pf=64,mf=4194304;function Pl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Pl(s):(o&=a,o!==0&&(r=Pl(o)))}else a=n&~i,a!==0?r=Pl(a):o!==0&&(r=Pl(o));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-mr(e),i=1<<n,r|=t[n],e&=~i;return r}function FV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-mr(o),s=1<<a,u=i[a];u===-1?((s&n)===0||(s&r)!==0)&&(i[a]=FV(s,e)):u<=e&&(t.expiredLanes|=s),o&=~s}}function Rv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kC(){var t=pf;return pf<<=1,(pf&4194240)===0&&(pf=64),t}function iy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _h(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mr(e),t[e]=n}function BV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-mr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function iw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-mr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Me=0;function RC(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var NC,ow,DC,MC,$C,Nv=!1,gf=[],Zi=null,eo=null,to=null,ac=new Map,sc=new Map,Ui=[],zV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dT(t,e){switch(t){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":to=null;break;case"pointerover":case"pointerout":ac.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sc.delete(e.pointerId)}}function ol(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=bh(e),e!==null&&ow(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function qV(t,e,n,r,i){switch(e){case"focusin":return Zi=ol(Zi,t,e,n,r,i),!0;case"dragenter":return eo=ol(eo,t,e,n,r,i),!0;case"mouseover":return to=ol(to,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ac.set(o,ol(ac.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,sc.set(o,ol(sc.get(o)||null,t,e,n,r,i)),!0}return!1}function LC(t){var e=ta(t.target);if(e!==null){var n=La(e);if(n!==null){if(e=n.tag,e===13){if(e=SC(n),e!==null){t.blockedOn=e,$C(t.priority,function(){DC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Pv=r,n.target.dispatchEvent(r),Pv=null}else return e=bh(n),e!==null&&ow(e),t.blockedOn=n,!1;e.shift()}return!0}function pT(t,e,n){Xf(t)&&n.delete(e)}function WV(){Nv=!1,Zi!==null&&Xf(Zi)&&(Zi=null),eo!==null&&Xf(eo)&&(eo=null),to!==null&&Xf(to)&&(to=null),ac.forEach(pT),sc.forEach(pT)}function al(t,e){t.blockedOn===e&&(t.blockedOn=null,Nv||(Nv=!0,Ln.unstable_scheduleCallback(Ln.unstable_NormalPriority,WV)))}function uc(t){function e(i){return al(i,t)}if(0<gf.length){al(gf[0],t);for(var n=1;n<gf.length;n++){var r=gf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zi!==null&&al(Zi,t),eo!==null&&al(eo,t),to!==null&&al(to,t),ac.forEach(e),sc.forEach(e),n=0;n<Ui.length;n++)r=Ui[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ui.length&&(n=Ui[0],n.blockedOn===null);)LC(n),n.blockedOn===null&&Ui.shift()}var Ps=Ei.ReactCurrentBatchConfig,Id=!0;function GV(t,e,n,r){var i=Me,o=Ps.transition;Ps.transition=null;try{Me=1,aw(t,e,n,r)}finally{Me=i,Ps.transition=o}}function KV(t,e,n,r){var i=Me,o=Ps.transition;Ps.transition=null;try{Me=4,aw(t,e,n,r)}finally{Me=i,Ps.transition=o}}function aw(t,e,n,r){if(Id){var i=Dv(t,e,n,r);if(i===null)py(t,e,r,Ad,n),dT(t,r);else if(qV(i,t,e,n,r))r.stopPropagation();else if(dT(t,r),e&4&&-1<zV.indexOf(t)){for(;i!==null;){var o=bh(i);if(o!==null&&NC(o),o=Dv(t,e,n,r),o===null&&py(t,e,r,Ad,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else py(t,e,r,null,n)}}var Ad=null;function Dv(t,e,n,r){if(Ad=null,t=nw(r),t=ta(t),t!==null)if(e=La(t),e===null)t=null;else if(n=e.tag,n===13){if(t=SC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ad=t,null}function VC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DV()){case rw:return 1;case OC:return 4;case Ed:case MV:return 16;case CC:return 536870912;default:return 16}default:return 16}}var Hi=null,sw=null,Jf=null;function jC(){if(Jf)return Jf;var t,e=sw,n=e.length,r,i="value"in Hi?Hi.value:Hi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Jf=i.slice(t,1<r?1-r:void 0)}function Zf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yf(){return!0}function mT(){return!1}function Fn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?yf:mT,this.isPropagationStopped=mT,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yf)},persist:function(){},isPersistent:yf}),e}var bu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uw=Fn(bu),wh=st({},bu,{view:0,detail:0}),HV=Fn(wh),oy,ay,sl,om=st({},wh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sl&&(sl&&t.type==="mousemove"?(oy=t.screenX-sl.screenX,ay=t.screenY-sl.screenY):ay=oy=0,sl=t),oy)},movementY:function(t){return"movementY"in t?t.movementY:ay}}),gT=Fn(om),QV=st({},om,{dataTransfer:0}),YV=Fn(QV),XV=st({},wh,{relatedTarget:0}),sy=Fn(XV),JV=st({},bu,{animationName:0,elapsedTime:0,pseudoElement:0}),ZV=Fn(JV),ej=st({},bu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tj=Fn(ej),nj=st({},bu,{data:0}),yT=Fn(nj),rj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ij={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=oj[t])?!!e[t]:!1}function lw(){return aj}var sj=st({},wh,{key:function(t){if(t.key){var e=rj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ij[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lw,charCode:function(t){return t.type==="keypress"?Zf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uj=Fn(sj),lj=st({},om,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vT=Fn(lj),cj=st({},wh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lw}),hj=Fn(cj),fj=st({},bu,{propertyName:0,elapsedTime:0,pseudoElement:0}),dj=Fn(fj),pj=st({},om,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mj=Fn(pj),gj=[9,13,27,32],cw=di&&"CompositionEvent"in window,jl=null;di&&"documentMode"in document&&(jl=document.documentMode);var yj=di&&"TextEvent"in window&&!jl,FC=di&&(!cw||jl&&8<jl&&11>=jl),_T=String.fromCharCode(32),wT=!1;function UC(t,e){switch(t){case"keyup":return gj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ps=!1;function vj(t,e){switch(t){case"compositionend":return BC(e);case"keypress":return e.which!==32?null:(wT=!0,_T);case"textInput":return t=e.data,t===_T&&wT?null:t;default:return null}}function _j(t,e){if(ps)return t==="compositionend"||!cw&&UC(t,e)?(t=jC(),Jf=sw=Hi=null,ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return FC&&e.locale!=="ko"?null:e.data;default:return null}}var wj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wj[t.type]:e==="textarea"}function zC(t,e,n,r){wC(r),e=Pd(e,"onChange"),0<e.length&&(n=new uw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Fl=null,lc=null;function bj(t){ek(t,0)}function am(t){var e=ys(t);if(dC(e))return t}function xj(t,e){if(t==="change")return e}var qC=!1;if(di){var uy;if(di){var ly="oninput"in document;if(!ly){var xT=document.createElement("div");xT.setAttribute("oninput","return;"),ly=typeof xT.oninput=="function"}uy=ly}else uy=!1;qC=uy&&(!document.documentMode||9<document.documentMode)}function TT(){Fl&&(Fl.detachEvent("onpropertychange",WC),lc=Fl=null)}function WC(t){if(t.propertyName==="value"&&am(lc)){var e=[];zC(e,lc,t,nw(t)),EC(bj,e)}}function Tj(t,e,n){t==="focusin"?(TT(),Fl=e,lc=n,Fl.attachEvent("onpropertychange",WC)):t==="focusout"&&TT()}function Ej(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return am(lc)}function Sj(t,e){if(t==="click")return am(e)}function Ij(t,e){if(t==="input"||t==="change")return am(e)}function Aj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wr=typeof Object.is=="function"?Object.is:Aj;function cc(t,e){if(wr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!gv.call(e,i)||!wr(t[i],e[i]))return!1}return!0}function ET(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ST(t,e){var n=ET(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ET(n)}}function GC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?GC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function KC(){for(var t=window,e=bd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bd(t.document)}return e}function hw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Pj(t){var e=KC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&GC(n.ownerDocument.documentElement,n)){if(r!==null&&hw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=ST(n,o);var a=ST(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Oj=di&&"documentMode"in document&&11>=document.documentMode,ms=null,Mv=null,Ul=null,$v=!1;function IT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$v||ms==null||ms!==bd(r)||(r=ms,"selectionStart"in r&&hw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ul&&cc(Ul,r)||(Ul=r,r=Pd(Mv,"onSelect"),0<r.length&&(e=new uw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ms)))}function vf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gs={animationend:vf("Animation","AnimationEnd"),animationiteration:vf("Animation","AnimationIteration"),animationstart:vf("Animation","AnimationStart"),transitionend:vf("Transition","TransitionEnd")},cy={},HC={};di&&(HC=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function sm(t){if(cy[t])return cy[t];if(!gs[t])return t;var e=gs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in HC)return cy[t]=e[n];return t}var QC=sm("animationend"),YC=sm("animationiteration"),XC=sm("animationstart"),JC=sm("transitionend"),ZC=new Map,AT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function To(t,e){ZC.set(t,e),$a(e,[t])}for(var hy=0;hy<AT.length;hy++){var fy=AT[hy],Cj=fy.toLowerCase(),kj=fy[0].toUpperCase()+fy.slice(1);To(Cj,"on"+kj)}To(QC,"onAnimationEnd");To(YC,"onAnimationIteration");To(XC,"onAnimationStart");To("dblclick","onDoubleClick");To("focusin","onFocus");To("focusout","onBlur");To(JC,"onTransitionEnd");Vs("onMouseEnter",["mouseout","mouseover"]);Vs("onMouseLeave",["mouseout","mouseover"]);Vs("onPointerEnter",["pointerout","pointerover"]);Vs("onPointerLeave",["pointerout","pointerover"]);$a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$a("onBeforeInput",["compositionend","keypress","textInput","paste"]);$a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ol));function PT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,CV(r,e,void 0,t),t.currentTarget=null}function ek(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;PT(i,s,l),o=u}else for(a=0;a<r.length;a++){if(s=r[a],u=s.instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;PT(i,s,l),o=u}}}if(Td)throw t=kv,Td=!1,kv=null,t}function He(t,e){var n=e[Uv];n===void 0&&(n=e[Uv]=new Set);var r=t+"__bubble";n.has(r)||(tk(e,t,2,!1),n.add(r))}function dy(t,e,n){var r=0;e&&(r|=4),tk(n,t,r,e)}var _f="_reactListening"+Math.random().toString(36).slice(2);function hc(t){if(!t[_f]){t[_f]=!0,uC.forEach(function(n){n!=="selectionchange"&&(Rj.has(n)||dy(n,!1,t),dy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_f]||(e[_f]=!0,dy("selectionchange",!1,e))}}function tk(t,e,n,r){switch(VC(e)){case 1:var i=GV;break;case 4:i=KV;break;default:i=aw}n=i.bind(null,e,n,t),i=void 0,!Cv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function py(t,e,n,r,i){var o=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;s!==null;){if(a=ta(s),a===null)return;if(u=a.tag,u===5||u===6){r=o=a;continue e}s=s.parentNode}}r=r.return}EC(function(){var l=o,c=nw(n),h=[];e:{var d=ZC.get(t);if(d!==void 0){var p=uw,_=t;switch(t){case"keypress":if(Zf(n)===0)break e;case"keydown":case"keyup":p=uj;break;case"focusin":_="focus",p=sy;break;case"focusout":_="blur",p=sy;break;case"beforeblur":case"afterblur":p=sy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=gT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=YV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=hj;break;case QC:case YC:case XC:p=ZV;break;case JC:p=dj;break;case"scroll":p=HV;break;case"wheel":p=mj;break;case"copy":case"cut":case"paste":p=tj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=vT}var g=(e&4)!==0,v=!g&&t==="scroll",b=g?d!==null?d+"Capture":null:d;g=[];for(var y=l,w;y!==null;){w=y;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,b!==null&&(x=oc(y,b),x!=null&&g.push(fc(y,x,w)))),v)break;y=y.return}0<g.length&&(d=new p(d,_,null,n,c),h.push({event:d,listeners:g}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==Pv&&(_=n.relatedTarget||n.fromElement)&&(ta(_)||_[pi]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=l,_=_?ta(_):null,_!==null&&(v=La(_),_!==v||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=l),p!==_)){if(g=gT,x="onMouseLeave",b="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=vT,x="onPointerLeave",b="onPointerEnter",y="pointer"),v=p==null?d:ys(p),w=_==null?d:ys(_),d=new g(x,y+"leave",p,n,c),d.target=v,d.relatedTarget=w,x=null,ta(c)===l&&(g=new g(b,y+"enter",_,n,c),g.target=w,g.relatedTarget=v,x=g),v=x,p&&_)t:{for(g=p,b=_,y=0,w=g;w;w=Ja(w))y++;for(w=0,x=b;x;x=Ja(x))w++;for(;0<y-w;)g=Ja(g),y--;for(;0<w-y;)b=Ja(b),w--;for(;y--;){if(g===b||b!==null&&g===b.alternate)break t;g=Ja(g),b=Ja(b)}g=null}else g=null;p!==null&&OT(h,d,p,g,!1),_!==null&&v!==null&&OT(h,v,_,g,!0)}}e:{if(d=l?ys(l):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var T=xj;else if(bT(d))if(qC)T=Ij;else{T=Ej;var A=Tj}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=Sj);if(T&&(T=T(t,l))){zC(h,T,n,c);break e}A&&A(t,d,l),t==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&Tv(d,"number",d.value)}switch(A=l?ys(l):window,t){case"focusin":(bT(A)||A.contentEditable==="true")&&(ms=A,Mv=l,Ul=null);break;case"focusout":Ul=Mv=ms=null;break;case"mousedown":$v=!0;break;case"contextmenu":case"mouseup":case"dragend":$v=!1,IT(h,n,c);break;case"selectionchange":if(Oj)break;case"keydown":case"keyup":IT(h,n,c)}var I;if(cw)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ps?UC(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(FC&&n.locale!=="ko"&&(ps||E!=="onCompositionStart"?E==="onCompositionEnd"&&ps&&(I=jC()):(Hi=c,sw="value"in Hi?Hi.value:Hi.textContent,ps=!0)),A=Pd(l,E),0<A.length&&(E=new yT(E,t,null,n,c),h.push({event:E,listeners:A}),I?E.data=I:(I=BC(n),I!==null&&(E.data=I)))),(I=yj?vj(t,n):_j(t,n))&&(l=Pd(l,"onBeforeInput"),0<l.length&&(c=new yT("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:l}),c.data=I))}ek(h,e)})}function fc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=oc(t,n),o!=null&&r.unshift(fc(t,o,i)),o=oc(t,e),o!=null&&r.push(fc(t,o,i))),t=t.return}return r}function Ja(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function OT(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(u!==null&&u===r)break;s.tag===5&&l!==null&&(s=l,i?(u=oc(n,o),u!=null&&a.unshift(fc(n,u,s))):i||(u=oc(n,o),u!=null&&a.push(fc(n,u,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Nj=/\r\n?/g,Dj=/\u0000|\uFFFD/g;function CT(t){return(typeof t=="string"?t:""+t).replace(Nj,`
`).replace(Dj,"")}function wf(t,e,n){if(e=CT(e),CT(t)!==e&&n)throw Error(H(425))}function Od(){}var Lv=null,Vv=null;function jv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fv=typeof setTimeout=="function"?setTimeout:void 0,Mj=typeof clearTimeout=="function"?clearTimeout:void 0,kT=typeof Promise=="function"?Promise:void 0,$j=typeof queueMicrotask=="function"?queueMicrotask:typeof kT<"u"?function(t){return kT.resolve(null).then(t).catch(Lj)}:Fv;function Lj(t){setTimeout(function(){throw t})}function my(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),uc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);uc(e)}function no(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function RT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xu=Math.random().toString(36).slice(2),Pr="__reactFiber$"+xu,dc="__reactProps$"+xu,pi="__reactContainer$"+xu,Uv="__reactEvents$"+xu,Vj="__reactListeners$"+xu,jj="__reactHandles$"+xu;function ta(t){var e=t[Pr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pi]||n[Pr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=RT(t);t!==null;){if(n=t[Pr])return n;t=RT(t)}return e}t=n,n=t.parentNode}return null}function bh(t){return t=t[Pr]||t[pi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ys(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function um(t){return t[dc]||null}var Bv=[],vs=-1;function Eo(t){return{current:t}}function Xe(t){0>vs||(t.current=Bv[vs],Bv[vs]=null,vs--)}function ze(t,e){vs++,Bv[vs]=t.current,t.current=e}var go={},nn=Eo(go),xn=Eo(!1),ya=go;function js(t,e){var n=t.type.contextTypes;if(!n)return go;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Tn(t){return t=t.childContextTypes,t!=null}function Cd(){Xe(xn),Xe(nn)}function NT(t,e,n){if(nn.current!==go)throw Error(H(168));ze(nn,e),ze(xn,n)}function nk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,TV(t)||"Unknown",i));return st({},n,r)}function kd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||go,ya=nn.current,ze(nn,t),ze(xn,xn.current),!0}function DT(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=nk(t,e,ya),r.__reactInternalMemoizedMergedChildContext=t,Xe(xn),Xe(nn),ze(nn,t)):Xe(xn),ze(xn,n)}var Qr=null,lm=!1,gy=!1;function rk(t){Qr===null?Qr=[t]:Qr.push(t)}function Fj(t){lm=!0,rk(t)}function So(){if(!gy&&Qr!==null){gy=!0;var t=0,e=Me;try{var n=Qr;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qr=null,lm=!1}catch(i){throw Qr!==null&&(Qr=Qr.slice(t+1)),PC(rw,So),i}finally{Me=e,gy=!1}}return null}var _s=[],ws=0,Rd=null,Nd=0,Gn=[],Kn=0,va=null,Xr=1,Jr="";function qo(t,e){_s[ws++]=Nd,_s[ws++]=Rd,Rd=t,Nd=e}function ik(t,e,n){Gn[Kn++]=Xr,Gn[Kn++]=Jr,Gn[Kn++]=va,va=t;var r=Xr;t=Jr;var i=32-mr(r)-1;r&=~(1<<i),n+=1;var o=32-mr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xr=1<<32-mr(e)+i|n<<i|r,Jr=o+t}else Xr=1<<o|n<<i|r,Jr=t}function fw(t){t.return!==null&&(qo(t,1),ik(t,1,0))}function dw(t){for(;t===Rd;)Rd=_s[--ws],_s[ws]=null,Nd=_s[--ws],_s[ws]=null;for(;t===va;)va=Gn[--Kn],Gn[Kn]=null,Jr=Gn[--Kn],Gn[Kn]=null,Xr=Gn[--Kn],Gn[Kn]=null}var Nn=null,kn=null,Ze=!1,hr=null;function ok(t,e){var n=Qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function MT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nn=t,kn=no(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nn=t,kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=va!==null?{id:Xr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nn=t,kn=null,!0):!1;default:return!1}}function zv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qv(t){if(Ze){var e=kn;if(e){var n=e;if(!MT(t,e)){if(zv(t))throw Error(H(418));e=no(n.nextSibling);var r=Nn;e&&MT(t,e)?ok(r,n):(t.flags=t.flags&-4097|2,Ze=!1,Nn=t)}}else{if(zv(t))throw Error(H(418));t.flags=t.flags&-4097|2,Ze=!1,Nn=t}}}function $T(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nn=t}function bf(t){if(t!==Nn)return!1;if(!Ze)return $T(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jv(t.type,t.memoizedProps)),e&&(e=kn)){if(zv(t))throw ak(),Error(H(418));for(;e;)ok(t,e),e=no(e.nextSibling)}if($T(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kn=no(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kn=null}}else kn=Nn?no(t.stateNode.nextSibling):null;return!0}function ak(){for(var t=kn;t;)t=no(t.nextSibling)}function Fs(){kn=Nn=null,Ze=!1}function pw(t){hr===null?hr=[t]:hr.push(t)}var Uj=Ei.ReactCurrentBatchConfig;function ur(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Dd=Eo(null),Md=null,bs=null,mw=null;function gw(){mw=bs=Md=null}function yw(t){var e=Dd.current;Xe(Dd),t._currentValue=e}function Wv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Os(t,e){Md=t,mw=bs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(vn=!0),t.firstContext=null)}function Jn(t){var e=t._currentValue;if(mw!==t)if(t={context:t,memoizedValue:e,next:null},bs===null){if(Md===null)throw Error(H(308));bs=t,Md.dependencies={lanes:0,firstContext:t}}else bs=bs.next=t;return e}var na=null;function vw(t){na===null?na=[t]:na.push(t)}function sk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,vw(e)):(n.next=i.next,i.next=n),e.interleaved=n,mi(t,r)}function mi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ji=!1;function _w(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function si(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ro(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Ie&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,mi(t,n)}return i=r.interleaved,i===null?(e.next=e,vw(r)):(e.next=i.next,i.next=e),r.interleaved=e,mi(t,n)}function ed(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iw(t,n)}}function LT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $d(t,e,n,r){var i=t.updateQueue;ji=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var u=s,l=u.next;u.next=null,a===null?o=l:a.next=l,a=u;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(o!==null){var h=i.baseState;a=0,c=l=u=null,s=o;do{var d=s.lane,p=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var _=t,g=s;switch(d=e,p=n,g.tag){case 1:if(_=g.payload,typeof _=="function"){h=_.call(p,h,d);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=g.payload,d=typeof _=="function"?_.call(p,h,d):_,d==null)break e;h=st({},h,d);break e;case 2:ji=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(l=c=p,u=h):c=c.next=p,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);wa|=a,t.lanes=a,t.memoizedState=h}}function VT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var lk=new sC.Component().refs;function Gv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var cm={isMounted:function(t){return(t=t._reactInternals)?La(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cn(),i=oo(t),o=si(r,i);o.payload=e,n!=null&&(o.callback=n),e=ro(t,o,i),e!==null&&(gr(e,t,i,r),ed(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cn(),i=oo(t),o=si(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ro(t,o,i),e!==null&&(gr(e,t,i,r),ed(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cn(),r=oo(t),i=si(n,r);i.tag=2,e!=null&&(i.callback=e),e=ro(t,i,r),e!==null&&(gr(e,t,r,n),ed(e,t,r))}};function jT(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!cc(n,r)||!cc(i,o):!0}function ck(t,e,n){var r=!1,i=go,o=e.contextType;return typeof o=="object"&&o!==null?o=Jn(o):(i=Tn(e)?ya:nn.current,r=e.contextTypes,o=(r=r!=null)?js(t,i):go),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function FT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&cm.enqueueReplaceState(e,e.state,null)}function Kv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=lk,_w(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Jn(o):(o=Tn(e)?ya:nn.current,i.context=js(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Gv(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&cm.enqueueReplaceState(i,i.state,null),$d(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ul(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;s===lk&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function xf(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function UT(t){var e=t._init;return e(t._payload)}function hk(t){function e(b,y){if(t){var w=b.deletions;w===null?(b.deletions=[y],b.flags|=16):w.push(y)}}function n(b,y){if(!t)return null;for(;y!==null;)e(b,y),y=y.sibling;return null}function r(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function i(b,y){return b=ao(b,y),b.index=0,b.sibling=null,b}function o(b,y,w){return b.index=w,t?(w=b.alternate,w!==null?(w=w.index,w<y?(b.flags|=2,y):w):(b.flags|=2,y)):(b.flags|=1048576,y)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function s(b,y,w,x){return y===null||y.tag!==6?(y=Ty(w,b.mode,x),y.return=b,y):(y=i(y,w),y.return=b,y)}function u(b,y,w,x){var T=w.type;return T===ds?c(b,y,w.props.children,x,w.key):y!==null&&(y.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Vi&&UT(T)===y.type)?(x=i(y,w.props),x.ref=ul(b,y,w),x.return=b,x):(x=ad(w.type,w.key,w.props,null,b.mode,x),x.ref=ul(b,y,w),x.return=b,x)}function l(b,y,w,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Ey(w,b.mode,x),y.return=b,y):(y=i(y,w.children||[]),y.return=b,y)}function c(b,y,w,x,T){return y===null||y.tag!==7?(y=ca(w,b.mode,x,T),y.return=b,y):(y=i(y,w),y.return=b,y)}function h(b,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ty(""+y,b.mode,w),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case hf:return w=ad(y.type,y.key,y.props,null,b.mode,w),w.ref=ul(b,null,y),w.return=b,w;case fs:return y=Ey(y,b.mode,w),y.return=b,y;case Vi:var x=y._init;return h(b,x(y._payload),w)}if(Al(y)||rl(y))return y=ca(y,b.mode,w,null),y.return=b,y;xf(b,y)}return null}function d(b,y,w,x){var T=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:s(b,y,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case hf:return w.key===T?u(b,y,w,x):null;case fs:return w.key===T?l(b,y,w,x):null;case Vi:return T=w._init,d(b,y,T(w._payload),x)}if(Al(w)||rl(w))return T!==null?null:c(b,y,w,x,null);xf(b,w)}return null}function p(b,y,w,x,T){if(typeof x=="string"&&x!==""||typeof x=="number")return b=b.get(w)||null,s(y,b,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case hf:return b=b.get(x.key===null?w:x.key)||null,u(y,b,x,T);case fs:return b=b.get(x.key===null?w:x.key)||null,l(y,b,x,T);case Vi:var A=x._init;return p(b,y,w,A(x._payload),T)}if(Al(x)||rl(x))return b=b.get(w)||null,c(y,b,x,T,null);xf(y,x)}return null}function _(b,y,w,x){for(var T=null,A=null,I=y,E=y=0,P=null;I!==null&&E<w.length;E++){I.index>E?(P=I,I=null):P=I.sibling;var O=d(b,I,w[E],x);if(O===null){I===null&&(I=P);break}t&&I&&O.alternate===null&&e(b,I),y=o(O,y,E),A===null?T=O:A.sibling=O,A=O,I=P}if(E===w.length)return n(b,I),Ze&&qo(b,E),T;if(I===null){for(;E<w.length;E++)I=h(b,w[E],x),I!==null&&(y=o(I,y,E),A===null?T=I:A.sibling=I,A=I);return Ze&&qo(b,E),T}for(I=r(b,I);E<w.length;E++)P=p(I,b,E,w[E],x),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?E:P.key),y=o(P,y,E),A===null?T=P:A.sibling=P,A=P);return t&&I.forEach(function(R){return e(b,R)}),Ze&&qo(b,E),T}function g(b,y,w,x){var T=rl(w);if(typeof T!="function")throw Error(H(150));if(w=T.call(w),w==null)throw Error(H(151));for(var A=T=null,I=y,E=y=0,P=null,O=w.next();I!==null&&!O.done;E++,O=w.next()){I.index>E?(P=I,I=null):P=I.sibling;var R=d(b,I,O.value,x);if(R===null){I===null&&(I=P);break}t&&I&&R.alternate===null&&e(b,I),y=o(R,y,E),A===null?T=R:A.sibling=R,A=R,I=P}if(O.done)return n(b,I),Ze&&qo(b,E),T;if(I===null){for(;!O.done;E++,O=w.next())O=h(b,O.value,x),O!==null&&(y=o(O,y,E),A===null?T=O:A.sibling=O,A=O);return Ze&&qo(b,E),T}for(I=r(b,I);!O.done;E++,O=w.next())O=p(I,b,E,O.value,x),O!==null&&(t&&O.alternate!==null&&I.delete(O.key===null?E:O.key),y=o(O,y,E),A===null?T=O:A.sibling=O,A=O);return t&&I.forEach(function(N){return e(b,N)}),Ze&&qo(b,E),T}function v(b,y,w,x){if(typeof w=="object"&&w!==null&&w.type===ds&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case hf:e:{for(var T=w.key,A=y;A!==null;){if(A.key===T){if(T=w.type,T===ds){if(A.tag===7){n(b,A.sibling),y=i(A,w.props.children),y.return=b,b=y;break e}}else if(A.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Vi&&UT(T)===A.type){n(b,A.sibling),y=i(A,w.props),y.ref=ul(b,A,w),y.return=b,b=y;break e}n(b,A);break}else e(b,A);A=A.sibling}w.type===ds?(y=ca(w.props.children,b.mode,x,w.key),y.return=b,b=y):(x=ad(w.type,w.key,w.props,null,b.mode,x),x.ref=ul(b,y,w),x.return=b,b=x)}return a(b);case fs:e:{for(A=w.key;y!==null;){if(y.key===A)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(b,y.sibling),y=i(y,w.children||[]),y.return=b,b=y;break e}else{n(b,y);break}else e(b,y);y=y.sibling}y=Ey(w,b.mode,x),y.return=b,b=y}return a(b);case Vi:return A=w._init,v(b,y,A(w._payload),x)}if(Al(w))return _(b,y,w,x);if(rl(w))return g(b,y,w,x);xf(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(b,y.sibling),y=i(y,w),y.return=b,b=y):(n(b,y),y=Ty(w,b.mode,x),y.return=b,b=y),a(b)):n(b,y)}return v}var Us=hk(!0),fk=hk(!1),xh={},Nr=Eo(xh),pc=Eo(xh),mc=Eo(xh);function ra(t){if(t===xh)throw Error(H(174));return t}function ww(t,e){switch(ze(mc,e),ze(pc,t),ze(Nr,xh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sv(e,t)}Xe(Nr),ze(Nr,e)}function Bs(){Xe(Nr),Xe(pc),Xe(mc)}function dk(t){ra(mc.current);var e=ra(Nr.current),n=Sv(e,t.type);e!==n&&(ze(pc,t),ze(Nr,n))}function bw(t){pc.current===t&&(Xe(Nr),Xe(pc))}var rt=Eo(0);function Ld(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yy=[];function xw(){for(var t=0;t<yy.length;t++)yy[t]._workInProgressVersionPrimary=null;yy.length=0}var td=Ei.ReactCurrentDispatcher,vy=Ei.ReactCurrentBatchConfig,_a=0,ot=null,bt=null,Ot=null,Vd=!1,Bl=!1,gc=0,Bj=0;function Ht(){throw Error(H(321))}function Tw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wr(t[n],e[n]))return!1;return!0}function Ew(t,e,n,r,i,o){if(_a=o,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,td.current=t===null||t.memoizedState===null?Gj:Kj,t=n(r,i),Bl){o=0;do{if(Bl=!1,gc=0,25<=o)throw Error(H(301));o+=1,Ot=bt=null,e.updateQueue=null,td.current=Hj,t=n(r,i)}while(Bl)}if(td.current=jd,e=bt!==null&&bt.next!==null,_a=0,Ot=bt=ot=null,Vd=!1,e)throw Error(H(300));return t}function Sw(){var t=gc!==0;return gc=0,t}function Ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ot.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function Zn(){if(bt===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var e=Ot===null?ot.memoizedState:Ot.next;if(e!==null)Ot=e,bt=t;else{if(t===null)throw Error(H(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Ot===null?ot.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function yc(t,e){return typeof e=="function"?e(t):e}function _y(t){var e=Zn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=bt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,u=null,l=o;do{var c=l.lane;if((_a&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var h={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(s=u=h,a=r):u=u.next=h,ot.lanes|=c,wa|=c}l=l.next}while(l!==null&&l!==o);u===null?a=r:u.next=s,wr(r,e.memoizedState)||(vn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ot.lanes|=o,wa|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wy(t){var e=Zn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);wr(o,e.memoizedState)||(vn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function pk(){}function mk(t,e){var n=ot,r=Zn(),i=e(),o=!wr(r.memoizedState,i);if(o&&(r.memoizedState=i,vn=!0),r=r.queue,Iw(vk.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ot!==null&&Ot.memoizedState.tag&1){if(n.flags|=2048,vc(9,yk.bind(null,n,r,i,e),void 0,null),Rt===null)throw Error(H(349));(_a&30)!==0||gk(n,e,i)}return i}function gk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function yk(t,e,n,r){e.value=n,e.getSnapshot=r,_k(e)&&wk(t)}function vk(t,e,n){return n(function(){_k(e)&&wk(t)})}function _k(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wr(t,n)}catch{return!0}}function wk(t){var e=mi(t,1);e!==null&&gr(e,t,1,-1)}function BT(t){var e=Ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yc,lastRenderedState:t},e.queue=t,t=t.dispatch=Wj.bind(null,ot,t),[e.memoizedState,t]}function vc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function bk(){return Zn().memoizedState}function nd(t,e,n,r){var i=Ir();ot.flags|=t,i.memoizedState=vc(1|e,n,void 0,r===void 0?null:r)}function hm(t,e,n,r){var i=Zn();r=r===void 0?null:r;var o=void 0;if(bt!==null){var a=bt.memoizedState;if(o=a.destroy,r!==null&&Tw(r,a.deps)){i.memoizedState=vc(e,n,o,r);return}}ot.flags|=t,i.memoizedState=vc(1|e,n,o,r)}function zT(t,e){return nd(8390656,8,t,e)}function Iw(t,e){return hm(2048,8,t,e)}function xk(t,e){return hm(4,2,t,e)}function Tk(t,e){return hm(4,4,t,e)}function Ek(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Sk(t,e,n){return n=n!=null?n.concat([t]):null,hm(4,4,Ek.bind(null,e,t),n)}function Aw(){}function Ik(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ak(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Pk(t,e,n){return(_a&21)===0?(t.baseState&&(t.baseState=!1,vn=!0),t.memoizedState=n):(wr(n,e)||(n=kC(),ot.lanes|=n,wa|=n,t.baseState=!0),e)}function zj(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=vy.transition;vy.transition={};try{t(!1),e()}finally{Me=n,vy.transition=r}}function Ok(){return Zn().memoizedState}function qj(t,e,n){var r=oo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ck(t))kk(e,n);else if(n=sk(t,e,n,r),n!==null){var i=cn();gr(n,t,r,i),Rk(n,e,r)}}function Wj(t,e,n){var r=oo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ck(t))kk(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,wr(s,a)){var u=e.interleaved;u===null?(i.next=i,vw(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=sk(t,e,i,r),n!==null&&(i=cn(),gr(n,t,r,i),Rk(n,e,r))}}function Ck(t){var e=t.alternate;return t===ot||e!==null&&e===ot}function kk(t,e){Bl=Vd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Rk(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iw(t,n)}}var jd={readContext:Jn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},Gj={readContext:Jn,useCallback:function(t,e){return Ir().memoizedState=[t,e===void 0?null:e],t},useContext:Jn,useEffect:zT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nd(4194308,4,Ek.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nd(4194308,4,t,e)},useInsertionEffect:function(t,e){return nd(4,2,t,e)},useMemo:function(t,e){var n=Ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=qj.bind(null,ot,t),[r.memoizedState,t]},useRef:function(t){var e=Ir();return t={current:t},e.memoizedState=t},useState:BT,useDebugValue:Aw,useDeferredValue:function(t){return Ir().memoizedState=t},useTransition:function(){var t=BT(!1),e=t[0];return t=zj.bind(null,t[1]),Ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ot,i=Ir();if(Ze){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),Rt===null)throw Error(H(349));(_a&30)!==0||gk(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,zT(vk.bind(null,r,o,t),[t]),r.flags|=2048,vc(9,yk.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ir(),e=Rt.identifierPrefix;if(Ze){var n=Jr,r=Xr;n=(r&~(1<<32-mr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Bj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Kj={readContext:Jn,useCallback:Ik,useContext:Jn,useEffect:Iw,useImperativeHandle:Sk,useInsertionEffect:xk,useLayoutEffect:Tk,useMemo:Ak,useReducer:_y,useRef:bk,useState:function(){return _y(yc)},useDebugValue:Aw,useDeferredValue:function(t){var e=Zn();return Pk(e,bt.memoizedState,t)},useTransition:function(){var t=_y(yc)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:pk,useSyncExternalStore:mk,useId:Ok,unstable_isNewReconciler:!1},Hj={readContext:Jn,useCallback:Ik,useContext:Jn,useEffect:Iw,useImperativeHandle:Sk,useInsertionEffect:xk,useLayoutEffect:Tk,useMemo:Ak,useReducer:wy,useRef:bk,useState:function(){return wy(yc)},useDebugValue:Aw,useDeferredValue:function(t){var e=Zn();return bt===null?e.memoizedState=t:Pk(e,bt.memoizedState,t)},useTransition:function(){var t=wy(yc)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:pk,useSyncExternalStore:mk,useId:Ok,unstable_isNewReconciler:!1};function zs(t,e){try{var n="",r=e;do n+=xV(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function by(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function Hv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Qj=typeof WeakMap=="function"?WeakMap:Map;function Nk(t,e,n){n=si(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ud||(Ud=!0,i0=r),Hv(t,e)},n}function Dk(t,e,n){n=si(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Hv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Hv(t,e),typeof r!="function"&&(io===null?io=new Set([this]):io.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function qT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Qj;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=lF.bind(null,t,e,n),e.then(t,t))}function WT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function GT(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=si(-1,1),e.tag=2,ro(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var Yj=Ei.ReactCurrentOwner,vn=!1;function sn(t,e,n,r){e.child=t===null?fk(e,null,n,r):Us(e,t.child,n,r)}function KT(t,e,n,r,i){n=n.render;var o=e.ref;return Os(e,i),r=Ew(t,e,n,r,o,i),n=Sw(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gi(t,e,i)):(Ze&&n&&fw(e),e.flags|=1,sn(t,e,r,i),e.child)}function HT(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Mw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Mk(t,e,o,r,i)):(t=ad(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,(t.lanes&i)===0){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:cc,n(a,r)&&t.ref===e.ref)return gi(t,e,i)}return e.flags|=1,t=ao(o,r),t.ref=e.ref,t.return=e,e.child=t}function Mk(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(cc(o,r)&&t.ref===e.ref)if(vn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)(t.flags&131072)!==0&&(vn=!0);else return e.lanes=t.lanes,gi(t,e,i)}return Qv(t,e,n,r,i)}function $k(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Ts,Pn),Pn|=n;else{if((n&1073741824)===0)return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(Ts,Pn),Pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ze(Ts,Pn),Pn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ze(Ts,Pn),Pn|=r;return sn(t,e,i,n),e.child}function Lk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qv(t,e,n,r,i){var o=Tn(n)?ya:nn.current;return o=js(e,o),Os(e,i),n=Ew(t,e,n,r,o,i),r=Sw(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gi(t,e,i)):(Ze&&r&&fw(e),e.flags|=1,sn(t,e,n,i),e.child)}function QT(t,e,n,r,i){if(Tn(n)){var o=!0;kd(e)}else o=!1;if(Os(e,i),e.stateNode===null)rd(t,e),ck(e,n,r),Kv(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,l=n.contextType;typeof l=="object"&&l!==null?l=Jn(l):(l=Tn(n)?ya:nn.current,l=js(e,l));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||u!==l)&&FT(e,a,r,l),ji=!1;var d=e.memoizedState;a.state=d,$d(e,r,a,i),u=e.memoizedState,s!==r||d!==u||xn.current||ji?(typeof c=="function"&&(Gv(e,n,c,r),u=e.memoizedState),(s=ji||jT(e,n,s,r,d,u,l))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,uk(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:ur(e.type,s),a.props=l,h=e.pendingProps,d=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Jn(u):(u=Tn(n)?ya:nn.current,u=js(e,u));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==h||d!==u)&&FT(e,a,r,u),ji=!1,d=e.memoizedState,a.state=d,$d(e,r,a,i);var _=e.memoizedState;s!==h||d!==_||xn.current||ji?(typeof p=="function"&&(Gv(e,n,p,r),_=e.memoizedState),(l=ji||jT(e,n,l,r,d,_,u)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,_,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,_,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),a.props=r,a.state=_,a.context=u,r=l):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Yv(t,e,n,r,o,i)}function Yv(t,e,n,r,i,o){Lk(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&DT(e,n,!1),gi(t,e,o);r=e.stateNode,Yj.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Us(e,t.child,null,o),e.child=Us(e,null,s,o)):sn(t,e,s,o),e.memoizedState=r.state,i&&DT(e,n,!0),e.child}function Vk(t){var e=t.stateNode;e.pendingContext?NT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&NT(t,e.context,!1),ww(t,e.containerInfo)}function YT(t,e,n,r,i){return Fs(),pw(i),e.flags|=256,sn(t,e,n,r),e.child}var Xv={dehydrated:null,treeContext:null,retryLane:0};function Jv(t){return{baseLanes:t,cachePool:null,transitions:null}}function jk(t,e,n){var r=e.pendingProps,i=rt.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ze(rt,i&1),t===null)return qv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=a):o=pm(a,r,0,null),t=ca(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Jv(n),e.memoizedState=Xv,t):Pw(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Xj(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var u={mode:"hidden",children:r.children};return(a&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ao(i,u),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=ao(s,o):(o=ca(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Jv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Xv,r}return o=t.child,t=o.sibling,r=ao(o,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Pw(t,e){return e=pm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tf(t,e,n,r){return r!==null&&pw(r),Us(e,t.child,null,n),t=Pw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Xj(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=by(Error(H(422))),Tf(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=pm({mode:"visible",children:r.children},i,0,null),o=ca(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,(e.mode&1)!==0&&Us(e,t.child,null,a),e.child.memoizedState=Jv(a),e.memoizedState=Xv,o);if((e.mode&1)===0)return Tf(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(H(419)),r=by(o,r,void 0),Tf(t,e,a,r)}if(s=(a&t.childLanes)!==0,vn||s){if(r=Rt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|a))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,mi(t,i),gr(r,t,i,-1))}return Dw(),r=by(Error(H(421))),Tf(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=cF.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,kn=no(i.nextSibling),Nn=e,Ze=!0,hr=null,t!==null&&(Gn[Kn++]=Xr,Gn[Kn++]=Jr,Gn[Kn++]=va,Xr=t.id,Jr=t.overflow,va=e),e=Pw(e,r.children),e.flags|=4096,e)}function XT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wv(t.return,e,n)}function xy(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Fk(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(sn(t,e,r.children,n),r=rt.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&XT(t,n,e);else if(t.tag===19)XT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze(rt,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ld(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xy(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ld(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xy(e,!0,n,null,o);break;case"together":xy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rd(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wa|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=ao(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ao(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Jj(t,e,n){switch(e.tag){case 3:Vk(e),Fs();break;case 5:dk(e);break;case 1:Tn(e.type)&&kd(e);break;case 4:ww(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ze(Dd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze(rt,rt.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?jk(t,e,n):(ze(rt,rt.current&1),t=gi(t,e,n),t!==null?t.sibling:null);ze(rt,rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return Fk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,$k(t,e,n)}return gi(t,e,n)}var Uk,Zv,Bk,zk;Uk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zv=function(){};Bk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ra(Nr.current);var o=null;switch(n){case"input":i=bv(t,i),r=bv(t,r),o=[];break;case"select":i=st({},i,{value:void 0}),r=st({},r,{value:void 0}),o=[];break;case"textarea":i=Ev(t,i),r=Ev(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Od)}Iv(n,r);var a;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(rc.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var u=r[l];if(s=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==s&&(u!=null||s!=null))if(l==="style")if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(o=o||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(rc.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&He("scroll",t),o||s===u||(o=[])):(o=o||[]).push(l,u))}n&&(o=o||[]).push("style",n);var l=o;(e.updateQueue=l)&&(e.flags|=4)}};zk=function(t,e,n,r){n!==r&&(e.flags|=4)};function ll(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Zj(t,e,n){var r=e.pendingProps;switch(dw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(e),null;case 1:return Tn(e.type)&&Cd(),Qt(e),null;case 3:return r=e.stateNode,Bs(),Xe(xn),Xe(nn),xw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,hr!==null&&(s0(hr),hr=null))),Zv(t,e),Qt(e),null;case 5:bw(e);var i=ra(mc.current);if(n=e.type,t!==null&&e.stateNode!=null)Bk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Qt(e),null}if(t=ra(Nr.current),bf(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Pr]=e,r[dc]=o,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<Ol.length;i++)He(Ol[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":aT(r,o),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},He("invalid",r);break;case"textarea":uT(r,o),He("invalid",r)}Iv(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&wf(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&wf(r.textContent,s,t),i=["children",""+s]):rc.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&He("scroll",r)}switch(n){case"input":ff(r),sT(r,o,!0);break;case"textarea":ff(r),lT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Od)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Pr]=e,t[dc]=r,Uk(t,e,!1,!1),e.stateNode=t;e:{switch(a=Av(n,r),n){case"dialog":He("cancel",t),He("close",t),i=r;break;case"iframe":case"object":case"embed":He("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ol.length;i++)He(Ol[i],t);i=r;break;case"source":He("error",t),i=r;break;case"img":case"image":case"link":He("error",t),He("load",t),i=r;break;case"details":He("toggle",t),i=r;break;case"input":aT(t,r),i=bv(t,r),He("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=st({},r,{value:void 0}),He("invalid",t);break;case"textarea":uT(t,r),i=Ev(t,r),He("invalid",t);break;default:i=r}Iv(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="style"?_C(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&yC(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ic(t,u):typeof u=="number"&&ic(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(rc.hasOwnProperty(o)?u!=null&&o==="onScroll"&&He("scroll",t):u!=null&&J_(t,o,u,a))}switch(n){case"input":ff(t),sT(t,r,!1);break;case"textarea":ff(t),lT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+mo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ss(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ss(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Od)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qt(e),null;case 6:if(t&&e.stateNode!=null)zk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=ra(mc.current),ra(Nr.current),bf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Pr]=e,(o=r.nodeValue!==n)&&(t=Nn,t!==null))switch(t.tag){case 3:wf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wf(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pr]=e,e.stateNode=r}return Qt(e),null;case 13:if(Xe(rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&kn!==null&&(e.mode&1)!==0&&(e.flags&128)===0)ak(),Fs(),e.flags|=98560,o=!1;else if(o=bf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(H(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[Pr]=e}else Fs(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Qt(e),o=!1}else hr!==null&&(s0(hr),hr=null),o=!0;if(!o)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(rt.current&1)!==0?xt===0&&(xt=3):Dw())),e.updateQueue!==null&&(e.flags|=4),Qt(e),null);case 4:return Bs(),Zv(t,e),t===null&&hc(e.stateNode.containerInfo),Qt(e),null;case 10:return yw(e.type._context),Qt(e),null;case 17:return Tn(e.type)&&Cd(),Qt(e),null;case 19:if(Xe(rt),o=e.memoizedState,o===null)return Qt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)ll(o,!1);else{if(xt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(a=Ld(t),a!==null){for(e.flags|=128,ll(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(rt,rt.current&1|2),e.child}t=t.sibling}o.tail!==null&&ft()>qs&&(e.flags|=128,r=!0,ll(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ld(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ll(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ze)return Qt(e),null}else 2*ft()-o.renderingStartTime>qs&&n!==1073741824&&(e.flags|=128,r=!0,ll(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ft(),e.sibling=null,n=rt.current,ze(rt,r?n&1|2:n&1),e):(Qt(e),null);case 22:case 23:return Nw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(Pn&1073741824)!==0&&(Qt(e),e.subtreeFlags&6&&(e.flags|=8192)):Qt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function eF(t,e){switch(dw(e),e.tag){case 1:return Tn(e.type)&&Cd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bs(),Xe(xn),Xe(nn),xw(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return bw(e),null;case 13:if(Xe(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Fs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(rt),null;case 4:return Bs(),null;case 10:return yw(e.type._context),null;case 22:case 23:return Nw(),null;case 24:return null;default:return null}}var Ef=!1,Jt=!1,tF=typeof WeakSet=="function"?WeakSet:Set,ie=null;function xs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lt(t,e,r)}else n.current=null}function e0(t,e,n){try{n()}catch(r){lt(t,e,r)}}var JT=!1;function nF(t,e){if(Lv=Id,t=KC(),hw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,u=-1,l=0,c=0,h=t,d=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(s=a+i),h!==o||r!==0&&h.nodeType!==3||(u=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===n&&++l===i&&(s=a),d===o&&++c===r&&(u=a),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=s===-1||u===-1?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vv={focusedElem:t,selectionRange:n},Id=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var _=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var g=_.memoizedProps,v=_.memoizedState,b=e.stateNode,y=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:ur(e.type,g),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(x){lt(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return _=JT,JT=!1,_}function zl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&e0(e,n,o)}i=i.next}while(i!==r)}}function fm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function t0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function qk(t){var e=t.alternate;e!==null&&(t.alternate=null,qk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pr],delete e[dc],delete e[Uv],delete e[Vj],delete e[jj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Wk(t){return t.tag===5||t.tag===3||t.tag===4}function ZT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function n0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Od));else if(r!==4&&(t=t.child,t!==null))for(n0(t,e,n),t=t.sibling;t!==null;)n0(t,e,n),t=t.sibling}function r0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(r0(t,e,n),t=t.sibling;t!==null;)r0(t,e,n),t=t.sibling}var jt=null,lr=!1;function Ni(t,e,n){for(n=n.child;n!==null;)Gk(t,e,n),n=n.sibling}function Gk(t,e,n){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(im,n)}catch{}switch(n.tag){case 5:Jt||xs(n,e);case 6:var r=jt,i=lr;jt=null,Ni(t,e,n),jt=r,lr=i,jt!==null&&(lr?(t=jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(lr?(t=jt,n=n.stateNode,t.nodeType===8?my(t.parentNode,n):t.nodeType===1&&my(t,n),uc(t)):my(jt,n.stateNode));break;case 4:r=jt,i=lr,jt=n.stateNode.containerInfo,lr=!0,Ni(t,e,n),jt=r,lr=i;break;case 0:case 11:case 14:case 15:if(!Jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&((o&2)!==0||(o&4)!==0)&&e0(n,e,a),i=i.next}while(i!==r)}Ni(t,e,n);break;case 1:if(!Jt&&(xs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){lt(n,e,s)}Ni(t,e,n);break;case 21:Ni(t,e,n);break;case 22:n.mode&1?(Jt=(r=Jt)||n.memoizedState!==null,Ni(t,e,n),Jt=r):Ni(t,e,n);break;default:Ni(t,e,n)}}function eE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new tF),e.forEach(function(r){var i=hF.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ar(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:jt=s.stateNode,lr=!1;break e;case 3:jt=s.stateNode.containerInfo,lr=!0;break e;case 4:jt=s.stateNode.containerInfo,lr=!0;break e}s=s.return}if(jt===null)throw Error(H(160));Gk(o,a,i),jt=null,lr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){lt(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Kk(e,t),e=e.sibling}function Kk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ar(e,t),Er(t),r&4){try{zl(3,t,t.return),fm(3,t)}catch(g){lt(t,t.return,g)}try{zl(5,t,t.return)}catch(g){lt(t,t.return,g)}}break;case 1:ar(e,t),Er(t),r&512&&n!==null&&xs(n,n.return);break;case 5:if(ar(e,t),Er(t),r&512&&n!==null&&xs(n,n.return),t.flags&32){var i=t.stateNode;try{ic(i,"")}catch(g){lt(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&pC(i,o),Av(s,a);var l=Av(s,o);for(a=0;a<u.length;a+=2){var c=u[a],h=u[a+1];c==="style"?_C(i,h):c==="dangerouslySetInnerHTML"?yC(i,h):c==="children"?ic(i,h):J_(i,c,h,l)}switch(s){case"input":xv(i,o);break;case"textarea":mC(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Ss(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?Ss(i,!!o.multiple,o.defaultValue,!0):Ss(i,!!o.multiple,o.multiple?[]:"",!1))}i[dc]=o}catch(g){lt(t,t.return,g)}}break;case 6:if(ar(e,t),Er(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){lt(t,t.return,g)}}break;case 3:if(ar(e,t),Er(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{uc(e.containerInfo)}catch(g){lt(t,t.return,g)}break;case 4:ar(e,t),Er(t);break;case 13:ar(e,t),Er(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(kw=ft())),r&4&&eE(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Jt=(l=Jt)||c,ar(e,t),Jt=l):ar(e,t),Er(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&(t.mode&1)!==0)for(ie=t,c=t.child;c!==null;){for(h=ie=c;ie!==null;){switch(d=ie,p=d.child,d.tag){case 0:case 11:case 14:case 15:zl(4,d,d.return);break;case 1:xs(d,d.return);var _=d.stateNode;if(typeof _.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(g){lt(r,n,g)}}break;case 5:xs(d,d.return);break;case 22:if(d.memoizedState!==null){nE(h);continue}}p!==null?(p.return=d,ie=p):nE(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=vC("display",a))}catch(g){lt(t,t.return,g)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(g){lt(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ar(e,t),Er(t),r&4&&eE(t);break;case 21:break;default:ar(e,t),Er(t)}}function Er(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Wk(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ic(i,""),r.flags&=-33);var o=ZT(t);r0(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=ZT(t);n0(t,s,a);break;default:throw Error(H(161))}}catch(u){lt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rF(t,e,n){ie=t,Hk(t)}function Hk(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Ef;if(!a){var s=i.alternate,u=s!==null&&s.memoizedState!==null||Jt;s=Ef;var l=Jt;if(Ef=a,(Jt=u)&&!l)for(ie=i;ie!==null;)a=ie,u=a.child,a.tag===22&&a.memoizedState!==null?rE(i):u!==null?(u.return=a,ie=u):rE(i);for(;o!==null;)ie=o,Hk(o),o=o.sibling;ie=i,Ef=s,Jt=l}tE(t)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,ie=o):tE(t)}}function tE(t){for(;ie!==null;){var e=ie;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Jt||fm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ur(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&VT(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}VT(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&uc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Jt||e.flags&512&&t0(e)}catch(d){lt(e,e.return,d)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function nE(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function rE(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fm(4,e)}catch(u){lt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){lt(e,i,u)}}var o=e.return;try{t0(e)}catch(u){lt(e,o,u)}break;case 5:var a=e.return;try{t0(e)}catch(u){lt(e,a,u)}}}catch(u){lt(e,e.return,u)}if(e===t){ie=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ie=s;break}ie=e.return}}var iF=Math.ceil,Fd=Ei.ReactCurrentDispatcher,Ow=Ei.ReactCurrentOwner,Xn=Ei.ReactCurrentBatchConfig,Ie=0,Rt=null,yt=null,Bt=0,Pn=0,Ts=Eo(0),xt=0,_c=null,wa=0,dm=0,Cw=0,ql=null,yn=null,kw=0,qs=1/0,Hr=null,Ud=!1,i0=null,io=null,Sf=!1,Qi=null,Bd=0,Wl=0,o0=null,id=-1,od=0;function cn(){return(Ie&6)!==0?ft():id!==-1?id:id=ft()}function oo(t){return(t.mode&1)===0?1:(Ie&2)!==0&&Bt!==0?Bt&-Bt:Uj.transition!==null?(od===0&&(od=kC()),od):(t=Me,t!==0||(t=window.event,t=t===void 0?16:VC(t.type)),t)}function gr(t,e,n,r){if(50<Wl)throw Wl=0,o0=null,Error(H(185));_h(t,n,r),((Ie&2)===0||t!==Rt)&&(t===Rt&&((Ie&2)===0&&(dm|=n),xt===4&&Bi(t,Bt)),En(t,r),n===1&&Ie===0&&(e.mode&1)===0&&(qs=ft()+500,lm&&So()))}function En(t,e){var n=t.callbackNode;UV(t,e);var r=Sd(t,t===Rt?Bt:0);if(r===0)n!==null&&fT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&fT(n),e===1)t.tag===0?Fj(iE.bind(null,t)):rk(iE.bind(null,t)),$j(function(){(Ie&6)===0&&So()}),n=null;else{switch(RC(r)){case 1:n=rw;break;case 4:n=OC;break;case 16:n=Ed;break;case 536870912:n=CC;break;default:n=Ed}n=nR(n,Qk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Qk(t,e){if(id=-1,od=0,(Ie&6)!==0)throw Error(H(327));var n=t.callbackNode;if(Cs()&&t.callbackNode!==n)return null;var r=Sd(t,t===Rt?Bt:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=zd(t,r);else{e=r;var i=Ie;Ie|=2;var o=Xk();(Rt!==t||Bt!==e)&&(Hr=null,qs=ft()+500,la(t,e));do try{sF();break}catch(s){Yk(t,s)}while(1);gw(),Fd.current=o,Ie=i,yt!==null?e=0:(Rt=null,Bt=0,e=xt)}if(e!==0){if(e===2&&(i=Rv(t),i!==0&&(r=i,e=a0(t,i))),e===1)throw n=_c,la(t,0),Bi(t,r),En(t,ft()),n;if(e===6)Bi(t,r);else{if(i=t.current.alternate,(r&30)===0&&!oF(i)&&(e=zd(t,r),e===2&&(o=Rv(t),o!==0&&(r=o,e=a0(t,o))),e===1))throw n=_c,la(t,0),Bi(t,r),En(t,ft()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Wo(t,yn,Hr);break;case 3:if(Bi(t,r),(r&130023424)===r&&(e=kw+500-ft(),10<e)){if(Sd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){cn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Fv(Wo.bind(null,t,yn,Hr),e);break}Wo(t,yn,Hr);break;case 4:if(Bi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-mr(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iF(r/1960))-r,10<r){t.timeoutHandle=Fv(Wo.bind(null,t,yn,Hr),r);break}Wo(t,yn,Hr);break;case 5:Wo(t,yn,Hr);break;default:throw Error(H(329))}}}return En(t,ft()),t.callbackNode===n?Qk.bind(null,t):null}function a0(t,e){var n=ql;return t.current.memoizedState.isDehydrated&&(la(t,e).flags|=256),t=zd(t,e),t!==2&&(e=yn,yn=n,e!==null&&s0(e)),t}function s0(t){yn===null?yn=t:yn.push.apply(yn,t)}function oF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!wr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bi(t,e){for(e&=~Cw,e&=~dm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-mr(e),r=1<<n;t[n]=-1,e&=~r}}function iE(t){if((Ie&6)!==0)throw Error(H(327));Cs();var e=Sd(t,0);if((e&1)===0)return En(t,ft()),null;var n=zd(t,e);if(t.tag!==0&&n===2){var r=Rv(t);r!==0&&(e=r,n=a0(t,r))}if(n===1)throw n=_c,la(t,0),Bi(t,e),En(t,ft()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wo(t,yn,Hr),En(t,ft()),null}function Rw(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(qs=ft()+500,lm&&So())}}function ba(t){Qi!==null&&Qi.tag===0&&(Ie&6)===0&&Cs();var e=Ie;Ie|=1;var n=Xn.transition,r=Me;try{if(Xn.transition=null,Me=1,t)return t()}finally{Me=r,Xn.transition=n,Ie=e,(Ie&6)===0&&So()}}function Nw(){Pn=Ts.current,Xe(Ts)}function la(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Mj(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(dw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cd();break;case 3:Bs(),Xe(xn),Xe(nn),xw();break;case 5:bw(r);break;case 4:Bs();break;case 13:Xe(rt);break;case 19:Xe(rt);break;case 10:yw(r.type._context);break;case 22:case 23:Nw()}n=n.return}if(Rt=t,yt=t=ao(t.current,null),Bt=Pn=e,xt=0,_c=null,Cw=dm=wa=0,yn=ql=null,na!==null){for(e=0;e<na.length;e++)if(n=na[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}na=null}return t}function Yk(t,e){do{var n=yt;try{if(gw(),td.current=jd,Vd){for(var r=ot.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Vd=!1}if(_a=0,Ot=bt=ot=null,Bl=!1,gc=0,Ow.current=null,n===null||n.return===null){xt=1,_c=e,yt=null;break}e:{var o=t,a=n.return,s=n,u=e;if(e=Bt,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=s,h=c.tag;if((c.mode&1)===0&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=WT(a);if(p!==null){p.flags&=-257,GT(p,a,s,o,e),p.mode&1&&qT(o,l,e),e=p,u=l;var _=e.updateQueue;if(_===null){var g=new Set;g.add(u),e.updateQueue=g}else _.add(u);break e}else{if((e&1)===0){qT(o,l,e),Dw();break e}u=Error(H(426))}}else if(Ze&&s.mode&1){var v=WT(a);if(v!==null){(v.flags&65536)===0&&(v.flags|=256),GT(v,a,s,o,e),pw(zs(u,s));break e}}o=u=zs(u,s),xt!==4&&(xt=2),ql===null?ql=[o]:ql.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=Nk(o,u,e);LT(o,b);break e;case 1:s=u;var y=o.type,w=o.stateNode;if((o.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(io===null||!io.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=Dk(o,s,e);LT(o,x);break e}}o=o.return}while(o!==null)}Zk(n)}catch(T){e=T,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(1)}function Xk(){var t=Fd.current;return Fd.current=jd,t===null?jd:t}function Dw(){(xt===0||xt===3||xt===2)&&(xt=4),Rt===null||(wa&268435455)===0&&(dm&268435455)===0||Bi(Rt,Bt)}function zd(t,e){var n=Ie;Ie|=2;var r=Xk();(Rt!==t||Bt!==e)&&(Hr=null,la(t,e));do try{aF();break}catch(i){Yk(t,i)}while(1);if(gw(),Ie=n,Fd.current=r,yt!==null)throw Error(H(261));return Rt=null,Bt=0,xt}function aF(){for(;yt!==null;)Jk(yt)}function sF(){for(;yt!==null&&!RV();)Jk(yt)}function Jk(t){var e=tR(t.alternate,t,Pn);t.memoizedProps=t.pendingProps,e===null?Zk(t):yt=e,Ow.current=null}function Zk(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=Zj(n,e,Pn),n!==null){yt=n;return}}else{if(n=eF(n,e),n!==null){n.flags&=32767,yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xt=6,yt=null;return}}if(e=e.sibling,e!==null){yt=e;return}yt=e=t}while(e!==null);xt===0&&(xt=5)}function Wo(t,e,n){var r=Me,i=Xn.transition;try{Xn.transition=null,Me=1,uF(t,e,n,r)}finally{Xn.transition=i,Me=r}return null}function uF(t,e,n,r){do Cs();while(Qi!==null);if((Ie&6)!==0)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(BV(t,o),t===Rt&&(yt=Rt=null,Bt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Sf||(Sf=!0,nR(Ed,function(){return Cs(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=Xn.transition,Xn.transition=null;var a=Me;Me=1;var s=Ie;Ie|=4,Ow.current=null,nF(t,n),Kk(n,t),Pj(Vv),Id=!!Lv,Vv=Lv=null,t.current=n,rF(n),NV(),Ie=s,Me=a,Xn.transition=o}else t.current=n;if(Sf&&(Sf=!1,Qi=t,Bd=i),o=t.pendingLanes,o===0&&(io=null),$V(n.stateNode),En(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ud)throw Ud=!1,t=i0,i0=null,t;return(Bd&1)!==0&&t.tag!==0&&Cs(),o=t.pendingLanes,(o&1)!==0?t===o0?Wl++:(Wl=0,o0=t):Wl=0,So(),null}function Cs(){if(Qi!==null){var t=RC(Bd),e=Xn.transition,n=Me;try{if(Xn.transition=null,Me=16>t?16:t,Qi===null)var r=!1;else{if(t=Qi,Qi=null,Bd=0,(Ie&6)!==0)throw Error(H(331));var i=Ie;for(Ie|=4,ie=t.current;ie!==null;){var o=ie,a=o.child;if((ie.flags&16)!==0){var s=o.deletions;if(s!==null){for(var u=0;u<s.length;u++){var l=s[u];for(ie=l;ie!==null;){var c=ie;switch(c.tag){case 0:case 11:case 15:zl(8,c,o)}var h=c.child;if(h!==null)h.return=c,ie=h;else for(;ie!==null;){c=ie;var d=c.sibling,p=c.return;if(qk(c),c===l){ie=null;break}if(d!==null){d.return=p,ie=d;break}ie=p}}}var _=o.alternate;if(_!==null){var g=_.child;if(g!==null){_.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ie=o}}if((o.subtreeFlags&2064)!==0&&a!==null)a.return=o,ie=a;else e:for(;ie!==null;){if(o=ie,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:zl(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,ie=b;break e}ie=o.return}}var y=t.current;for(ie=y;ie!==null;){a=ie;var w=a.child;if((a.subtreeFlags&2064)!==0&&w!==null)w.return=a,ie=w;else e:for(a=y;ie!==null;){if(s=ie,(s.flags&2048)!==0)try{switch(s.tag){case 0:case 11:case 15:fm(9,s)}}catch(T){lt(s,s.return,T)}if(s===a){ie=null;break e}var x=s.sibling;if(x!==null){x.return=s.return,ie=x;break e}ie=s.return}}if(Ie=i,So(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(im,t)}catch{}r=!0}return r}finally{Me=n,Xn.transition=e}}return!1}function oE(t,e,n){e=zs(n,e),e=Nk(t,e,1),t=ro(t,e,1),e=cn(),t!==null&&(_h(t,1,e),En(t,e))}function lt(t,e,n){if(t.tag===3)oE(t,t,n);else for(;e!==null;){if(e.tag===3){oE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(io===null||!io.has(r))){t=zs(n,t),t=Dk(e,t,1),e=ro(e,t,1),t=cn(),e!==null&&(_h(e,1,t),En(e,t));break}}e=e.return}}function lF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=cn(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&(Bt&n)===n&&(xt===4||xt===3&&(Bt&130023424)===Bt&&500>ft()-kw?la(t,0):Cw|=n),En(t,e)}function eR(t,e){e===0&&((t.mode&1)===0?e=1:(e=mf,mf<<=1,(mf&130023424)===0&&(mf=4194304)));var n=cn();t=mi(t,e),t!==null&&(_h(t,e,n),En(t,n))}function cF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),eR(t,n)}function hF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),eR(t,n)}var tR;tR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xn.current)vn=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return vn=!1,Jj(t,e,n);vn=(t.flags&131072)!==0}else vn=!1,Ze&&(e.flags&1048576)!==0&&ik(e,Nd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rd(t,e),t=e.pendingProps;var i=js(e,nn.current);Os(e,n),i=Ew(null,e,r,t,i,n);var o=Sw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tn(r)?(o=!0,kd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_w(e),i.updater=cm,e.stateNode=i,i._reactInternals=e,Kv(e,r,t,n),e=Yv(null,e,r,!0,o,n)):(e.tag=0,Ze&&o&&fw(e),sn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=dF(r),t=ur(r,t),i){case 0:e=Qv(null,e,r,t,n);break e;case 1:e=QT(null,e,r,t,n);break e;case 11:e=KT(null,e,r,t,n);break e;case 14:e=HT(null,e,r,ur(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),Qv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),QT(t,e,r,i,n);case 3:e:{if(Vk(e),t===null)throw Error(H(387));r=e.pendingProps,o=e.memoizedState,i=o.element,uk(t,e),$d(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=zs(Error(H(423)),e),e=YT(t,e,r,n,i);break e}else if(r!==i){i=zs(Error(H(424)),e),e=YT(t,e,r,n,i);break e}else for(kn=no(e.stateNode.containerInfo.firstChild),Nn=e,Ze=!0,hr=null,n=fk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fs(),r===i){e=gi(t,e,n);break e}sn(t,e,r,n)}e=e.child}return e;case 5:return dk(e),t===null&&qv(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,jv(r,i)?a=null:o!==null&&jv(r,o)&&(e.flags|=32),Lk(t,e),sn(t,e,a,n),e.child;case 6:return t===null&&qv(e),null;case 13:return jk(t,e,n);case 4:return ww(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Us(e,null,r,n):sn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),KT(t,e,r,i,n);case 7:return sn(t,e,e.pendingProps,n),e.child;case 8:return sn(t,e,e.pendingProps.children,n),e.child;case 12:return sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,ze(Dd,r._currentValue),r._currentValue=a,o!==null)if(wr(o.value,a)){if(o.children===i.children&&!xn.current){e=gi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var u=s.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=si(-1,n&-n),u.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Wv(o.return,n,e),s.lanes|=n;break}u=u.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(H(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Wv(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}sn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Os(e,n),i=Jn(i),r=r(i),e.flags|=1,sn(t,e,r,n),e.child;case 14:return r=e.type,i=ur(r,e.pendingProps),i=ur(r.type,i),HT(t,e,r,i,n);case 15:return Mk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),rd(t,e),e.tag=1,Tn(r)?(t=!0,kd(e)):t=!1,Os(e,n),ck(e,r,i),Kv(e,r,i,n),Yv(null,e,r,!0,t,n);case 19:return Fk(t,e,n);case 22:return $k(t,e,n)}throw Error(H(156,e.tag))};function nR(t,e){return PC(t,e)}function fF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(t,e,n,r){return new fF(t,e,n,r)}function Mw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dF(t){if(typeof t=="function")return Mw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ew)return 11;if(t===tw)return 14}return 2}function ao(t,e){var n=t.alternate;return n===null?(n=Qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ad(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Mw(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ds:return ca(n.children,i,o,e);case Z_:a=8,i|=8;break;case yv:return t=Qn(12,n,e,i|2),t.elementType=yv,t.lanes=o,t;case vv:return t=Qn(13,n,e,i),t.elementType=vv,t.lanes=o,t;case _v:return t=Qn(19,n,e,i),t.elementType=_v,t.lanes=o,t;case hC:return pm(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lC:a=10;break e;case cC:a=9;break e;case ew:a=11;break e;case tw:a=14;break e;case Vi:a=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Qn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ca(t,e,n,r){return t=Qn(7,t,r,e),t.lanes=n,t}function pm(t,e,n,r){return t=Qn(22,t,r,e),t.elementType=hC,t.lanes=n,t.stateNode={isHidden:!1},t}function Ty(t,e,n){return t=Qn(6,t,null,e),t.lanes=n,t}function Ey(t,e,n){return e=Qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pF(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=iy(0),this.expirationTimes=iy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $w(t,e,n,r,i,o,a,s,u){return t=new pF(t,e,n,s,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Qn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_w(o),t}function mF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function rR(t){if(!t)return go;t=t._reactInternals;e:{if(La(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(Tn(n))return nk(t,n,e)}return e}function iR(t,e,n,r,i,o,a,s,u){return t=$w(n,r,!0,t,i,o,a,s,u),t.context=rR(null),n=t.current,r=cn(),i=oo(n),o=si(r,i),o.callback=e!=null?e:null,ro(n,o,i),t.current.lanes=i,_h(t,i,r),En(t,r),t}function mm(t,e,n,r){var i=e.current,o=cn(),a=oo(i);return n=rR(n),e.context===null?e.context=n:e.pendingContext=n,e=si(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ro(i,e,a),t!==null&&(gr(t,i,a,o),ed(t,i,a)),a}function qd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function aE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Lw(t,e){aE(t,e),(t=t.alternate)&&aE(t,e)}function gF(){return null}var oR=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vw(t){this._internalRoot=t}gm.prototype.render=Vw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));mm(t,e,null,null)};gm.prototype.unmount=Vw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ba(function(){mm(null,t,null,null)}),e[pi]=null}};function gm(t){this._internalRoot=t}gm.prototype.unstable_scheduleHydration=function(t){if(t){var e=MC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ui.length&&e!==0&&e<Ui[n].priority;n++);Ui.splice(n,0,t),n===0&&LC(t)}};function jw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ym(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sE(){}function yF(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var l=qd(a);o.call(l)}}var a=iR(e,r,t,0,null,!1,!1,"",sE);return t._reactRootContainer=a,t[pi]=a.current,hc(t.nodeType===8?t.parentNode:t),ba(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var l=qd(u);s.call(l)}}var u=$w(t,0,!1,null,null,!1,!1,"",sE);return t._reactRootContainer=u,t[pi]=u.current,hc(t.nodeType===8?t.parentNode:t),ba(function(){mm(e,u,n,r)}),u}function vm(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var u=qd(a);s.call(u)}}mm(e,a,t,i)}else a=yF(n,e,t,i,r);return qd(a)}NC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Pl(e.pendingLanes);n!==0&&(iw(e,n|1),En(e,ft()),(Ie&6)===0&&(qs=ft()+500,So()))}break;case 13:ba(function(){var r=mi(t,1);if(r!==null){var i=cn();gr(r,t,1,i)}}),Lw(t,1)}};ow=function(t){if(t.tag===13){var e=mi(t,134217728);if(e!==null){var n=cn();gr(e,t,134217728,n)}Lw(t,134217728)}};DC=function(t){if(t.tag===13){var e=oo(t),n=mi(t,e);if(n!==null){var r=cn();gr(n,t,e,r)}Lw(t,e)}};MC=function(){return Me};$C=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};Ov=function(t,e,n){switch(e){case"input":if(xv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=um(r);if(!i)throw Error(H(90));dC(r),xv(r,i)}}}break;case"textarea":mC(t,n);break;case"select":e=n.value,e!=null&&Ss(t,!!n.multiple,e,!1)}};xC=Rw;TC=ba;var vF={usingClientEntryPoint:!1,Events:[bh,ys,um,wC,bC,Rw]},cl={findFiberByHostInstance:ta,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},_F={bundleType:cl.bundleType,version:cl.version,rendererPackageName:cl.rendererPackageName,rendererConfig:cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=IC(t),t===null?null:t.stateNode},findFiberByHostInstance:cl.findFiberByHostInstance||gF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var If=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!If.isDisabled&&If.supportsFiber)try{im=If.inject(_F),Rr=If}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vF;jn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jw(e))throw Error(H(200));return mF(t,e,null,n)};jn.createRoot=function(t,e){if(!jw(t))throw Error(H(299));var n=!1,r="",i=oR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$w(t,1,!1,null,null,n,!1,r,i),t[pi]=e.current,hc(t.nodeType===8?t.parentNode:t),new Vw(e)};jn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=IC(e),t=t===null?null:t.stateNode,t};jn.flushSync=function(t){return ba(t)};jn.hydrate=function(t,e,n){if(!ym(e))throw Error(H(200));return vm(null,t,e,!0,n)};jn.hydrateRoot=function(t,e,n){if(!jw(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=oR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=iR(e,null,t,1,n!=null?n:null,i,!1,o,a),t[pi]=e.current,hc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new gm(e)};jn.render=function(t,e,n){if(!ym(e))throw Error(H(200));return vm(null,t,e,!1,n)};jn.unmountComponentAtNode=function(t){if(!ym(t))throw Error(H(40));return t._reactRootContainer?(ba(function(){vm(null,null,t,!1,function(){t._reactRootContainer=null,t[pi]=null})}),!0):!1};jn.unstable_batchedUpdates=Rw;jn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ym(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return vm(t,e,n,!1,r)};jn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=jn})(rm);const wF=XO(rm.exports),bF=YO({__proto__:null,default:wF},[rm.exports]);var uE=rm.exports;mv.createRoot=uE.createRoot,mv.hydrateRoot=uE.hydrateRoot;/**
 * @remix-run/router v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wc(){return wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wc.apply(this,arguments)}var Yi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yi||(Yi={}));const lE="popstate";function xF(t){t===void 0&&(t={});function e(i,o){let{pathname:a="/",search:s="",hash:u=""}=Va(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),u0("",{pathname:a,search:s,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let u=i.location.href,l=u.indexOf("#");s=l===-1?u:u.slice(0,l)}return s+"#"+(typeof o=="string"?o:Wd(o))}function r(i,o){Fw(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return EF(e,n,r,t)}function pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TF(){return Math.random().toString(36).substr(2,8)}function cE(t,e){return{usr:t.state,key:t.key,idx:e}}function u0(t,e,n,r){return n===void 0&&(n=null),wc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Va(e):e,{state:n,key:e&&e.key||r||TF()})}function Wd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Va(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function EF(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Yi.Pop,u=null,l=c();l==null&&(l=0,a.replaceState(wc({},a.state,{idx:l}),""));function c(){return(a.state||{idx:null}).idx}function h(){s=Yi.Pop;let v=c(),b=v==null?null:v-l;l=v,u&&u({action:s,location:g.location,delta:b})}function d(v,b){s=Yi.Push;let y=u0(g.location,v,b);n&&n(y,v),l=c()+1;let w=cE(y,l),x=g.createHref(y);try{a.pushState(w,"",x)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(x)}o&&u&&u({action:s,location:g.location,delta:1})}function p(v,b){s=Yi.Replace;let y=u0(g.location,v,b);n&&n(y,v),l=c();let w=cE(y,l),x=g.createHref(y);a.replaceState(w,"",x),o&&u&&u({action:s,location:g.location,delta:0})}function _(v){let b=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof v=="string"?v:Wd(v);return y=y.replace(/ $/,"%20"),pt(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let g={get action(){return s},get location(){return t(i,a)},listen(v){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(lE,h),u=v,()=>{i.removeEventListener(lE,h),u=null}},createHref(v){return e(i,v)},createURL:_,encodeLocation(v){let b=_(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:d,replace:p,go(v){return a.go(v)}};return g}var hE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(hE||(hE={}));function SF(t,e,n){return n===void 0&&(n="/"),IF(t,e,n,!1)}function IF(t,e,n,r){let i=typeof e=="string"?Va(e):e,o=Uw(i.pathname||"/",n);if(o==null)return null;let a=aR(t);AF(a);let s=null;for(let u=0;s==null&&u<a.length;++u){let l=VF(o);s=$F(a[u],l,r)}return s}function aR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let u={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(pt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=so([r,u.relativePath]),c=n.concat(u);o.children&&o.children.length>0&&(pt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),aR(o.children,e,c,l)),!(o.path==null&&!o.index)&&e.push({path:l,score:DF(l,o.index),routesMeta:c})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let u of sR(o.path))i(o,a,u)}),e}function sR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=sR(r.join("/")),s=[];return s.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&s.push(...a),s.map(u=>t.startsWith("/")&&u===""?"/":u)}function AF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:MF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const PF=/^:[\w-]+$/,OF=3,CF=2,kF=1,RF=10,NF=-2,fE=t=>t==="*";function DF(t,e){let n=t.split("/"),r=n.length;return n.some(fE)&&(r+=NF),e&&(r+=CF),n.filter(i=>!fE(i)).reduce((i,o)=>i+(PF.test(o)?OF:o===""?kF:RF),r)}function MF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function $F(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let u=r[s],l=s===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",h=dE({path:u.relativePath,caseSensitive:u.caseSensitive,end:l},c),d=u.route;if(!h&&l&&n&&!r[r.length-1].route.index&&(h=dE({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},c)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:so([o,h.pathname]),pathnameBase:BF(so([o,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(o=so([o,h.pathnameBase]))}return a}function dE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=LF(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((l,c,h)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let g=s[h]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const _=s[h];return p&&!_?l[d]=void 0:l[d]=(_||"").replace(/%2F/g,"/"),l},{}),pathname:o,pathnameBase:a,pattern:t}}function LF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Fw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,u)=>(r.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function VF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Uw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function jF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Va(t):t;return{pathname:n?n.startsWith("/")?n:FF(n,e):e,search:zF(r),hash:qF(i)}}function FF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Sy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function UF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bw(t,e){let n=UF(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function zw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Va(t):(i=wc({},t),pt(!i.pathname||!i.pathname.includes("?"),Sy("?","pathname","search",i)),pt(!i.pathname||!i.pathname.includes("#"),Sy("#","pathname","hash",i)),pt(!i.search||!i.search.includes("#"),Sy("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}s=h>=0?e[h]:"/"}let u=jF(i,s),l=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const so=t=>t.join("/").replace(/\/\/+/g,"/"),BF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function WF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const GF=["post","put","patch","delete"];[...GF];var _m={exports:{}},wm={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KF=M.exports,HF=Symbol.for("react.element"),QF=Symbol.for("react.fragment"),YF=Object.prototype.hasOwnProperty,XF=KF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JF={key:!0,ref:!0,__self:!0,__source:!0};function uR(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)YF.call(e,r)&&!JF.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:HF,type:t,key:o,ref:a,props:i,_owner:XF.current}}wm.Fragment=QF;wm.jsx=uR;wm.jsxs=uR;(function(t){t.exports=wm})(_m);const bm=_m.exports.Fragment,D=_m.exports.jsx,X=_m.exports.jsxs;/**
 * React Router v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bc(){return bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bc.apply(this,arguments)}const qw=M.exports.createContext(null),ZF=M.exports.createContext(null),Io=M.exports.createContext(null),xm=M.exports.createContext(null),Si=M.exports.createContext({outlet:null,matches:[],isDataRoute:!1}),lR=M.exports.createContext(null);function eU(t,e){let{relative:n}=e===void 0?{}:e;Tu()||pt(!1);let{basename:r,navigator:i}=M.exports.useContext(Io),{hash:o,pathname:a,search:s}=hR(t,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:so([r,a])),i.createHref({pathname:u,search:s,hash:o})}function Tu(){return M.exports.useContext(xm)!=null}function Eu(){return Tu()||pt(!1),M.exports.useContext(xm).location}function cR(t){M.exports.useContext(Io).static||M.exports.useLayoutEffect(t)}function ja(){let{isDataRoute:t}=M.exports.useContext(Si);return t?pU():tU()}function tU(){Tu()||pt(!1);let t=M.exports.useContext(qw),{basename:e,future:n,navigator:r}=M.exports.useContext(Io),{matches:i}=M.exports.useContext(Si),{pathname:o}=Eu(),a=JSON.stringify(Bw(i,n.v7_relativeSplatPath)),s=M.exports.useRef(!1);return cR(()=>{s.current=!0}),M.exports.useCallback(function(l,c){if(c===void 0&&(c={}),!s.current)return;if(typeof l=="number"){r.go(l);return}let h=zw(l,JSON.parse(a),o,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:so([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,a,o,t])}function nU(){let{matches:t}=M.exports.useContext(Si),e=t[t.length-1];return e?e.params:{}}function hR(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=M.exports.useContext(Io),{matches:i}=M.exports.useContext(Si),{pathname:o}=Eu(),a=JSON.stringify(Bw(i,r.v7_relativeSplatPath));return M.exports.useMemo(()=>zw(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function rU(t,e){return iU(t,e)}function iU(t,e,n,r){Tu()||pt(!1);let{navigator:i}=M.exports.useContext(Io),{matches:o}=M.exports.useContext(Si),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let l=Eu(),c;if(e){var h;let v=typeof e=="string"?Va(e):e;u==="/"||((h=v.pathname)==null?void 0:h.startsWith(u))||pt(!1),c=v}else c=l;let d=c.pathname||"/",p=d;if(u!=="/"){let v=u.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(v.length).join("/")}let _=SF(t,{pathname:p}),g=lU(_&&_.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:so([u,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:so([u,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r);return e&&g?D(xm.Provider,{value:{location:bc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Yi.Pop},children:g}):g}function oU(){let t=dU(),e=WF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null;return X(bm,{children:[D("h2",{children:"Unexpected Application Error!"}),D("h3",{style:{fontStyle:"italic"},children:e}),n?D("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},children:n}):null,null]})}const aU=D(oU,{});class sU extends M.exports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D(Si.Provider,{value:this.props.routeContext,children:D(lR.Provider,{value:this.state.error,children:this.props.component})}):this.props.children}}function uU(t){let{routeContext:e,match:n,children:r}=t,i=M.exports.useContext(qw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D(Si.Provider,{value:e,children:r})}function lU(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);c>=0||pt(!1),a=a.slice(0,Math.min(a.length,c+1))}let u=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let h=a[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=c),h.route.id){let{loaderData:d,errors:p}=n,_=h.route.loader&&d[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||_){u=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((c,h,d)=>{let p,_=!1,g=null,v=null;n&&(p=s&&h.route.id?s[h.route.id]:void 0,g=h.route.errorElement||aU,u&&(l<0&&d===0?(mU("route-fallback",!1),_=!0,v=null):l===d&&(_=!0,v=h.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,d+1)),y=()=>{let w;return p?w=g:_?w=v:h.route.Component?w=M.exports.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=c,D(uU,{match:h,routeContext:{outlet:c,matches:b,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?D(sU,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var fR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fR||{}),Gd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Gd||{});function cU(t){let e=M.exports.useContext(qw);return e||pt(!1),e}function hU(t){let e=M.exports.useContext(ZF);return e||pt(!1),e}function fU(t){let e=M.exports.useContext(Si);return e||pt(!1),e}function dR(t){let e=fU(),n=e.matches[e.matches.length-1];return n.route.id||pt(!1),n.route.id}function dU(){var t;let e=M.exports.useContext(lR),n=hU(Gd.UseRouteError),r=dR(Gd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function pU(){let{router:t}=cU(fR.UseNavigateStable),e=dR(Gd.UseNavigateStable),n=M.exports.useRef(!1);return cR(()=>{n.current=!0}),M.exports.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,bc({fromRouteId:e},o)))},[t,e])}const pE={};function mU(t,e,n){!e&&!pE[t]&&(pE[t]=!0)}const gU="startTransition";Q_[gU];function Uo(t){let{to:e,replace:n,state:r,relative:i}=t;Tu()||pt(!1);let{future:o,static:a}=M.exports.useContext(Io),{matches:s}=M.exports.useContext(Si),{pathname:u}=Eu(),l=ja(),c=zw(e,Bw(s,o.v7_relativeSplatPath),u,i==="path"),h=JSON.stringify(c);return M.exports.useEffect(()=>l(JSON.parse(h),{replace:n,state:r,relative:i}),[l,h,i,n,r]),null}function Li(t){pt(!1)}function yU(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Yi.Pop,navigator:o,static:a=!1,future:s}=t;Tu()&&pt(!1);let u=e.replace(/^\/*/,"/"),l=M.exports.useMemo(()=>({basename:u,navigator:o,static:a,future:bc({v7_relativeSplatPath:!1},s)}),[u,s,o,a]);typeof r=="string"&&(r=Va(r));let{pathname:c="/",search:h="",hash:d="",state:p=null,key:_="default"}=r,g=M.exports.useMemo(()=>{let v=Uw(c,u);return v==null?null:{location:{pathname:v,search:h,hash:d,state:p,key:_},navigationType:i}},[u,c,h,d,p,_,i]);return g==null?null:D(Io.Provider,{value:l,children:D(xm.Provider,{children:n,value:g})})}function vU(t){let{children:e,location:n}=t;return rU(l0(e),n)}new Promise(()=>{});function l0(t,e){e===void 0&&(e=[]);let n=[];return M.exports.Children.forEach(t,(r,i)=>{if(!M.exports.isValidElement(r))return;let o=[...e,i];if(r.type===M.exports.Fragment){n.push.apply(n,l0(r.props.children,o));return}r.type!==Li&&pt(!1),!r.props.index||!r.props.children||pt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=l0(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _U(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function wU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bU(t,e){return t.button===0&&(!e||e==="_self")&&!wU(t)}const xU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],TU="6";try{window.__reactRouterVersion=TU}catch{}const EU="startTransition",mE=Q_[EU],SU="flushSync";bF[SU];const IU="useId";Q_[IU];function AU(t){let{basename:e,children:n,future:r,window:i}=t,o=M.exports.useRef();o.current==null&&(o.current=xF({window:i,v5Compat:!0}));let a=o.current,[s,u]=M.exports.useState({action:a.action,location:a.location}),{v7_startTransition:l}=r||{},c=M.exports.useCallback(h=>{l&&mE?mE(()=>u(h)):u(h)},[u,l]);return M.exports.useLayoutEffect(()=>a.listen(c),[a,c]),D(yU,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const PU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ia=M.exports.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:u,to:l,preventScrollReset:c,unstable_viewTransition:h}=e,d=_U(e,xU),{basename:p}=M.exports.useContext(Io),_,g=!1;if(typeof l=="string"&&OU.test(l)&&(_=l,PU))try{let w=new URL(window.location.href),x=l.startsWith("//")?new URL(w.protocol+l):new URL(l),T=Uw(x.pathname,p);x.origin===w.origin&&T!=null?l=T+x.search+x.hash:g=!0}catch{}let v=eU(l,{relative:i}),b=CU(l,{replace:a,state:s,target:u,preventScrollReset:c,relative:i,unstable_viewTransition:h});function y(w){r&&r(w),w.defaultPrevented||b(w)}return D("a",{...d,href:_||v,onClick:g||o?r:y,ref:n,target:u})});var gE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(gE||(gE={}));var yE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(yE||(yE={}));function CU(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:s}=e===void 0?{}:e,u=ja(),l=Eu(),c=hR(t,{relative:a});return M.exports.useCallback(h=>{if(bU(h,n)){h.preventDefault();let d=r!==void 0?r:Wd(l)===Wd(c);u(t,{replace:d,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:s})}},[l,u,c,r,i,n,t,o,a,s])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},kU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],u=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},mR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=o>>2,h=(o&3)<<4|s>>4;let d=(s&15)<<2|l>>6,p=l&63;u||(p=64,a||(d=64)),r.push(n[c],n[h],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||l==null||h==null)throw new RU;const d=o<<2|s>>4;if(r.push(d),l!==64){const p=s<<4&240|l>>2;if(r.push(p),h!==64){const _=l<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class RU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NU=function(t){const e=pR(t);return mR.encodeByteArray(e,!0)},Kd=function(t){return NU(t).replace(/\./g,"")},gR=function(t){try{return mR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU=()=>DU().__FIREBASE_DEFAULTS__,$U=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gR(t[1]);return e&&JSON.parse(e)},Tm=()=>{try{return MU()||$U()||LU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yR=t=>{var e,n;return(n=(e=Tm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vR=t=>{const e=yR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_R=()=>{var t;return(t=Tm())===null||t===void 0?void 0:t.config},wR=t=>{var e;return(e=Tm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),s="";return[Kd(JSON.stringify(n)),Kd(JSON.stringify(a)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function FU(){var t;const e=(t=Tm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zU(){const t=_t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xR(){return!FU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TR(){try{return typeof indexedDB=="object"}catch{return!1}}function qU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU="FirebaseError";class zr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WU,Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Th.prototype.create)}}class Th{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?GU(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new zr(i,s,r)}}function GU(t,e){return t.replace(KU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const KU=/\{\$([^}]+)}/g;function HU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(vE(o)&&vE(a)){if(!Hd(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function QU(t,e){const n=new YU(t,e);return n.subscribe.bind(n)}class YU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");XU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Iy),i.error===void 0&&(i.error=Iy),i.complete===void 0&&(i.complete=Iy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Iy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class yo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eB(e))try{this.getOrInitializeService({instanceIdentifier:Go})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Go){return this.instances.has(e)}getOptions(e=Go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Go){return this.component?this.component.multipleInstances?e:Go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZU(t){return t===Go?void 0:t}function eB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(be||(be={}));const nB={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},rB=be.INFO,iB={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},oB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=iB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ww{constructor(e){this.name=e,this._logLevel=rB,this._logHandler=oB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const aB=(t,e)=>e.some(n=>t instanceof n);let _E,wE;function sB(){return _E||(_E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uB(){return wE||(wE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ER=new WeakMap,c0=new WeakMap,SR=new WeakMap,Ay=new WeakMap,Gw=new WeakMap;function lB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(uo(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&ER.set(n,t)}).catch(()=>{}),Gw.set(e,t),e}function cB(t){if(c0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});c0.set(t,e)}let h0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return c0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||SR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return uo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hB(t){h0=t(h0)}function fB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Py(this),e,...n);return SR.set(r,e.sort?e.sort():[e]),uo(r)}:uB().includes(t)?function(...e){return t.apply(Py(this),e),uo(ER.get(this))}:function(...e){return uo(t.apply(Py(this),e))}}function dB(t){return typeof t=="function"?fB(t):(t instanceof IDBTransaction&&cB(t),aB(t,sB())?new Proxy(t,h0):t)}function uo(t){if(t instanceof IDBRequest)return lB(t);if(Ay.has(t))return Ay.get(t);const e=dB(t);return e!==t&&(Ay.set(t,e),Gw.set(e,t)),e}const Py=t=>Gw.get(t);function pB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=uo(a);return r&&a.addEventListener("upgradeneeded",u=>{r(uo(a.result),u.oldVersion,u.newVersion,uo(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),s.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),s}const mB=["get","getKey","getAll","getAllKeys","count"],gB=["put","add","delete","clear"],Oy=new Map;function bE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Oy.get(e))return Oy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mB.includes(n)))return;const o=async function(a,...s){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(s.shift())),(await Promise.all([l[n](...s),i&&u.done]))[0]};return Oy.set(e,o),o}hB(t=>({...t,get:(e,n,r)=>bE(e,n)||t.get(e,n,r),has:(e,n)=>!!bE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const f0="@firebase/app",xE="0.10.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new Ww("@firebase/app"),_B="@firebase/app-compat",wB="@firebase/analytics-compat",bB="@firebase/analytics",xB="@firebase/app-check-compat",TB="@firebase/app-check",EB="@firebase/auth",SB="@firebase/auth-compat",IB="@firebase/database",AB="@firebase/database-compat",PB="@firebase/functions",OB="@firebase/functions-compat",CB="@firebase/installations",kB="@firebase/installations-compat",RB="@firebase/messaging",NB="@firebase/messaging-compat",DB="@firebase/performance",MB="@firebase/performance-compat",$B="@firebase/remote-config",LB="@firebase/remote-config-compat",VB="@firebase/storage",jB="@firebase/storage-compat",FB="@firebase/firestore",UB="@firebase/vertexai-preview",BB="@firebase/firestore-compat",zB="firebase",qB="10.12.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="[DEFAULT]",WB={[f0]:"fire-core",[_B]:"fire-core-compat",[bB]:"fire-analytics",[wB]:"fire-analytics-compat",[TB]:"fire-app-check",[xB]:"fire-app-check-compat",[EB]:"fire-auth",[SB]:"fire-auth-compat",[IB]:"fire-rtdb",[AB]:"fire-rtdb-compat",[PB]:"fire-fn",[OB]:"fire-fn-compat",[CB]:"fire-iid",[kB]:"fire-iid-compat",[RB]:"fire-fcm",[NB]:"fire-fcm-compat",[DB]:"fire-perf",[MB]:"fire-perf-compat",[$B]:"fire-rc",[LB]:"fire-rc-compat",[VB]:"fire-gcs",[jB]:"fire-gcs-compat",[FB]:"fire-fst",[BB]:"fire-fst-compat",[UB]:"fire-vertex","fire-js":"fire-js",[zB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd=new Map,GB=new Map,p0=new Map;function TE(t,e){try{t.container.addComponent(e)}catch(n){xa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ta(t){const e=t.name;if(p0.has(e))return xa.debug(`There were multiple attempts to register component ${e}.`),!1;p0.set(e,t);for(const n of Qd.values())TE(n,t);for(const n of GB.values())TE(n,t);return!0}function Em(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}'",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["server-app-deleted"]:"Firebase Server App has been deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",["finalization-registry-not-supported"]:"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",["invalid-server-app-environment"]:"FirebaseServerApp is not for use in browser environments."},lo=new Th("app","Firebase",KB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=qB;function IR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:d0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw lo.create("bad-app-name",{appName:String(i)});if(n||(n=_R()),!n)throw lo.create("no-options");const o=Qd.get(i);if(o){if(Hd(n,o.options)&&Hd(r,o.config))return o;throw lo.create("duplicate-app",{appName:i})}const a=new tB(i);for(const u of p0.values())a.addComponent(u);const s=new HB(n,r,a);return Qd.set(i,s),s}function Kw(t=d0){const e=Qd.get(t);if(!e&&t===d0&&_R())return IR();if(!e)throw lo.create("no-app",{appName:t});return e}function Dr(t,e,n){var r;let i=(r=WB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xa.warn(s.join(" "));return}Ta(new yo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB="firebase-heartbeat-database",YB=1,xc="firebase-heartbeat-store";let Cy=null;function AR(){return Cy||(Cy=pB(QB,YB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xc)}catch(n){console.warn(n)}}}}).catch(t=>{throw lo.create("idb-open",{originalErrorMessage:t.message})})),Cy}async function XB(t){try{const n=(await AR()).transaction(xc),r=await n.objectStore(xc).get(PR(t));return await n.done,r}catch(e){if(e instanceof zr)xa.warn(e.message);else{const n=lo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xa.warn(n.message)}}}async function EE(t,e){try{const r=(await AR()).transaction(xc,"readwrite");await r.objectStore(xc).put(e,PR(t)),await r.done}catch(n){if(n instanceof zr)xa.warn(n.message);else{const r=lo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xa.warn(r.message)}}}function PR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB=1024,ZB=30*24*60*60*1e3;class e4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new n4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=SE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=ZB}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=SE(),{heartbeatsToSend:r,unsentEntries:i}=t4(this._heartbeatsCache.heartbeats),o=Kd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function SE(){return new Date().toISOString().substring(0,10)}function t4(t,e=JB){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),IE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),IE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class n4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TR()?qU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return EE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return EE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function IE(t){return Kd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t){Ta(new yo("platform-logger",e=>new yB(e),"PRIVATE")),Ta(new yo("heartbeat",e=>new e4(e),"PRIVATE")),Dr(f0,xE,t),Dr(f0,xE,"esm2017"),Dr("fire-js","")}r4("");var i4="firebase",o4="10.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dr(i4,o4,"app");var AE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ha,OR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,E){function P(){}P.prototype=E.prototype,I.D=E.prototype,I.prototype=new P,I.prototype.constructor=I,I.C=function(O,R,N){for(var C=Array(arguments.length-2),F=2;F<arguments.length;F++)C[F-2]=arguments[F];return E.prototype[R].apply(O,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,E,P){P||(P=0);var O=Array(16);if(typeof E=="string")for(var R=0;16>R;++R)O[R]=E.charCodeAt(P++)|E.charCodeAt(P++)<<8|E.charCodeAt(P++)<<16|E.charCodeAt(P++)<<24;else for(R=0;16>R;++R)O[R]=E[P++]|E[P++]<<8|E[P++]<<16|E[P++]<<24;E=I.g[0],P=I.g[1],R=I.g[2];var N=I.g[3],C=E+(N^P&(R^N))+O[0]+3614090360&4294967295;E=P+(C<<7&4294967295|C>>>25),C=N+(R^E&(P^R))+O[1]+3905402710&4294967295,N=E+(C<<12&4294967295|C>>>20),C=R+(P^N&(E^P))+O[2]+606105819&4294967295,R=N+(C<<17&4294967295|C>>>15),C=P+(E^R&(N^E))+O[3]+3250441966&4294967295,P=R+(C<<22&4294967295|C>>>10),C=E+(N^P&(R^N))+O[4]+4118548399&4294967295,E=P+(C<<7&4294967295|C>>>25),C=N+(R^E&(P^R))+O[5]+1200080426&4294967295,N=E+(C<<12&4294967295|C>>>20),C=R+(P^N&(E^P))+O[6]+2821735955&4294967295,R=N+(C<<17&4294967295|C>>>15),C=P+(E^R&(N^E))+O[7]+4249261313&4294967295,P=R+(C<<22&4294967295|C>>>10),C=E+(N^P&(R^N))+O[8]+1770035416&4294967295,E=P+(C<<7&4294967295|C>>>25),C=N+(R^E&(P^R))+O[9]+2336552879&4294967295,N=E+(C<<12&4294967295|C>>>20),C=R+(P^N&(E^P))+O[10]+4294925233&4294967295,R=N+(C<<17&4294967295|C>>>15),C=P+(E^R&(N^E))+O[11]+2304563134&4294967295,P=R+(C<<22&4294967295|C>>>10),C=E+(N^P&(R^N))+O[12]+1804603682&4294967295,E=P+(C<<7&4294967295|C>>>25),C=N+(R^E&(P^R))+O[13]+4254626195&4294967295,N=E+(C<<12&4294967295|C>>>20),C=R+(P^N&(E^P))+O[14]+2792965006&4294967295,R=N+(C<<17&4294967295|C>>>15),C=P+(E^R&(N^E))+O[15]+1236535329&4294967295,P=R+(C<<22&4294967295|C>>>10),C=E+(R^N&(P^R))+O[1]+4129170786&4294967295,E=P+(C<<5&4294967295|C>>>27),C=N+(P^R&(E^P))+O[6]+3225465664&4294967295,N=E+(C<<9&4294967295|C>>>23),C=R+(E^P&(N^E))+O[11]+643717713&4294967295,R=N+(C<<14&4294967295|C>>>18),C=P+(N^E&(R^N))+O[0]+3921069994&4294967295,P=R+(C<<20&4294967295|C>>>12),C=E+(R^N&(P^R))+O[5]+3593408605&4294967295,E=P+(C<<5&4294967295|C>>>27),C=N+(P^R&(E^P))+O[10]+38016083&4294967295,N=E+(C<<9&4294967295|C>>>23),C=R+(E^P&(N^E))+O[15]+3634488961&4294967295,R=N+(C<<14&4294967295|C>>>18),C=P+(N^E&(R^N))+O[4]+3889429448&4294967295,P=R+(C<<20&4294967295|C>>>12),C=E+(R^N&(P^R))+O[9]+568446438&4294967295,E=P+(C<<5&4294967295|C>>>27),C=N+(P^R&(E^P))+O[14]+3275163606&4294967295,N=E+(C<<9&4294967295|C>>>23),C=R+(E^P&(N^E))+O[3]+4107603335&4294967295,R=N+(C<<14&4294967295|C>>>18),C=P+(N^E&(R^N))+O[8]+1163531501&4294967295,P=R+(C<<20&4294967295|C>>>12),C=E+(R^N&(P^R))+O[13]+2850285829&4294967295,E=P+(C<<5&4294967295|C>>>27),C=N+(P^R&(E^P))+O[2]+4243563512&4294967295,N=E+(C<<9&4294967295|C>>>23),C=R+(E^P&(N^E))+O[7]+1735328473&4294967295,R=N+(C<<14&4294967295|C>>>18),C=P+(N^E&(R^N))+O[12]+2368359562&4294967295,P=R+(C<<20&4294967295|C>>>12),C=E+(P^R^N)+O[5]+4294588738&4294967295,E=P+(C<<4&4294967295|C>>>28),C=N+(E^P^R)+O[8]+2272392833&4294967295,N=E+(C<<11&4294967295|C>>>21),C=R+(N^E^P)+O[11]+1839030562&4294967295,R=N+(C<<16&4294967295|C>>>16),C=P+(R^N^E)+O[14]+4259657740&4294967295,P=R+(C<<23&4294967295|C>>>9),C=E+(P^R^N)+O[1]+2763975236&4294967295,E=P+(C<<4&4294967295|C>>>28),C=N+(E^P^R)+O[4]+1272893353&4294967295,N=E+(C<<11&4294967295|C>>>21),C=R+(N^E^P)+O[7]+4139469664&4294967295,R=N+(C<<16&4294967295|C>>>16),C=P+(R^N^E)+O[10]+3200236656&4294967295,P=R+(C<<23&4294967295|C>>>9),C=E+(P^R^N)+O[13]+681279174&4294967295,E=P+(C<<4&4294967295|C>>>28),C=N+(E^P^R)+O[0]+3936430074&4294967295,N=E+(C<<11&4294967295|C>>>21),C=R+(N^E^P)+O[3]+3572445317&4294967295,R=N+(C<<16&4294967295|C>>>16),C=P+(R^N^E)+O[6]+76029189&4294967295,P=R+(C<<23&4294967295|C>>>9),C=E+(P^R^N)+O[9]+3654602809&4294967295,E=P+(C<<4&4294967295|C>>>28),C=N+(E^P^R)+O[12]+3873151461&4294967295,N=E+(C<<11&4294967295|C>>>21),C=R+(N^E^P)+O[15]+530742520&4294967295,R=N+(C<<16&4294967295|C>>>16),C=P+(R^N^E)+O[2]+3299628645&4294967295,P=R+(C<<23&4294967295|C>>>9),C=E+(R^(P|~N))+O[0]+4096336452&4294967295,E=P+(C<<6&4294967295|C>>>26),C=N+(P^(E|~R))+O[7]+1126891415&4294967295,N=E+(C<<10&4294967295|C>>>22),C=R+(E^(N|~P))+O[14]+2878612391&4294967295,R=N+(C<<15&4294967295|C>>>17),C=P+(N^(R|~E))+O[5]+4237533241&4294967295,P=R+(C<<21&4294967295|C>>>11),C=E+(R^(P|~N))+O[12]+1700485571&4294967295,E=P+(C<<6&4294967295|C>>>26),C=N+(P^(E|~R))+O[3]+2399980690&4294967295,N=E+(C<<10&4294967295|C>>>22),C=R+(E^(N|~P))+O[10]+4293915773&4294967295,R=N+(C<<15&4294967295|C>>>17),C=P+(N^(R|~E))+O[1]+2240044497&4294967295,P=R+(C<<21&4294967295|C>>>11),C=E+(R^(P|~N))+O[8]+1873313359&4294967295,E=P+(C<<6&4294967295|C>>>26),C=N+(P^(E|~R))+O[15]+4264355552&4294967295,N=E+(C<<10&4294967295|C>>>22),C=R+(E^(N|~P))+O[6]+2734768916&4294967295,R=N+(C<<15&4294967295|C>>>17),C=P+(N^(R|~E))+O[13]+1309151649&4294967295,P=R+(C<<21&4294967295|C>>>11),C=E+(R^(P|~N))+O[4]+4149444226&4294967295,E=P+(C<<6&4294967295|C>>>26),C=N+(P^(E|~R))+O[11]+3174756917&4294967295,N=E+(C<<10&4294967295|C>>>22),C=R+(E^(N|~P))+O[2]+718787259&4294967295,R=N+(C<<15&4294967295|C>>>17),C=P+(N^(R|~E))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+E&4294967295,I.g[1]=I.g[1]+(R+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+R&4294967295,I.g[3]=I.g[3]+N&4294967295}r.prototype.u=function(I,E){E===void 0&&(E=I.length);for(var P=E-this.blockSize,O=this.B,R=this.h,N=0;N<E;){if(R==0)for(;N<=P;)i(this,I,N),N+=this.blockSize;if(typeof I=="string"){for(;N<E;)if(O[R++]=I.charCodeAt(N++),R==this.blockSize){i(this,O),R=0;break}}else for(;N<E;)if(O[R++]=I[N++],R==this.blockSize){i(this,O),R=0;break}}this.h=R,this.o+=E},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var E=1;E<I.length-8;++E)I[E]=0;var P=8*this.o;for(E=I.length-8;E<I.length;++E)I[E]=P&255,P/=256;for(this.u(I),I=Array(16),E=P=0;4>E;++E)for(var O=0;32>O;O+=8)I[P++]=this.g[E]>>>O&255;return I};function o(I,E){var P=s;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=E(I)}function a(I,E){this.h=E;for(var P=[],O=!0,R=I.length-1;0<=R;R--){var N=I[R]|0;O&&N==E||(P[R]=N,O=!1)}this.g=P}var s={};function u(I){return-128<=I&&128>I?o(I,function(E){return new a([E|0],0>E?-1:0)}):new a([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return v(l(-I));for(var E=[],P=1,O=0;I>=P;O++)E[O]=I/P|0,P*=4294967296;return new a(E,0)}function c(I,E){if(I.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I.charAt(0)=="-")return v(c(I.substring(1),E));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=l(Math.pow(E,8)),O=h,R=0;R<I.length;R+=8){var N=Math.min(8,I.length-R),C=parseInt(I.substring(R,R+N),E);8>N?(N=l(Math.pow(E,N)),O=O.j(N).add(l(C))):(O=O.j(P),O=O.add(l(C)))}return O}var h=u(0),d=u(1),p=u(16777216);t=a.prototype,t.m=function(){if(g(this))return-v(this).m();for(var I=0,E=1,P=0;P<this.g.length;P++){var O=this.i(P);I+=(0<=O?O:4294967296+O)*E,E*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(_(this))return"0";if(g(this))return"-"+v(this).toString(I);for(var E=l(Math.pow(I,6)),P=this,O="";;){var R=x(P,E).g;P=b(P,R.j(E));var N=((0<P.g.length?P.g[0]:P.h)>>>0).toString(I);if(P=R,_(P))return N+O;for(;6>N.length;)N="0"+N;O=N+O}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function _(I){if(I.h!=0)return!1;for(var E=0;E<I.g.length;E++)if(I.g[E]!=0)return!1;return!0}function g(I){return I.h==-1}t.l=function(I){return I=b(this,I),g(I)?-1:_(I)?0:1};function v(I){for(var E=I.g.length,P=[],O=0;O<E;O++)P[O]=~I.g[O];return new a(P,~I.h).add(d)}t.abs=function(){return g(this)?v(this):this},t.add=function(I){for(var E=Math.max(this.g.length,I.g.length),P=[],O=0,R=0;R<=E;R++){var N=O+(this.i(R)&65535)+(I.i(R)&65535),C=(N>>>16)+(this.i(R)>>>16)+(I.i(R)>>>16);O=C>>>16,N&=65535,C&=65535,P[R]=C<<16|N}return new a(P,P[P.length-1]&-2147483648?-1:0)};function b(I,E){return I.add(v(E))}t.j=function(I){if(_(this)||_(I))return h;if(g(this))return g(I)?v(this).j(v(I)):v(v(this).j(I));if(g(I))return v(this.j(v(I)));if(0>this.l(p)&&0>I.l(p))return l(this.m()*I.m());for(var E=this.g.length+I.g.length,P=[],O=0;O<2*E;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(var R=0;R<I.g.length;R++){var N=this.i(O)>>>16,C=this.i(O)&65535,F=I.i(R)>>>16,K=I.i(R)&65535;P[2*O+2*R]+=C*K,y(P,2*O+2*R),P[2*O+2*R+1]+=N*K,y(P,2*O+2*R+1),P[2*O+2*R+1]+=C*F,y(P,2*O+2*R+1),P[2*O+2*R+2]+=N*F,y(P,2*O+2*R+2)}for(O=0;O<E;O++)P[O]=P[2*O+1]<<16|P[2*O];for(O=E;O<2*E;O++)P[O]=0;return new a(P,0)};function y(I,E){for(;(I[E]&65535)!=I[E];)I[E+1]+=I[E]>>>16,I[E]&=65535,E++}function w(I,E){this.g=I,this.h=E}function x(I,E){if(_(E))throw Error("division by zero");if(_(I))return new w(h,h);if(g(I))return E=x(v(I),E),new w(v(E.g),v(E.h));if(g(E))return E=x(I,v(E)),new w(v(E.g),E.h);if(30<I.g.length){if(g(I)||g(E))throw Error("slowDivide_ only works with positive integers.");for(var P=d,O=E;0>=O.l(I);)P=T(P),O=T(O);var R=A(P,1),N=A(O,1);for(O=A(O,2),P=A(P,2);!_(O);){var C=N.add(O);0>=C.l(I)&&(R=R.add(P),N=C),O=A(O,1),P=A(P,1)}return E=b(I,R.j(E)),new w(R,E)}for(R=h;0<=I.l(E);){for(P=Math.max(1,Math.floor(I.m()/E.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),N=l(P),C=N.j(E);g(C)||0<C.l(I);)P-=O,N=l(P),C=N.j(E);_(N)&&(N=d),R=R.add(N),I=b(I,C)}return new w(R,I)}t.A=function(I){return x(this,I).h},t.and=function(I){for(var E=Math.max(this.g.length,I.g.length),P=[],O=0;O<E;O++)P[O]=this.i(O)&I.i(O);return new a(P,this.h&I.h)},t.or=function(I){for(var E=Math.max(this.g.length,I.g.length),P=[],O=0;O<E;O++)P[O]=this.i(O)|I.i(O);return new a(P,this.h|I.h)},t.xor=function(I){for(var E=Math.max(this.g.length,I.g.length),P=[],O=0;O<E;O++)P[O]=this.i(O)^I.i(O);return new a(P,this.h^I.h)};function T(I){for(var E=I.g.length+1,P=[],O=0;O<E;O++)P[O]=I.i(O)<<1|I.i(O-1)>>>31;return new a(P,I.h)}function A(I,E){var P=E>>5;E%=32;for(var O=I.g.length-P,R=[],N=0;N<O;N++)R[N]=0<E?I.i(N+P)>>>E|I.i(N+P+1)<<32-E:I.i(N+P);return new a(R,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,OR=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=l,a.fromString=c,ha=a}).apply(typeof AE<"u"?AE:typeof self<"u"?self:typeof window<"u"?window:{});var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CR,kR,Cl,RR,sd,m0,NR,DR,MR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,m,S){return f==Array.prototype||f==Object.prototype||(f[m]=S.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Af=="object"&&Af];for(var m=0;m<f.length;++m){var S=f[m];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function i(f,m){if(m)e:{var S=r;f=f.split(".");for(var k=0;k<f.length-1;k++){var $=f[k];if(!($ in S))break e;S=S[$]}f=f[f.length-1],k=S[f],m=m(k),m!=k&&m!=null&&e(S,f,{configurable:!0,writable:!0,value:m})}}function o(f,m){f instanceof String&&(f+="");var S=0,k=!1,$={next:function(){if(!k&&S<f.length){var j=S++;return{value:m(j,f[j]),done:!1}}return k=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(f){return f||function(){return o(this,function(m,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function u(f){var m=typeof f;return m=m!="object"?m:f?Array.isArray(f)?"array":m:"null",m=="array"||m=="object"&&typeof f.length=="number"}function l(f){var m=typeof f;return m=="object"&&f!=null||m=="function"}function c(f,m,S){return f.call.apply(f.bind,arguments)}function h(f,m,S){if(!f)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,k),f.apply(m,$)}}return function(){return f.apply(m,arguments)}}function d(f,m,S){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,d.apply(null,arguments)}function p(f,m){var S=Array.prototype.slice.call(arguments,1);return function(){var k=S.slice();return k.push.apply(k,arguments),f.apply(this,k)}}function _(f,m){function S(){}S.prototype=m.prototype,f.aa=m.prototype,f.prototype=new S,f.prototype.constructor=f,f.Qb=function(k,$,j){for(var Z=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)Z[Fe-2]=arguments[Fe];return m.prototype[$].apply(k,Z)}}function g(f){const m=f.length;if(0<m){const S=Array(m);for(let k=0;k<m;k++)S[k]=f[k];return S}return[]}function v(f,m){for(let S=1;S<arguments.length;S++){const k=arguments[S];if(u(k)){const $=f.length||0,j=k.length||0;f.length=$+j;for(let Z=0;Z<j;Z++)f[$+Z]=k[Z]}else f.push(k)}}class b{constructor(m,S){this.i=m,this.j=S,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function y(f){return/^[\s\xa0]*$/.test(f)}function w(){var f=s.navigator;return f&&(f=f.userAgent)?f:""}function x(f){return x[" "](f),f}x[" "]=function(){};var T=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function A(f,m,S){for(const k in f)m.call(S,f[k],k,f)}function I(f,m){for(const S in f)m.call(void 0,f[S],S,f)}function E(f){const m={};for(const S in f)m[S]=f[S];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(f,m){let S,k;for(let $=1;$<arguments.length;$++){k=arguments[$];for(S in k)f[S]=k[S];for(let j=0;j<P.length;j++)S=P[j],Object.prototype.hasOwnProperty.call(k,S)&&(f[S]=k[S])}}function R(f){var m=1;f=f.split(":");const S=[];for(;0<m&&f.length;)S.push(f.shift()),m--;return f.length&&S.push(f.join(":")),S}function N(f){s.setTimeout(()=>{throw f},0)}function C(){var f=G;let m=null;return f.g&&(m=f.g,f.g=f.g.next,f.g||(f.h=null),m.next=null),m}class F{constructor(){this.h=this.g=null}add(m,S){const k=K.get();k.set(m,S),this.h?this.h.next=k:this.g=k,this.h=k}}var K=new b(()=>new z,f=>f.reset());class z{constructor(){this.next=this.g=this.h=null}set(m,S){this.h=m,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,V=!1,G=new F,Y=()=>{const f=s.Promise.resolve(void 0);Q=()=>{f.then(ae)}};var ae=()=>{for(var f;f=C();){try{f.h.call(f.g)}catch(S){N(S)}var m=K;m.j(f),100>m.h&&(m.h++,f.next=m.g,m.g=f)}V=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(f,m){this.type=f,this.g=this.target=m,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var je=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var f=!1,m=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};s.addEventListener("test",S,m),s.removeEventListener("test",S,m)}catch{}return f}();function Je(f,m){if(le.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var S=this.type=f.type,k=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=m,m=f.relatedTarget){if(T){e:{try{x(m.nodeName);var $=!0;break e}catch{}$=!1}$||(m=null)}}else S=="mouseover"?m=f.fromElement:S=="mouseout"&&(m=f.toElement);this.relatedTarget=m,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:$t[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Je.aa.h.call(this)}}_(Je,le);var $t={2:"touch",3:"pen",4:"mouse"};Je.prototype.h=function(){Je.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var We="closure_listenable_"+(1e6*Math.random()|0),nr=0;function re(f,m,S,k,$){this.listener=f,this.proxy=null,this.src=m,this.type=S,this.capture=!!k,this.ha=$,this.key=++nr,this.da=this.fa=!1}function fe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function me(f){this.src=f,this.g={},this.h=0}me.prototype.add=function(f,m,S,k,$){var j=f.toString();f=this.g[j],f||(f=this.g[j]=[],this.h++);var Z=Ge(f,m,k,$);return-1<Z?(m=f[Z],S||(m.fa=!1)):(m=new re(m,this.src,j,!!k,$),m.fa=S,f.push(m)),m};function q(f,m){var S=m.type;if(S in f.g){var k=f.g[S],$=Array.prototype.indexOf.call(k,m,void 0),j;(j=0<=$)&&Array.prototype.splice.call(k,$,1),j&&(fe(m),f.g[S].length==0&&(delete f.g[S],f.h--))}}function Ge(f,m,S,k){for(var $=0;$<f.length;++$){var j=f[$];if(!j.da&&j.listener==m&&j.capture==!!S&&j.ha==k)return $}return-1}var we="closure_lm_"+(1e6*Math.random()|0),tt={};function nt(f,m,S,k,$){if(k&&k.once)return $o(f,m,S,k,$);if(Array.isArray(m)){for(var j=0;j<m.length;j++)nt(f,m[j],S,k,$);return null}return S=$g(S),f&&f[We]?f.K(m,S,l(k)?!!k.capture:!!k,$):qt(f,m,S,!1,k,$)}function qt(f,m,S,k,$,j){if(!m)throw Error("Invalid event type");var Z=l($)?!!$.capture:!!$,Fe=Ka(f);if(Fe||(f[we]=Fe=new me(f)),S=Fe.add(m,S,k,Z,j),S.proxy)return S;if(k=rr(),S.proxy=k,k.src=f,k.listener=S,f.addEventListener)je||($=Z),$===void 0&&($=!1),f.addEventListener(m.toString(),k,$);else if(f.attachEvent)f.attachEvent(Ga(m.toString()),k);else if(f.addListener&&f.removeListener)f.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return S}function rr(){function f(S){return m.call(f.src,f.listener,S)}const m=Gh;return f}function $o(f,m,S,k,$){if(Array.isArray(m)){for(var j=0;j<m.length;j++)$o(f,m[j],S,k,$);return null}return S=$g(S),f&&f[We]?f.L(m,S,l(k)?!!k.capture:!!k,$):qt(f,m,S,!0,k,$)}function Tr(f,m,S,k,$){if(Array.isArray(m))for(var j=0;j<m.length;j++)Tr(f,m[j],S,k,$);else k=l(k)?!!k.capture:!!k,S=$g(S),f&&f[We]?(f=f.i,m=String(m).toString(),m in f.g&&(j=f.g[m],S=Ge(j,S,k,$),-1<S&&(fe(j[S]),Array.prototype.splice.call(j,S,1),j.length==0&&(delete f.g[m],f.h--)))):f&&(f=Ka(f))&&(m=f.g[m.toString()],f=-1,m&&(f=Ge(m,S,k,$)),(S=-1<f?m[f]:null)&&ir(S))}function ir(f){if(typeof f!="number"&&f&&!f.da){var m=f.src;if(m&&m[We])q(m.i,f);else{var S=f.type,k=f.proxy;m.removeEventListener?m.removeEventListener(S,k,f.capture):m.detachEvent?m.detachEvent(Ga(S),k):m.addListener&&m.removeListener&&m.removeListener(k),(S=Ka(m))?(q(S,f),S.h==0&&(S.src=null,m[we]=null)):fe(f)}}}function Ga(f){return f in tt?tt[f]:tt[f]="on"+f}function Gh(f,m){if(f.da)f=!0;else{m=new Je(m,this);var S=f.listener,k=f.ha||f.src;f.fa&&ir(f),f=S.call(k,m)}return f}function Ka(f){return f=f[we],f instanceof me?f:null}var Mg="__closure_events_fn_"+(1e9*Math.random()>>>0);function $g(f){return typeof f=="function"?f:(f[Mg]||(f[Mg]=function(m){return f.handleEvent(m)}),f[Mg])}function Wt(){te.call(this),this.i=new me(this),this.M=this,this.F=null}_(Wt,te),Wt.prototype[We]=!0,Wt.prototype.removeEventListener=function(f,m,S,k){Tr(this,f,m,S,k)};function rn(f,m){var S,k=f.F;if(k)for(S=[];k;k=k.F)S.push(k);if(f=f.M,k=m.type||m,typeof m=="string")m=new le(m,f);else if(m instanceof le)m.target=m.target||f;else{var $=m;m=new le(k,f),O(m,$)}if($=!0,S)for(var j=S.length-1;0<=j;j--){var Z=m.g=S[j];$=Kh(Z,k,!0,m)&&$}if(Z=m.g=f,$=Kh(Z,k,!0,m)&&$,$=Kh(Z,k,!1,m)&&$,S)for(j=0;j<S.length;j++)Z=m.g=S[j],$=Kh(Z,k,!1,m)&&$}Wt.prototype.N=function(){if(Wt.aa.N.call(this),this.i){var f=this.i,m;for(m in f.g){for(var S=f.g[m],k=0;k<S.length;k++)fe(S[k]);delete f.g[m],f.h--}}this.F=null},Wt.prototype.K=function(f,m,S,k){return this.i.add(String(f),m,!1,S,k)},Wt.prototype.L=function(f,m,S,k){return this.i.add(String(f),m,!0,S,k)};function Kh(f,m,S,k){if(m=f.i.g[String(m)],!m)return!0;m=m.concat();for(var $=!0,j=0;j<m.length;++j){var Z=m[j];if(Z&&!Z.da&&Z.capture==S){var Fe=Z.listener,Lt=Z.ha||Z.src;Z.fa&&q(f.i,Z),$=Fe.call(Lt,k)!==!1&&$}}return $&&!k.defaultPrevented}function ox(f,m,S){if(typeof f=="function")S&&(f=d(f,S));else if(f&&typeof f.handleEvent=="function")f=d(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:s.setTimeout(f,m||0)}function ax(f){f.g=ox(()=>{f.g=null,f.i&&(f.i=!1,ax(f))},f.l);const m=f.h;f.h=null,f.m.apply(null,m)}class kL extends te{constructor(m,S){super(),this.m=m,this.l=S,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ax(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zu(f){te.call(this),this.h=f,this.g={}}_(zu,te);var sx=[];function ux(f){A(f.g,function(m,S){this.g.hasOwnProperty(S)&&ir(m)},f),f.g={}}zu.prototype.N=function(){zu.aa.N.call(this),ux(this)},zu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lg=s.JSON.stringify,RL=s.JSON.parse,NL=class{stringify(f){return s.JSON.stringify(f,void 0)}parse(f){return s.JSON.parse(f,void 0)}};function Vg(){}Vg.prototype.h=null;function lx(f){return f.h||(f.h=f.i())}function cx(){}var qu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jg(){le.call(this,"d")}_(jg,le);function Fg(){le.call(this,"c")}_(Fg,le);var Lo={},hx=null;function Hh(){return hx=hx||new Wt}Lo.La="serverreachability";function fx(f){le.call(this,Lo.La,f)}_(fx,le);function Wu(f){const m=Hh();rn(m,new fx(m))}Lo.STAT_EVENT="statevent";function dx(f,m){le.call(this,Lo.STAT_EVENT,f),this.stat=m}_(dx,le);function on(f){const m=Hh();rn(m,new dx(m,f))}Lo.Ma="timingevent";function px(f,m){le.call(this,Lo.Ma,f),this.size=m}_(px,le);function Gu(f,m){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){f()},m)}function Ku(){this.g=!0}Ku.prototype.xa=function(){this.g=!1};function DL(f,m,S,k,$,j){f.info(function(){if(f.g)if(j)for(var Z="",Fe=j.split("&"),Lt=0;Lt<Fe.length;Lt++){var Ae=Fe[Lt].split("=");if(1<Ae.length){var Gt=Ae[0];Ae=Ae[1];var Kt=Gt.split("_");Z=2<=Kt.length&&Kt[1]=="type"?Z+(Gt+"="+Ae+"&"):Z+(Gt+"=redacted&")}}else Z=null;else Z=j;return"XMLHTTP REQ ("+k+") [attempt "+$+"]: "+m+`
`+S+`
`+Z})}function ML(f,m,S,k,$,j,Z){f.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+$+"]: "+m+`
`+S+`
`+j+" "+Z})}function Ha(f,m,S,k){f.info(function(){return"XMLHTTP TEXT ("+m+"): "+LL(f,S)+(k?" "+k:"")})}function $L(f,m){f.info(function(){return"TIMEOUT: "+m})}Ku.prototype.info=function(){};function LL(f,m){if(!f.g)return m;if(!m)return null;try{var S=JSON.parse(m);if(S){for(f=0;f<S.length;f++)if(Array.isArray(S[f])){var k=S[f];if(!(2>k.length)){var $=k[1];if(Array.isArray($)&&!(1>$.length)){var j=$[0];if(j!="noop"&&j!="stop"&&j!="close")for(var Z=1;Z<$.length;Z++)$[Z]=""}}}}return Lg(S)}catch{return m}}var Qh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ug;function Yh(){}_(Yh,Vg),Yh.prototype.g=function(){return new XMLHttpRequest},Yh.prototype.i=function(){return{}},Ug=new Yh;function Ci(f,m,S,k){this.j=f,this.i=m,this.l=S,this.R=k||1,this.U=new zu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gx}function gx(){this.i=null,this.g="",this.h=!1}var yx={},Bg={};function zg(f,m,S){f.L=1,f.v=ef(Gr(m)),f.m=S,f.P=!0,vx(f,null)}function vx(f,m){f.F=Date.now(),Xh(f),f.A=Gr(f.v);var S=f.A,k=f.R;Array.isArray(k)||(k=[String(k)]),Rx(S.i,"t",k),f.C=0,S=f.j.J,f.h=new gx,f.g=Yx(f.j,S?m:null,!f.m),0<f.O&&(f.M=new kL(d(f.Y,f,f.g),f.O)),m=f.U,S=f.g,k=f.ca;var $="readystatechange";Array.isArray($)||($&&(sx[0]=$.toString()),$=sx);for(var j=0;j<$.length;j++){var Z=nt(S,$[j],k||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=f.H?E(f.H):{},f.m?(f.u||(f.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,m)):(f.u="GET",f.g.ea(f.A,f.u,null,m)),Wu(),DL(f.i,f.u,f.A,f.l,f.R,f.m)}Ci.prototype.ca=function(f){f=f.target;const m=this.M;m&&Kr(f)==3?m.j():this.Y(f)},Ci.prototype.Y=function(f){try{if(f==this.g)e:{const Kt=Kr(this.g);var m=this.g.Ba();const Xa=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||jx(this.g)))){this.J||Kt!=4||m==7||(m==8||0>=Xa?Wu(3):Wu(2)),qg(this);var S=this.g.Z();this.X=S;t:if(_x(this)){var k=jx(this.g);f="";var $=k.length,j=Kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vo(this),Hu(this);var Z="";break t}this.h.i=new s.TextDecoder}for(m=0;m<$;m++)this.h.h=!0,f+=this.h.i.decode(k[m],{stream:!(j&&m==$-1)});k.length=0,this.h.g+=f,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=S==200,ML(this.i,this.u,this.A,this.l,this.R,Kt,S),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,Lt=this.g;if((Fe=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Fe)){var Ae=Fe;break t}}Ae=null}if(S=Ae)Ha(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wg(this,S);else{this.o=!1,this.s=3,on(12),Vo(this),Hu(this);break e}}if(this.P){S=!0;let or;for(;!this.J&&this.C<Z.length;)if(or=VL(this,Z),or==Bg){Kt==4&&(this.s=4,on(14),S=!1),Ha(this.i,this.l,null,"[Incomplete Response]");break}else if(or==yx){this.s=4,on(15),Ha(this.i,this.l,Z,"[Invalid Chunk]"),S=!1;break}else Ha(this.i,this.l,or,null),Wg(this,or);if(_x(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||Z.length!=0||this.h.h||(this.s=1,on(16),S=!1),this.o=this.o&&S,!S)Ha(this.i,this.l,Z,"[Invalid Chunked Response]"),Vo(this),Hu(this);else if(0<Z.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Xg(Gt),Gt.M=!0,on(11))}}else Ha(this.i,this.l,Z,null),Wg(this,Z);Kt==4&&Vo(this),this.o&&!this.J&&(Kt==4?Gx(this.j,this):(this.o=!1,Xh(this)))}else tV(this.g),S==400&&0<Z.indexOf("Unknown SID")?(this.s=3,on(12)):(this.s=0,on(13)),Vo(this),Hu(this)}}}catch{}finally{}};function _x(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function VL(f,m){var S=f.C,k=m.indexOf(`
`,S);return k==-1?Bg:(S=Number(m.substring(S,k)),isNaN(S)?yx:(k+=1,k+S>m.length?Bg:(m=m.slice(k,k+S),f.C=k+S,m)))}Ci.prototype.cancel=function(){this.J=!0,Vo(this)};function Xh(f){f.S=Date.now()+f.I,wx(f,f.I)}function wx(f,m){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Gu(d(f.ba,f),m)}function qg(f){f.B&&(s.clearTimeout(f.B),f.B=null)}Ci.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?($L(this.i,this.A),this.L!=2&&(Wu(),on(17)),Vo(this),this.s=2,Hu(this)):wx(this,this.S-f)};function Hu(f){f.j.G==0||f.J||Gx(f.j,f)}function Vo(f){qg(f);var m=f.M;m&&typeof m.ma=="function"&&m.ma(),f.M=null,ux(f.U),f.g&&(m=f.g,f.g=null,m.abort(),m.ma())}function Wg(f,m){try{var S=f.j;if(S.G!=0&&(S.g==f||Gg(S.h,f))){if(!f.K&&Gg(S.h,f)&&S.G==3){try{var k=S.Da.g.parse(m)}catch{k=null}if(Array.isArray(k)&&k.length==3){var $=k;if($[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<f.F)af(S),rf(S);else break e;Yg(S),on(18)}}else S.za=$[1],0<S.za-S.T&&37500>$[2]&&S.F&&S.v==0&&!S.C&&(S.C=Gu(d(S.Za,S),6e3));if(1>=Tx(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Fo(S,11)}else if((f.K||S.g==f)&&af(S),!y(m))for($=S.Da.g.parse(m),m=0;m<$.length;m++){let Ae=$[m];if(S.T=Ae[0],Ae=Ae[1],S.G==2)if(Ae[0]=="c"){S.K=Ae[1],S.ia=Ae[2];const Gt=Ae[3];Gt!=null&&(S.la=Gt,S.j.info("VER="+S.la));const Kt=Ae[4];Kt!=null&&(S.Aa=Kt,S.j.info("SVER="+S.Aa));const Xa=Ae[5];Xa!=null&&typeof Xa=="number"&&0<Xa&&(k=1.5*Xa,S.L=k,S.j.info("backChannelRequestTimeoutMs_="+k)),k=S;const or=f.g;if(or){const uf=or.g?or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uf){var j=k.h;j.g||uf.indexOf("spdy")==-1&&uf.indexOf("quic")==-1&&uf.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Kg(j,j.h),j.h=null))}if(k.D){const Jg=or.g?or.g.getResponseHeader("X-HTTP-Session-Id"):null;Jg&&(k.ya=Jg,Ke(k.I,k.D,Jg))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-f.F,S.j.info("Handshake RTT: "+S.R+"ms")),k=S;var Z=f;if(k.qa=Qx(k,k.J?k.ia:null,k.W),Z.K){Ex(k.h,Z);var Fe=Z,Lt=k.L;Lt&&(Fe.I=Lt),Fe.B&&(qg(Fe),Xh(Fe)),k.g=Z}else qx(k);0<S.i.length&&of(S)}else Ae[0]!="stop"&&Ae[0]!="close"||Fo(S,7);else S.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?Fo(S,7):Qg(S):Ae[0]!="noop"&&S.l&&S.l.ta(Ae),S.v=0)}}Wu(4)}catch{}}var jL=class{constructor(f,m){this.g=f,this.map=m}};function bx(f){this.l=f||10,s.PerformanceNavigationTiming?(f=s.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xx(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Tx(f){return f.h?1:f.g?f.g.size:0}function Gg(f,m){return f.h?f.h==m:f.g?f.g.has(m):!1}function Kg(f,m){f.g?f.g.add(m):f.h=m}function Ex(f,m){f.h&&f.h==m?f.h=null:f.g&&f.g.has(m)&&f.g.delete(m)}bx.prototype.cancel=function(){if(this.i=Sx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Sx(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let m=f.i;for(const S of f.g.values())m=m.concat(S.D);return m}return g(f.i)}function FL(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(u(f)){for(var m=[],S=f.length,k=0;k<S;k++)m.push(f[k]);return m}m=[],S=0;for(k in f)m[S++]=f[k];return m}function UL(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(u(f)||typeof f=="string"){var m=[];f=f.length;for(var S=0;S<f;S++)m.push(S);return m}m=[],S=0;for(const k in f)m[S++]=k;return m}}}function Ix(f,m){if(f.forEach&&typeof f.forEach=="function")f.forEach(m,void 0);else if(u(f)||typeof f=="string")Array.prototype.forEach.call(f,m,void 0);else for(var S=UL(f),k=FL(f),$=k.length,j=0;j<$;j++)m.call(void 0,k[j],S&&S[j],f)}var Ax=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function BL(f,m){if(f){f=f.split("&");for(var S=0;S<f.length;S++){var k=f[S].indexOf("="),$=null;if(0<=k){var j=f[S].substring(0,k);$=f[S].substring(k+1)}else j=f[S];m(j,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function jo(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof jo){this.h=f.h,Jh(this,f.j),this.o=f.o,this.g=f.g,Zh(this,f.s),this.l=f.l;var m=f.i,S=new Xu;S.i=m.i,m.g&&(S.g=new Map(m.g),S.h=m.h),Px(this,S),this.m=f.m}else f&&(m=String(f).match(Ax))?(this.h=!1,Jh(this,m[1]||"",!0),this.o=Qu(m[2]||""),this.g=Qu(m[3]||"",!0),Zh(this,m[4]),this.l=Qu(m[5]||"",!0),Px(this,m[6]||"",!0),this.m=Qu(m[7]||"")):(this.h=!1,this.i=new Xu(null,this.h))}jo.prototype.toString=function(){var f=[],m=this.j;m&&f.push(Yu(m,Ox,!0),":");var S=this.g;return(S||m=="file")&&(f.push("//"),(m=this.o)&&f.push(Yu(m,Ox,!0),"@"),f.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&f.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Yu(S,S.charAt(0)=="/"?WL:qL,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Yu(S,KL)),f.join("")};function Gr(f){return new jo(f)}function Jh(f,m,S){f.j=S?Qu(m,!0):m,f.j&&(f.j=f.j.replace(/:$/,""))}function Zh(f,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);f.s=m}else f.s=null}function Px(f,m,S){m instanceof Xu?(f.i=m,HL(f.i,f.h)):(S||(m=Yu(m,GL)),f.i=new Xu(m,f.h))}function Ke(f,m,S){f.i.set(m,S)}function ef(f){return Ke(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Qu(f,m){return f?m?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Yu(f,m,S){return typeof f=="string"?(f=encodeURI(f).replace(m,zL),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function zL(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ox=/[#\/\?@]/g,qL=/[#\?:]/g,WL=/[#\?]/g,GL=/[#\?@]/g,KL=/#/g;function Xu(f,m){this.h=this.g=null,this.i=f||null,this.j=!!m}function ki(f){f.g||(f.g=new Map,f.h=0,f.i&&BL(f.i,function(m,S){f.add(decodeURIComponent(m.replace(/\+/g," ")),S)}))}t=Xu.prototype,t.add=function(f,m){ki(this),this.i=null,f=Qa(this,f);var S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(m),this.h+=1,this};function Cx(f,m){ki(f),m=Qa(f,m),f.g.has(m)&&(f.i=null,f.h-=f.g.get(m).length,f.g.delete(m))}function kx(f,m){return ki(f),m=Qa(f,m),f.g.has(m)}t.forEach=function(f,m){ki(this),this.g.forEach(function(S,k){S.forEach(function($){f.call(m,$,k,this)},this)},this)},t.na=function(){ki(this);const f=Array.from(this.g.values()),m=Array.from(this.g.keys()),S=[];for(let k=0;k<m.length;k++){const $=f[k];for(let j=0;j<$.length;j++)S.push(m[k])}return S},t.V=function(f){ki(this);let m=[];if(typeof f=="string")kx(this,f)&&(m=m.concat(this.g.get(Qa(this,f))));else{f=Array.from(this.g.values());for(let S=0;S<f.length;S++)m=m.concat(f[S])}return m},t.set=function(f,m){return ki(this),this.i=null,f=Qa(this,f),kx(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[m]),this.h+=1,this},t.get=function(f,m){return f?(f=this.V(f),0<f.length?String(f[0]):m):m};function Rx(f,m,S){Cx(f,m),0<S.length&&(f.i=null,f.g.set(Qa(f,m),g(S)),f.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],m=Array.from(this.g.keys());for(var S=0;S<m.length;S++){var k=m[S];const j=encodeURIComponent(String(k)),Z=this.V(k);for(k=0;k<Z.length;k++){var $=j;Z[k]!==""&&($+="="+encodeURIComponent(String(Z[k]))),f.push($)}}return this.i=f.join("&")};function Qa(f,m){return m=String(m),f.j&&(m=m.toLowerCase()),m}function HL(f,m){m&&!f.j&&(ki(f),f.i=null,f.g.forEach(function(S,k){var $=k.toLowerCase();k!=$&&(Cx(this,k),Rx(this,$,S))},f)),f.j=m}function QL(f,m){const S=new Ku;if(s.Image){const k=new Image;k.onload=p(Ri,S,"TestLoadImage: loaded",!0,m,k),k.onerror=p(Ri,S,"TestLoadImage: error",!1,m,k),k.onabort=p(Ri,S,"TestLoadImage: abort",!1,m,k),k.ontimeout=p(Ri,S,"TestLoadImage: timeout",!1,m,k),s.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=f}else m(!1)}function YL(f,m){const S=new Ku,k=new AbortController,$=setTimeout(()=>{k.abort(),Ri(S,"TestPingServer: timeout",!1,m)},1e4);fetch(f,{signal:k.signal}).then(j=>{clearTimeout($),j.ok?Ri(S,"TestPingServer: ok",!0,m):Ri(S,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout($),Ri(S,"TestPingServer: error",!1,m)})}function Ri(f,m,S,k,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),k(S)}catch{}}function XL(){this.g=new NL}function JL(f,m,S){const k=S||"";try{Ix(f,function($,j){let Z=$;l($)&&(Z=Lg($)),m.push(k+j+"="+encodeURIComponent(Z))})}catch($){throw m.push(k+"type="+encodeURIComponent("_badmap")),$}}function Ju(f){this.l=f.Ub||null,this.j=f.eb||!1}_(Ju,Vg),Ju.prototype.g=function(){return new tf(this.l,this.j)},Ju.prototype.i=function(f){return function(){return f}}({});function tf(f,m){Wt.call(this),this.D=f,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(tf,Wt),t=tf.prototype,t.open=function(f,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=m,this.readyState=1,el(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(m.body=f),(this.D||s).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zu(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,el(this)),this.g&&(this.readyState=3,el(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nx(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nx(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var m=f.value?f.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!f.done}))&&(this.response=this.responseText+=m)}f.done?Zu(this):el(this),this.readyState==3&&Nx(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Zu(this))},t.Qa=function(f){this.g&&(this.response=f,Zu(this))},t.ga=function(){this.g&&Zu(this)};function Zu(f){f.readyState=4,f.l=null,f.j=null,f.v=null,el(f)}t.setRequestHeader=function(f,m){this.u.append(f,m)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],m=this.h.entries();for(var S=m.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=m.next();return f.join(`\r
`)};function el(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(tf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Dx(f){let m="";return A(f,function(S,k){m+=k,m+=":",m+=S,m+=`\r
`}),m}function Hg(f,m,S){e:{for(k in S){var k=!1;break e}k=!0}k||(S=Dx(S),typeof f=="string"?S!=null&&encodeURIComponent(String(S)):Ke(f,m,S))}function ut(f){Wt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(ut,Wt);var ZL=/^https?$/i,eV=["POST","PUT"];t=ut.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,m,S,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);m=m?m.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ug.g(),this.v=this.o?lx(this.o):lx(Ug),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(m,String(f),!0),this.B=!1}catch(j){Mx(this,j);return}if(f=S||"",S=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var $ in k)S.set($,k[$]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const j of k.keys())S.set(j,k.get(j));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(S.keys()).find(j=>j.toLowerCase()=="content-type"),$=s.FormData&&f instanceof s.FormData,!(0<=Array.prototype.indexOf.call(eV,m,void 0))||k||$||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Z]of S)this.g.setRequestHeader(j,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vx(this),this.u=!0,this.g.send(f),this.u=!1}catch(j){Mx(this,j)}};function Mx(f,m){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=m,f.m=5,$x(f),nf(f)}function $x(f){f.A||(f.A=!0,rn(f,"complete"),rn(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,rn(this,"complete"),rn(this,"abort"),nf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nf(this,!0)),ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Lx(this):this.bb())},t.bb=function(){Lx(this)};function Lx(f){if(f.h&&typeof a<"u"&&(!f.v[1]||Kr(f)!=4||f.Z()!=2)){if(f.u&&Kr(f)==4)ox(f.Ea,0,f);else if(rn(f,"readystatechange"),Kr(f)==4){f.h=!1;try{const Z=f.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var S;if(!(S=m)){var k;if(k=Z===0){var $=String(f.D).match(Ax)[1]||null;!$&&s.self&&s.self.location&&($=s.self.location.protocol.slice(0,-1)),k=!ZL.test($?$.toLowerCase():"")}S=k}if(S)rn(f,"complete"),rn(f,"success");else{f.m=6;try{var j=2<Kr(f)?f.g.statusText:""}catch{j=""}f.l=j+" ["+f.Z()+"]",$x(f)}}finally{nf(f)}}}}function nf(f,m){if(f.g){Vx(f);const S=f.g,k=f.v[0]?()=>{}:null;f.g=null,f.v=null,m||rn(f,"ready");try{S.onreadystatechange=k}catch{}}}function Vx(f){f.I&&(s.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Kr(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Kr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var m=this.g.responseText;return f&&m.indexOf(f)==0&&(m=m.substring(f.length)),RL(m)}};function jx(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function tV(f){const m={};f=(f.g&&2<=Kr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<f.length;k++){if(y(f[k]))continue;var S=R(f[k]);const $=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const j=m[$]||[];m[$]=j,j.push(S)}I(m,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function tl(f,m,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||m}function Fx(f){this.Aa=0,this.i=[],this.j=new Ku,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tl("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tl("baseRetryDelayMs",5e3,f),this.cb=tl("retryDelaySeedMs",1e4,f),this.Wa=tl("forwardChannelMaxRetries",2,f),this.wa=tl("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new bx(f&&f.concurrentRequestLimit),this.Da=new XL,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Fx.prototype,t.la=8,t.G=1,t.connect=function(f,m,S,k){on(0),this.W=f,this.H=m||{},S&&k!==void 0&&(this.H.OSID=S,this.H.OAID=k),this.F=this.X,this.I=Qx(this,null,this.W),of(this)};function Qg(f){if(Ux(f),f.G==3){var m=f.U++,S=Gr(f.I);if(Ke(S,"SID",f.K),Ke(S,"RID",m),Ke(S,"TYPE","terminate"),nl(f,S),m=new Ci(f,f.j,m),m.L=2,m.v=ef(Gr(S)),S=!1,s.navigator&&s.navigator.sendBeacon)try{S=s.navigator.sendBeacon(m.v.toString(),"")}catch{}!S&&s.Image&&(new Image().src=m.v,S=!0),S||(m.g=Yx(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Xh(m)}Hx(f)}function rf(f){f.g&&(Xg(f),f.g.cancel(),f.g=null)}function Ux(f){rf(f),f.u&&(s.clearTimeout(f.u),f.u=null),af(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&s.clearTimeout(f.s),f.s=null)}function of(f){if(!xx(f.h)&&!f.s){f.s=!0;var m=f.Ga;Q||Y(),V||(Q(),V=!0),G.add(m,f),f.B=0}}function nV(f,m){return Tx(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=m.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Gu(d(f.Ga,f,m),Kx(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const $=new Ci(this,this.j,f);let j=this.o;if(this.S&&(j?(j=E(j),O(j,this.S)):j=this.S),this.m!==null||this.O||($.H=j,j=null),this.P)e:{for(var m=0,S=0;S<this.i.length;S++){t:{var k=this.i[S];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(m+=k,4096<m){m=S;break e}if(m===4096||S===this.i.length-1){m=S+1;break e}}m=1e3}else m=1e3;m=zx(this,$,m),S=Gr(this.I),Ke(S,"RID",f),Ke(S,"CVER",22),this.D&&Ke(S,"X-HTTP-Session-Id",this.D),nl(this,S),j&&(this.O?m="headers="+encodeURIComponent(String(Dx(j)))+"&"+m:this.m&&Hg(S,this.m,j)),Kg(this.h,$),this.Ua&&Ke(S,"TYPE","init"),this.P?(Ke(S,"$req",m),Ke(S,"SID","null"),$.T=!0,zg($,S,null)):zg($,S,m),this.G=2}}else this.G==3&&(f?Bx(this,f):this.i.length==0||xx(this.h)||Bx(this))};function Bx(f,m){var S;m?S=m.l:S=f.U++;const k=Gr(f.I);Ke(k,"SID",f.K),Ke(k,"RID",S),Ke(k,"AID",f.T),nl(f,k),f.m&&f.o&&Hg(k,f.m,f.o),S=new Ci(f,f.j,S,f.B+1),f.m===null&&(S.H=f.o),m&&(f.i=m.D.concat(f.i)),m=zx(f,S,1e3),S.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Kg(f.h,S),zg(S,k,m)}function nl(f,m){f.H&&A(f.H,function(S,k){Ke(m,k,S)}),f.l&&Ix({},function(S,k){Ke(m,k,S)})}function zx(f,m,S){S=Math.min(f.i.length,S);var k=f.l?d(f.l.Na,f.l,f):null;e:{var $=f.i;let j=-1;for(;;){const Z=["count="+S];j==-1?0<S?(j=$[0].g,Z.push("ofs="+j)):j=0:Z.push("ofs="+j);let Fe=!0;for(let Lt=0;Lt<S;Lt++){let Ae=$[Lt].g;const Gt=$[Lt].map;if(Ae-=j,0>Ae)j=Math.max(0,$[Lt].g-100),Fe=!1;else try{JL(Gt,Z,"req"+Ae+"_")}catch{k&&k(Gt)}}if(Fe){k=Z.join("&");break e}}}return f=f.i.splice(0,S),m.D=f,k}function qx(f){if(!f.g&&!f.u){f.Y=1;var m=f.Fa;Q||Y(),V||(Q(),V=!0),G.add(m,f),f.v=0}}function Yg(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Gu(d(f.Fa,f),Kx(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Wx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Gu(d(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,on(10),rf(this),Wx(this))};function Xg(f){f.A!=null&&(s.clearTimeout(f.A),f.A=null)}function Wx(f){f.g=new Ci(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var m=Gr(f.qa);Ke(m,"RID","rpc"),Ke(m,"SID",f.K),Ke(m,"AID",f.T),Ke(m,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ke(m,"TO",f.ja),Ke(m,"TYPE","xmlhttp"),nl(f,m),f.m&&f.o&&Hg(m,f.m,f.o),f.L&&(f.g.I=f.L);var S=f.g;f=f.ia,S.L=1,S.v=ef(Gr(m)),S.m=null,S.P=!0,vx(S,f)}t.Za=function(){this.C!=null&&(this.C=null,rf(this),Yg(this),on(19))};function af(f){f.C!=null&&(s.clearTimeout(f.C),f.C=null)}function Gx(f,m){var S=null;if(f.g==m){af(f),Xg(f),f.g=null;var k=2}else if(Gg(f.h,m))S=m.D,Ex(f.h,m),k=1;else return;if(f.G!=0){if(m.o)if(k==1){S=m.m?m.m.length:0,m=Date.now()-m.F;var $=f.B;k=Hh(),rn(k,new px(k,S)),of(f)}else qx(f);else if($=m.s,$==3||$==0&&0<m.X||!(k==1&&nV(f,m)||k==2&&Yg(f)))switch(S&&0<S.length&&(m=f.h,m.i=m.i.concat(S)),$){case 1:Fo(f,5);break;case 4:Fo(f,10);break;case 3:Fo(f,6);break;default:Fo(f,2)}}}function Kx(f,m){let S=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(S*=2),S*m}function Fo(f,m){if(f.j.info("Error code "+m),m==2){var S=d(f.fb,f),k=f.Xa;const $=!k;k=new jo(k||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Jh(k,"https"),ef(k),$?QL(k.toString(),S):YL(k.toString(),S)}else on(2);f.G=0,f.l&&f.l.sa(m),Hx(f),Ux(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),on(2)):(this.j.info("Failed to ping google.com"),on(1))};function Hx(f){if(f.G=0,f.ka=[],f.l){const m=Sx(f.h);(m.length!=0||f.i.length!=0)&&(v(f.ka,m),v(f.ka,f.i),f.h.i.length=0,g(f.i),f.i.length=0),f.l.ra()}}function Qx(f,m,S){var k=S instanceof jo?Gr(S):new jo(S);if(k.g!="")m&&(k.g=m+"."+k.g),Zh(k,k.s);else{var $=s.location;k=$.protocol,m=m?m+"."+$.hostname:$.hostname,$=+$.port;var j=new jo(null);k&&Jh(j,k),m&&(j.g=m),$&&Zh(j,$),S&&(j.l=S),k=j}return S=f.D,m=f.ya,S&&m&&Ke(k,S,m),Ke(k,"VER",f.la),nl(f,k),k}function Yx(f,m,S){if(m&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=f.Ca&&!f.pa?new ut(new Ju({eb:S})):new ut(f.pa),m.Ha(f.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xx(){}t=Xx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function sf(){}sf.prototype.g=function(f,m){return new In(f,m)};function In(f,m){Wt.call(this),this.g=new Fx(m),this.l=f,this.h=m&&m.messageUrlParams||null,f=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(f?f["X-WebChannel-Content-Type"]=m.messageContentType:f={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(f?f["X-WebChannel-Client-Profile"]=m.va:f={"X-WebChannel-Client-Profile":m.va}),this.g.S=f,(f=m&&m.Sb)&&!y(f)&&(this.g.m=f),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!y(m)&&(this.g.D=m,f=this.h,f!==null&&m in f&&(f=this.h,m in f&&delete f[m])),this.j=new Ya(this)}_(In,Wt),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){Qg(this.g)},In.prototype.o=function(f){var m=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.u&&(S={},S.__data__=Lg(f),f=S);m.i.push(new jL(m.Ya++,f)),m.G==3&&of(m)},In.prototype.N=function(){this.g.l=null,delete this.j,Qg(this.g),delete this.g,In.aa.N.call(this)};function Jx(f){jg.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var m=f.__sm__;if(m){e:{for(const S in m){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,m=m!==null&&f in m?m[f]:void 0),this.data=m}else this.data=f}_(Jx,jg);function Zx(){Fg.call(this),this.status=1}_(Zx,Fg);function Ya(f){this.g=f}_(Ya,Xx),Ya.prototype.ua=function(){rn(this.g,"a")},Ya.prototype.ta=function(f){rn(this.g,new Jx(f))},Ya.prototype.sa=function(f){rn(this.g,new Zx)},Ya.prototype.ra=function(){rn(this.g,"b")},sf.prototype.createWebChannel=sf.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,MR=function(){return new sf},DR=function(){return Hh()},NR=Lo,m0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qh.NO_ERROR=0,Qh.TIMEOUT=8,Qh.HTTP_ERROR=6,sd=Qh,mx.COMPLETE="complete",RR=mx,cx.EventType=qu,qu.OPEN="a",qu.CLOSE="b",qu.ERROR="c",qu.MESSAGE="d",Wt.prototype.listen=Wt.prototype.K,Cl=cx,kR=Ju,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,CR=ut}).apply(typeof Af<"u"?Af:typeof self<"u"?self:typeof window<"u"?window:{});const PE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ct.UNAUTHENTICATED=new Ct(null),Ct.GOOGLE_CREDENTIALS=new Ct("google-credentials-uid"),Ct.FIRST_PARTY=new Ct("first-party-uid"),Ct.MOCK_USER=new Ct("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su="10.12.5";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new Ww("@firebase/firestore");function ss(){return Ea.logLevel}function W(t,...e){if(Ea.logLevel<=be.DEBUG){const n=e.map(Hw);Ea.debug(`Firestore (${Su}): ${t}`,...n)}}function dt(t,...e){if(Ea.logLevel<=be.ERROR){const n=e.map(Hw);Ea.error(`Firestore (${Su}): ${t}`,...n)}}function vo(t,...e){if(Ea.logLevel<=be.WARN){const n=e.map(Hw);Ea.warn(`Firestore (${Su}): ${t}`,...n)}}function Hw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${Su}) INTERNAL ASSERTION FAILED: `+t;throw dt(e),new Error(e)}function ce(t,e){t||se()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends zr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ct.UNAUTHENTICATED))}shutdown(){}}class s4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class u4{constructor(e){this.t=e,this.currentUser=Ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new yr,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},s=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>s(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?s(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new yr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ce(typeof r.accessToken=="string"),new $R(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ce(e===null||typeof e=="string"),new Ct(e)}}class l4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ct.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class c4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new l4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class h4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,W("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ce(typeof n.token=="string"),this.R=n.token,new h4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=d4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function Ws(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function VR(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new at(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new at(0,0))}static max(){return new he(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Tc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Tc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ce extends Tc{construct(e,n,r){return new Ce(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ce(n)}static emptyPath(){return new Ce([])}}const p4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class it extends Tc{construct(e,n,r){return new it(e,n,r)}static isValidIdentifier(e){return p4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),it.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new it(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new J(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new J(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new J(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new J(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new it(n)}static emptyPath(){return new it([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Ce.fromString(e))}static fromName(e){return new ne(Ce.fromString(e).popFirst(5))}static empty(){return new ne(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Ce(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function g0(t){return t.fields.find(e=>e.kind===2)}function Ko(t){return t.fields.filter(e=>e.kind!==2)}Yd.UNKNOWN_ID=-1;class ud{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ec{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ec(0,Vn.min())}}function jR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new Vn(i,ne.empty(),e)}function FR(t){return new Vn(t.readTime,t.key,-1)}class Vn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Vn(he.min(),ne.empty(),-1)}static max(){return new Vn(he.max(),ne.empty(),-1)}}function Qw(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==UR)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},u=>r(u))}),a=!0,o===i&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(i=>i?L.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new L((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let u=0;u<o;u++){const l=u;n(e[l]).next(c=>{a[l]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(e,n){return new L((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new yr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Gl(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Yw(r.target.error);this.V.reject(new Gl(e,i))}}static open(e,n,r,i){try{return new Sm(n,e.transaction(i,r))}catch(o){throw new Gl(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(W("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new g4(n)}}class co{constructor(e,n,r){this.name=e,this.version=n,this.p=r,co.S(_t())===12.2&&dt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return W("SimpleDb","Removing database:",e),Xo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!TR())return!1;if(co.C())return!0;const e=_t(),n=co.S(e),r=0<n&&n<10,i=zR(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(W("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const a=o.target.result;n(a)},i.onblocked=()=>{r(new Gl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const a=o.target.error;a.name==="VersionError"?r(new J(U.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new J(U.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new Gl(e,a))},i.onupgradeneeded=o=>{W("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const a=o.target.result;this.p.O(a,i.transaction,o.oldVersion,this.version).next(()=>{W("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.M(e);const s=Sm.open(this.db,e,o?"readonly":"readwrite",r),u=i(s).next(l=>(s.g(),l)).catch(l=>(s.abort(l),L.reject(l))).toPromise();return u.catch(()=>{}),await s.m,u}catch(s){const u=s,l=u.name!=="FirebaseError"&&a<3;if(W("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),!l)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}function zR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class m4{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Xo(this.B.delete())}}class Gl extends J{constructor(e,n){super(U.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Po(t){return t.name==="IndexedDbTransactionError"}class g4{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(W("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(W("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Xo(r)}add(e){return W("SimpleDb","ADD",this.store.name,e,e),Xo(this.store.add(e))}get(e){return Xo(this.store.get(e)).next(n=>(n===void 0&&(n=null),W("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return W("SimpleDb","DELETE",this.store.name,e),Xo(this.store.delete(e))}count(){return W("SimpleDb","COUNT",this.store.name),Xo(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new L((a,s)=>{o.onerror=u=>{s(u.target.error)},o.onsuccess=u=>{a(u.target.result)}})}{const o=this.cursor(r),a=[];return this.W(o,(s,u)=>{a.push(u)}).next(()=>a)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new L((i,o)=>{r.onerror=a=>{o(a.target.error)},r.onsuccess=a=>{i(a.target.result)}})}j(e,n){W("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(o,a,s)=>s.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new L((r,i)=>{n.onerror=o=>{const a=Yw(o.target.error);i(a)},n.onsuccess=o=>{const a=o.target.result;a?e(a.primaryKey,a.value).next(s=>{s?a.continue():r()}):r()}})}W(e,n){const r=[];return new L((i,o)=>{e.onerror=a=>{o(a.target.error)},e.onsuccess=a=>{const s=a.target.result;if(!s)return void i();const u=new m4(s),l=n(s.primaryKey,s.value,u);if(l instanceof L){const c=l.catch(h=>(u.done(),L.reject(h)));r.push(c)}u.isDone?i():u.K===null?s.continue():s.continue(u.K)}}).next(()=>L.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Xo(t){return new L((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Yw(r.target.error);n(i)}})}let OE=!1;function Yw(t){const e=co.S(_t());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new J("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return OE||(OE=!0,setTimeout(()=>{throw r},0)),r}}return t}class y4{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){W("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{W("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){Po(n)?W("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Ao(n)}await this.X(6e4)})}}class v4{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,o=!0;return L.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!r.has(a))return W("IndexBackfiller",`Processing collection: ${a}`),this.ne(e,a,i).next(s=>{i-=s,r.add(a)});o=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const a=o.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.re(i,o)).next(s=>(W("IndexBackfiller",`Updating offset: ${s}`),this.localStore.indexManager.updateCollectionGroup(e,n,s))).next(()=>a.size)}))}re(e,n){let r=e;return n.changes.forEach((i,o)=>{const a=FR(o);Qw(a,r)>0&&(r=a)}),new Vn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}_n.oe=-1;function Im(t){return t==null}function Sc(t){return t===0&&1/t==-1/0}function qR(t){return typeof t=="number"&&Number.isInteger(t)&&!Sc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=CE(e)),e=_4(t.get(n),e);return CE(e)}function _4(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function CE(t){return t+""}function Or(t){const e=t.length;if(ce(e>=2),e===2)return ce(t.charAt(0)===""&&t.charAt(1)===""),Ce.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const a=t.indexOf("",o);switch((a<0||a>n)&&se(),t.charAt(a+1)){case"":const s=t.substring(o,a);let u;i.length===0?u=s:(i+=s,u=i,i=""),r.push(u);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:se()}o=a+2}return new Ce(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t,e){return[t,hn(e)]}function WR(t,e,n){return[t,hn(e),n]}const w4={},b4=["prefixPath","collectionGroup","readTime","documentId"],x4=["prefixPath","collectionGroup","documentId"],T4=["collectionGroup","readTime","prefixPath","documentId"],E4=["canonicalId","targetId"],S4=["targetId","path"],I4=["path","targetId"],A4=["collectionId","parent"],P4=["indexId","uid"],O4=["uid","sequenceNumber"],C4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],k4=["indexId","uid","orderedDocumentKey"],R4=["userId","collectionPath","documentId"],N4=["userId","collectionPath","largestBatchId"],D4=["userId","collectionGroup","largestBatchId"],GR=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],M4=[...GR,"documentOverlays"],KR=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],HR=KR,Xw=[...HR,"indexConfiguration","indexState","indexEntries"],$4=Xw,L4=[...Xw,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0 extends BR{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Et(t,e){const n=ue(t);return co.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ua(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function QR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pf(this.root,e,this.comparator,!0)}}class Pf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r!=null?r:Ft.RED,this.left=i!=null?i:Ft.EMPTY,this.right=o!=null?o:Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ft(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ft.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NE(this.data.getIterator())}getIteratorFrom(e){return new NE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ve)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ve(this.comparator);return n.data=e,n}}class NE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Za(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(it.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Ve(it.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ws(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new YR("Invalid base64 string: "+o):o}}(e);return new mt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mt.EMPTY_BYTE_STRING=new mt("");const V4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yi(t){if(ce(!!t),typeof t=="string"){let e=0;const n=V4.exec(t);if(ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _o(t){return typeof t=="string"?mt.fromBase64String(t):mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Zw(t){const e=t.mapValue.fields.__previous_value__;return Jw(e)?Zw(e):e}function Ic(t){const e=yi(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,n,r,i,o,a,s,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=l}}class Sa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Sa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Sa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},cd={nullValue:"NULL_VALUE"};function Ia(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jw(t)?4:XR(t)?9007199254740991:10:se()}function Vr(t,e){if(t===e)return!0;const n=Ia(t);if(n!==Ia(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ic(t).isEqual(Ic(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=yi(i.timestampValue),s=yi(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return _o(i.bytesValue).isEqual(_o(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ct(i.geoPointValue.latitude)===ct(o.geoPointValue.latitude)&&ct(i.geoPointValue.longitude)===ct(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ct(i.integerValue)===ct(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=ct(i.doubleValue),s=ct(o.doubleValue);return a===s?Sc(a)===Sc(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return Ws(t.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(RE(a)!==RE(s))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(s[u]===void 0||!Vr(a[u],s[u])))return!1;return!0}(t,e);default:return se()}}function Ac(t,e){return(t.values||[]).find(n=>Vr(n,e))!==void 0}function wo(t,e){if(t===e)return 0;const n=Ia(t),r=Ia(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=ct(o.integerValue||o.doubleValue),u=ct(a.integerValue||a.doubleValue);return s<u?-1:s>u?1:s===u?0:isNaN(s)?isNaN(u)?0:-1:1}(t,e);case 3:return DE(t.timestampValue,e.timestampValue);case 4:return DE(Ic(t),Ic(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(o,a){const s=_o(o),u=_o(a);return s.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),u=a.split("/");for(let l=0;l<s.length&&l<u.length;l++){const c=ge(s[l],u[l]);if(c!==0)return c}return ge(s.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=ge(ct(o.latitude),ct(a.latitude));return s!==0?s:ge(ct(o.longitude),ct(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,a){const s=o.values||[],u=a.values||[];for(let l=0;l<s.length&&l<u.length;++l){const c=wo(s[l],u[l]);if(c)return c}return ge(s.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,a){if(o===Xi.mapValue&&a===Xi.mapValue)return 0;if(o===Xi.mapValue)return 1;if(a===Xi.mapValue)return-1;const s=o.fields||{},u=Object.keys(s),l=a.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let h=0;h<u.length&&h<c.length;++h){const d=ge(u[h],c[h]);if(d!==0)return d;const p=wo(s[u[h]],l[c[h]]);if(p!==0)return p}return ge(u.length,c.length)}(t.mapValue,e.mapValue);default:throw se()}}function DE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=yi(t),r=yi(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function Gs(t){return v0(t)}function v0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=yi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _o(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=v0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${v0(n.fields[a])}`;return i+"}"}(t.mapValue):se()}function Pc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _0(t){return!!t&&"integerValue"in t}function Oc(t){return!!t&&"arrayValue"in t}function ME(t){return!!t&&"nullValue"in t}function $E(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hd(t){return!!t&&"mapValue"in t}function Kl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ua(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Kl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function F4(t){return"nullValue"in t?cd:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Pc(Sa.empty(),ne.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:se()}function U4(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Pc(Sa.empty(),ne.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Xi:se()}function LE(t,e){const n=wo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function VE(t,e){const n=wo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(n)}setAll(e){let n=it.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=Kl(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());hd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];hd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ua(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new tn(Kl(this.value))}}function JR(t){const e=[];return Ua(t.fields,(n,r)=>{const i=new it([n]);if(hd(r)){const o=JR(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new ht(e,0,he.min(),he.min(),he.min(),tn.empty(),0)}static newFoundDocument(e,n,r,i){return new ht(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new ht(e,2,n,he.min(),he.min(),tn.empty(),0)}static newUnknownDocument(e,n){return new ht(e,3,n,he.min(),he.min(),tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n){this.position=e,this.inclusive=n}}function jE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=ne.comparator(ne.fromName(a.referenceValue),n.key):r=wo(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function FE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n="asc"){this.field=e,this.dir=n}}function B4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{}class xe extends ZR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new z4(e,n,r):n==="array-contains"?new G4(e,r):n==="in"?new oN(e,r):n==="not-in"?new K4(e,r):n==="array-contains-any"?new H4(e,r):new xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new q4(e,r):new W4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(wo(n,this.value)):n!==null&&Ia(this.value)===Ia(n)&&this.matchesComparison(wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class De extends ZR{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new De(e,n)}matches(e){return Hs(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Hs(t){return t.op==="and"}function w0(t){return t.op==="or"}function eb(t){return eN(t)&&Hs(t)}function eN(t){for(const e of t.filters)if(e instanceof De)return!1;return!0}function b0(t){if(t instanceof xe)return t.field.canonicalString()+t.op.toString()+Gs(t.value);if(eb(t))return t.filters.map(e=>b0(e)).join(",");{const e=t.filters.map(n=>b0(n)).join(",");return`${t.op}(${e})`}}function tN(t,e){return t instanceof xe?function(r,i){return i instanceof xe&&r.op===i.op&&r.field.isEqual(i.field)&&Vr(r.value,i.value)}(t,e):t instanceof De?function(r,i){return i instanceof De&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&tN(a,i.filters[s]),!0):!1}(t,e):void se()}function nN(t,e){const n=t.filters.concat(e);return De.create(n,t.op)}function rN(t){return t instanceof xe?function(n){return`${n.field.canonicalString()} ${n.op} ${Gs(n.value)}`}(t):t instanceof De?function(n){return n.op.toString()+" {"+n.getFilters().map(rN).join(" ,")+"}"}(t):"Filter"}class z4 extends xe{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class q4 extends xe{constructor(e,n){super(e,"in",n),this.keys=iN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class W4 extends xe{constructor(e,n){super(e,"not-in",n),this.keys=iN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function iN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class G4 extends xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Oc(n)&&Ac(n.arrayValue,this.value)}}class oN extends xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ac(this.value.arrayValue,n)}}class K4 extends xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ac(this.value.arrayValue,n)}}class H4 extends xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Oc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ac(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function x0(t,e=null,n=[],r=[],i=null,o=null,a=null){return new Q4(t,e,n,r,i,o,a)}function Aa(t){const e=ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>b0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Im(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Gs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Gs(r)).join(",")),e.ue=n}return e.ue}function Sh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!B4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!FE(t.startAt,e.startAt)&&FE(t.endAt,e.endAt)}function Xd(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Jd(t,e){return t.filters.filter(n=>n instanceof xe&&n.field.isEqual(e))}function UE(t,e,n){let r=cd,i=!0;for(const o of Jd(t,e)){let a=cd,s=!0;switch(o.op){case"<":case"<=":a=F4(o.value);break;case"==":case"in":case">=":a=o.value;break;case">":a=o.value,s=!1;break;case"!=":case"not-in":a=cd}LE({value:r,inclusive:i},{value:a,inclusive:s})<0&&(r=a,i=s)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const a=n.position[o];LE({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function BE(t,e,n){let r=Xi,i=!0;for(const o of Jd(t,e)){let a=Xi,s=!0;switch(o.op){case">=":case">":a=U4(o.value),s=!1;break;case"==":case"in":case"<=":a=o.value;break;case"<":a=o.value,s=!1;break;case"!=":case"not-in":a=Xi}VE({value:r,inclusive:i},{value:a,inclusive:s})>0&&(r=a,i=s)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const a=n.position[o];VE({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function aN(t,e,n,r,i,o,a,s){return new Iu(t,e,n,r,i,o,a,s)}function Ih(t){return new Iu(t)}function zE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sN(t){return t.collectionGroup!==null}function Hl(t){const e=ue(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new Ve(it.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(s=s.add(l.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Cc(o,r))}),n.has(it.keyField().canonicalString())||e.ce.push(new Cc(it.keyField(),r))}return e.ce}function Dn(t){const e=ue(t);return e.le||(e.le=Y4(e,Hl(t))),e.le}function Y4(t,e){if(t.limitType==="F")return x0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Cc(i.field,o)});const n=t.endAt?new Ks(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ks(t.startAt.position,t.startAt.inclusive):null;return x0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function T0(t,e){const n=t.filters.concat([e]);return new Iu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function E0(t,e,n){return new Iu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Am(t,e){return Sh(Dn(t),Dn(e))&&t.limitType===e.limitType}function uN(t){return`${Aa(Dn(t))}|lt:${t.limitType}`}function us(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>rN(i)).join(", ")}]`),Im(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Gs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Gs(i)).join(",")),`Target(${r})`}(Dn(t))}; limitType=${t.limitType})`}function Ah(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ne.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Hl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,u){const l=jE(a,s,u);return a.inclusive?l<=0:l<0}(r.startAt,Hl(r),i)||r.endAt&&!function(a,s,u){const l=jE(a,s,u);return a.inclusive?l>=0:l>0}(r.endAt,Hl(r),i))}(t,e)}function lN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cN(t){return(e,n)=>{let r=!1;for(const i of Hl(t)){const o=X4(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function X4(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(o,a,s){const u=a.data.field(o),l=s.data.field(o);return u!==null&&l!==null?wo(u,l):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ua(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return QR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=new qe(ne.comparator);function Rn(){return J4}const hN=new qe(ne.comparator);function kl(...t){let e=hN;for(const n of t)e=e.insert(n.key,n);return e}function fN(t){let e=hN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Cr(){return Ql()}function dN(){return Ql()}function Ql(){return new Oo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Z4=new qe(ne.comparator),e3=new Ve(ne.comparator);function ve(...t){let e=e3;for(const n of t)e=e.add(n);return e}const t3=new Ve(ge);function tb(){return t3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sc(e)?"-0":e}}function mN(t){return{integerValue:""+t}}function n3(t,e){return qR(e)?mN(e):pN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this._=void 0}}function r3(t,e,n){return t instanceof kc?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Jw(o)&&(o=Zw(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof Qs?yN(t,e):t instanceof Ys?vN(t,e):function(i,o){const a=gN(i,o),s=qE(a)+qE(i.Pe);return _0(a)&&_0(i.Pe)?mN(s):pN(i.serializer,s)}(t,e)}function i3(t,e,n){return t instanceof Qs?yN(t,e):t instanceof Ys?vN(t,e):n}function gN(t,e){return t instanceof Rc?function(r){return _0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class kc extends Pm{}class Qs extends Pm{constructor(e){super(),this.elements=e}}function yN(t,e){const n=_N(e);for(const r of t.elements)n.some(i=>Vr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ys extends Pm{constructor(e){super(),this.elements=e}}function vN(t,e){let n=_N(e);for(const r of t.elements)n=n.filter(i=>!Vr(i,r));return{arrayValue:{values:n}}}class Rc extends Pm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function qE(t){return ct(t.integerValue||t.doubleValue)}function _N(t){return Oc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,n){this.field=e,this.transform=n}}function a3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Qs&&i instanceof Qs||r instanceof Ys&&i instanceof Ys?Ws(r.elements,i.elements,Vr):r instanceof Rc&&i instanceof Rc?Vr(r.Pe,i.Pe):r instanceof kc&&i instanceof kc}(t.transform,e.transform)}class s3{constructor(e,n){this.version=e,this.transformResults=n}}class un{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Om{}function wN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Cm(t.key,un.none()):new Au(t.key,t.data,un.none());{const n=t.data,r=tn.empty();let i=new Ve(it.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new Ii(t.key,r,new wn(i.toArray()),un.none())}}function u3(t,e,n){t instanceof Au?function(i,o,a){const s=i.value.clone(),u=GE(i.fieldTransforms,o,a.transformResults);s.setAll(u),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Ii?function(i,o,a){if(!fd(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=GE(i.fieldTransforms,o,a.transformResults),u=o.data;u.setAll(bN(i)),u.setAll(s),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Yl(t,e,n,r){return t instanceof Au?function(o,a,s,u){if(!fd(o.precondition,a))return s;const l=o.value.clone(),c=KE(o.fieldTransforms,u,a);return l.setAll(c),a.convertToFoundDocument(a.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ii?function(o,a,s,u){if(!fd(o.precondition,a))return s;const l=KE(o.fieldTransforms,u,a),c=a.data;return c.setAll(bN(o)),c.setAll(l),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,a,s){return fd(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function l3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=gN(r.transform,i||null);o!=null&&(n===null&&(n=tn.empty()),n.set(r.field,o))}return n||null}function WE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ws(r,i,(o,a)=>a3(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Au extends Om{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ii extends Om{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function bN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function GE(t,e,n){const r=new Map;ce(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,i3(a,s,n[i]))}return r}function KE(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,r3(o,a,e))}return r}class Cm extends Om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xN extends Om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&u3(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=dN();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const u=wN(a,s);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&Ws(this.mutations,e.mutations,(n,r)=>WE(n,r))&&Ws(this.baseMutations,e.baseMutations,(n,r)=>WE(n,r))}}class rb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ce(e.mutations.length===r.length);let i=function(){return Z4}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new rb(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Ee;function h3(t){switch(t){default:return se();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function TN(t){if(t===void 0)return dt("GRPC error has no .code"),U.UNKNOWN;switch(t){case gt.OK:return U.OK;case gt.CANCELLED:return U.CANCELLED;case gt.UNKNOWN:return U.UNKNOWN;case gt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case gt.INTERNAL:return U.INTERNAL;case gt.UNAVAILABLE:return U.UNAVAILABLE;case gt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case gt.NOT_FOUND:return U.NOT_FOUND;case gt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case gt.ABORTED:return U.ABORTED;case gt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case gt.DATA_LOSS:return U.DATA_LOSS;default:return se()}}(Ee=gt||(gt={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=new ha([4294967295,4294967295],0);function HE(t){const e=f3().encode(t),n=new OR;return n.update(e),new Uint8Array(n.digest())}function QE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ha([n,r],0),new ha([i,o],0)]}class ob{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Rl(`Invalid padding: ${n}`);if(r<0)throw new Rl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ha.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ha.fromNumber(r)));return i.compare(d3)===1&&(i=new ha([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=HE(e),[r,i]=QE(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new ob(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const n=HE(e),[r,i]=QE(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Oh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ph(he.min(),i,new qe(ge),Rn(),ve())}}class Oh{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Oh(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class EN{constructor(e,n){this.targetId=e,this.me=n}}class SN{constructor(e,n,r=mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class YE{constructor(){this.fe=0,this.ge=JE(),this.pe=mt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ve(),n=ve(),r=ve();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new Oh(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=JE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ce(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class p3{constructor(e){this.Le=e,this.Be=new Map,this.ke=Rn(),this.qe=XE(),this.Qe=new qe(ge)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Xd(o))if(r===0){const a=new ne(o.path);this.Ue(n,a,ht.newNoDocument(a,he.min()))}else ce(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(e),u=s?this.Xe(s,e,a):1;if(u!==0){this.je(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=_o(r).toUint8Array()}catch(u){if(u instanceof YR)return vo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{s=new ob(a,i,o)}catch(u){return vo(u instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&Xd(s.target)){const u=new ne(s.target.path);this.ke.get(u)!==null||this.it(a,u)||this.Ue(a,u,ht.newNoDocument(u,e))}o.be&&(n.set(a,o.Ce()),o.ve())}});let r=ve();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(u=>{const l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new Ph(e,n,this.Qe,this.ke,r);return this.ke=Rn(),this.qe=XE(),this.Qe=new qe(ge),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new YE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ve(ge),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new YE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function XE(){return new qe(ne.comparator)}function JE(){return new qe(ne.comparator)}const m3=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),g3=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),y3=(()=>({and:"AND",or:"OR"}))();class v3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function S0(t,e){return t.useProto3Json||Im(e)?e:{value:e}}function Xs(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _3(t,e){return Xs(t,e.toTimestamp())}function fn(t){return ce(!!t),he.fromTimestamp(function(n){const r=yi(n);return new at(r.seconds,r.nanos)}(t))}function ab(t,e){return I0(t,e).canonicalString()}function I0(t,e){const n=function(i){return new Ce(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function AN(t){const e=Ce.fromString(t);return ce($N(e)),e}function Zd(t,e){return ab(t.databaseId,e.path)}function fa(t,e){const n=AN(e);if(n.get(1)!==t.databaseId.projectId)throw new J(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(CN(n))}function PN(t,e){return ab(t.databaseId,e)}function ON(t){const e=AN(t);return e.length===4?Ce.emptyPath():CN(e)}function A0(t){return new Ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CN(t){return ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ZE(t,e,n){return{name:Zd(t,e),fields:n.value.mapValue.fields}}function w3(t,e,n){const r=fa(t,e.name),i=fn(e.updateTime),o=e.createTime?fn(e.createTime):he.min(),a=new tn({mapValue:{fields:e.fields}}),s=ht.newFoundDocument(r,i,o,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function b3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,c){return l.useProto3Json?(ce(c===void 0||typeof c=="string"),mt.fromBase64String(c||"")):(ce(c===void 0||c instanceof Buffer||c instanceof Uint8Array),mt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(l){const c=l.code===void 0?U.UNKNOWN:TN(l.code);return new J(c,l.message||"")}(a);n=new SN(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=fa(t,r.document.name),o=fn(r.document.updateTime),a=r.document.createTime?fn(r.document.createTime):he.min(),s=new tn({mapValue:{fields:r.document.fields}}),u=ht.newFoundDocument(i,o,a,s),l=r.targetIds||[],c=r.removedTargetIds||[];n=new dd(l,c,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=fa(t,r.document),o=r.readTime?fn(r.readTime):he.min(),a=ht.newNoDocument(i,o),s=r.removedTargetIds||[];n=new dd([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=fa(t,r.document),o=r.removedTargetIds||[];n=new dd([],o,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new c3(i,o),s=r.targetId;n=new EN(s,a)}}return n}function ep(t,e){let n;if(e instanceof Au)n={update:ZE(t,e.key,e.value)};else if(e instanceof Cm)n={delete:Zd(t,e.key)};else if(e instanceof Ii)n={update:ZE(t,e.key,e.data),updateMask:A3(e.fieldMask)};else{if(!(e instanceof xN))return se();n={verify:Zd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof kc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Qs)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Ys)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Rc)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:_3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:se()}(t,e.precondition)),n}function P0(t,e){const n=e.currentDocument?function(o){return o.updateTime!==void 0?un.updateTime(fn(o.updateTime)):o.exists!==void 0?un.exists(o.exists):un.none()}(e.currentDocument):un.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,s){let u=null;if("setToServerValue"in s)ce(s.setToServerValue==="REQUEST_TIME"),u=new kc;else if("appendMissingElements"in s){const c=s.appendMissingElements.values||[];u=new Qs(c)}else if("removeAllFromArray"in s){const c=s.removeAllFromArray.values||[];u=new Ys(c)}else"increment"in s?u=new Rc(a,s.increment):se();const l=it.fromServerFormat(s.fieldPath);return new o3(l,u)}(t,i)):[];if(e.update){e.update.name;const i=fa(t,e.update.name),o=new tn({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(u){const l=u.fieldPaths||[];return new wn(l.map(c=>it.fromServerFormat(c)))}(e.updateMask);return new Ii(i,o,a,n,r)}return new Au(i,o,n,r)}if(e.delete){const i=fa(t,e.delete);return new Cm(i,n)}if(e.verify){const i=fa(t,e.verify);return new xN(i,n)}return se()}function x3(t,e){return t&&t.length>0?(ce(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?fn(i.updateTime):fn(o);return a.isEqual(he.min())&&(a=fn(o)),new s3(a,i.transformResults||[])}(n,e))):[]}function kN(t,e){return{documents:[PN(t,e.path)]}}function RN(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=PN(t,i);const o=function(l){if(l.length!==0)return MN(De.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:ls(d.field),direction:E3(d.dir)}}(c))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=S0(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function NN(t){let e=ON(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ce(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(h){const d=DN(h);return d instanceof De&&eb(d)?d.getFilters():[d]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(d=>function(_){return new Cc(cs(_.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(d))}(n.orderBy));let s=null;n.limit&&(s=function(h){let d;return d=typeof h=="object"?h.value:h,Im(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(h){const d=!!h.before,p=h.values||[];return new Ks(p,d)}(n.startAt));let l=null;return n.endAt&&(l=function(h){const d=!h.before,p=h.values||[];return new Ks(p,d)}(n.endAt)),aN(e,i,a,o,s,"F",u,l)}function T3(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=cs(n.unaryFilter.field);return xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=cs(n.unaryFilter.field);return xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=cs(n.unaryFilter.field);return xe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=cs(n.unaryFilter.field);return xe.create(a,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return xe.create(cs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return De.create(n.compositeFilter.filters.map(r=>DN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function E3(t){return m3[t]}function S3(t){return g3[t]}function I3(t){return y3[t]}function ls(t){return{fieldPath:t.canonicalString()}}function cs(t){return it.fromServerFormat(t.fieldPath)}function MN(t){return t instanceof xe?function(n){if(n.op==="=="){if($E(n.value))return{unaryFilter:{field:ls(n.field),op:"IS_NAN"}};if(ME(n.value))return{unaryFilter:{field:ls(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($E(n.value))return{unaryFilter:{field:ls(n.field),op:"IS_NOT_NAN"}};if(ME(n.value))return{unaryFilter:{field:ls(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ls(n.field),op:S3(n.op),value:n.value}}}(t):t instanceof De?function(n){const r=n.getFilters().map(i=>MN(i));return r.length===1?r[0]:{compositeFilter:{op:I3(n.op),filters:r}}}(t):se()}function A3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $N(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,r,i,o=he.min(),a=he.min(),s=mt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=u}withSequenceNumber(e){return new ei(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.ct=e}}function P3(t,e){let n;if(e.document)n=w3(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ne.fromSegments(e.noDocument.path),i=Oa(e.noDocument.readTime);n=ht.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return se();{const r=ne.fromSegments(e.unknownDocument.path),i=Oa(e.unknownDocument.version);n=ht.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new at(i[0],i[1]);return he.fromTimestamp(o)}(e.readTime)),n}function eS(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:tp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,a){return{name:Zd(o,a.key),fields:a.data.value.mapValue.fields,updateTime:Xs(o,a.version.toTimestamp()),createTime:Xs(o,a.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Pa(e.version)};else{if(!e.isUnknownDocument())return se();r.unknownDocument={path:n.path.toArray(),version:Pa(e.version)}}return r}function tp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Pa(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Oa(t){const e=new at(t.seconds,t.nanoseconds);return he.fromTimestamp(e)}function Jo(t,e){const n=(e.baseMutations||[]).map(o=>P0(t.ct,o));for(let o=0;o<e.mutations.length-1;++o){const a=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const s=e.mutations[o+1];a.updateTransforms=s.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>P0(t.ct,o)),i=at.fromMillis(e.localWriteTimeMs);return new nb(e.batchId,i,n,r)}function Nl(t){const e=Oa(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Oa(t.lastLimboFreeSnapshotVersion):he.min();let r;return r=function(o){return o.documents!==void 0}(t.query)?function(o){return ce(o.documents.length===1),Dn(Ih(ON(o.documents[0])))}(t.query):function(o){return Dn(NN(o))}(t.query),new ei(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,mt.fromBase64String(t.resumeToken))}function VN(t,e){const n=Pa(e.snapshotVersion),r=Pa(e.lastLimboFreeSnapshotVersion);let i;i=Xd(e.target)?kN(t.ct,e.target):RN(t.ct,e.target)._t;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Aa(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function jN(t){const e=NN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?E0(e,e.limit,"L"):e}function ky(t,e){return new ib(e.largestBatchId,P0(t.ct,e.overlayMutation))}function tS(t,e){const n=e.path.lastSegment();return[t,hn(e.path.popLast()),n]}function nS(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Pa(r.readTime),documentKey:hn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{getBundleMetadata(e,n){return rS(e).get(n).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Oa(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,n){return rS(e).put(function(i){return{bundleId:i.id,createTime:Pa(fn(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return iS(e).get(n).next(r=>{if(r)return function(o){return{name:o.name,query:jN(o.bundledQuery),readTime:Oa(o.readTime)}}(r)})}saveNamedQuery(e,n){return iS(e).put(function(i){return{name:i.name,readTime:Pa(fn(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function rS(t){return Et(t,"bundles")}function iS(t){return Et(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new km(e,r)}getOverlay(e,n){return hl(e).get(tS(this.userId,n)).next(r=>r?ky(this.serializer,r):null)}getOverlays(e,n){const r=Cr();return L.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,a)=>{const s=new ib(n,a);i.push(this.ht(e,s))}),L.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(a=>i.add(hn(a.getCollectionPath())));const o=[];return i.forEach(a=>{const s=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);o.push(hl(e).j("collectionPathOverlayIndex",s))}),L.waitFor(o)}getOverlaysForCollection(e,n,r){const i=Cr(),o=hn(n),a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return hl(e).U("collectionPathOverlayIndex",a).next(s=>{for(const u of s){const l=ky(this.serializer,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=Cr();let a;const s=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return hl(e).J({index:"collectionGroupOverlayIndex",range:s},(u,l,c)=>{const h=ky(this.serializer,l);o.size()<i||h.largestBatchId===a?(o.set(h.getKey(),h),a=h.largestBatchId):c.done()}).next(()=>o)}ht(e,n){return hl(e).put(function(i,o,a){const[s,u,l]=tS(o,a.mutation.key);return{userId:o,collectionPath:u,documentId:l,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:ep(i.ct,a.mutation)}}(this.serializer,this.userId,n))}}function hl(t){return Et(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{Pt(e){return Et(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?mt.fromUint8Array(r):mt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(ct(e.integerValue));else if("doubleValue"in e){const r=ct(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Sc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=yi(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(_o(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?XR(e)?this.dt(n,Number.MAX_SAFE_INTEGER):(this.wt(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.St(e.arrayValue,n),this.ft(n)):se()}Vt(e,n){this.dt(n,25),this.bt(e,n)}bt(e,n){n.Rt(e)}wt(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}St(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ne.fromName(e).path.forEach(r=>{this.dt(n,60),this.bt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}Zo.Dt=new Zo;function k3(t){if(t===0)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function oS(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const a=k3(255&r[o]);if(i+=a,a!==8)break}return i}(t);return Math.ceil(e/8)}class R3{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.vt(r.value),r=n.next();this.Ft()}Mt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.xt(r.value),r=n.next();this.Ot()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.vt(r);else if(r<2048)this.vt(960|r>>>6),this.vt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.vt(480|r>>>12),this.vt(128|63&r>>>6),this.vt(128|63&r);else{const i=n.codePointAt(0);this.vt(240|i>>>18),this.vt(128|63&i>>>12),this.vt(128|63&i>>>6),this.vt(128|63&i)}}this.Ft()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.xt(r);else if(r<2048)this.xt(960|r>>>6),this.xt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.xt(480|r>>>12),this.xt(128|63&r>>>6),this.xt(128|63&r);else{const i=n.codePointAt(0);this.xt(240|i>>>18),this.xt(128|63&i>>>12),this.xt(128|63&i>>>6),this.xt(128|63&i)}}this.Ot()}Bt(e){const n=this.kt(e),r=oS(n);this.qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Qt(e){const n=this.kt(e),r=oS(n);this.qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Kt(){this.$t(255),this.$t(255)}Ut(){this.Wt(255),this.Wt(255)}reset(){this.position=0}seed(e){this.qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Gt(){return this.buffer.slice(0,this.position)}kt(e){const n=function(o){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,o,!1),new Uint8Array(a.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}vt(e){const n=255&e;n===0?(this.$t(0),this.$t(255)):n===255?(this.$t(255),this.$t(0)):this.$t(n)}xt(e){const n=255&e;n===0?(this.Wt(0),this.Wt(255)):n===255?(this.Wt(255),this.Wt(0)):this.Wt(e)}Ft(){this.$t(0),this.$t(1)}Ot(){this.Wt(0),this.Wt(1)}$t(e){this.qt(1),this.buffer[this.position++]=e}Wt(e){this.qt(1),this.buffer[this.position++]=~e}qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class N3{constructor(e){this.zt=e}gt(e){this.zt.Ct(e)}Rt(e){this.zt.Nt(e)}At(e){this.zt.Bt(e)}Et(){this.zt.Kt()}}class D3{constructor(e){this.zt=e}gt(e){this.zt.Mt(e)}Rt(e){this.zt.Lt(e)}At(e){this.zt.Qt(e)}Et(){this.zt.Ut()}}class fl{constructor(){this.zt=new R3,this.jt=new N3(this.zt),this.Ht=new D3(this.zt)}seed(e){this.zt.seed(e)}Jt(e){return e===0?this.jt:this.Ht}Gt(){return this.zt.Gt()}reset(){this.zt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Yt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new ea(this.indexId,this.documentKey,this.arrayValue,r)}}function Di(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=aS(t.arrayValue,e.arrayValue),n!==0?n:(n=aS(t.directionalValue,e.directionalValue),n!==0?n:ne.comparator(t.documentKey,e.documentKey)))}function aS(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.Zt=new Ve((n,r)=>it.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Xt=e.orderBy,this.en=[];for(const n of e.filters){const r=n;r.isInequality()?this.Zt=this.Zt.add(r):this.en.push(r)}}get tn(){return this.Zt.size>1}nn(e){if(ce(e.collectionGroup===this.collectionId),this.tn)return!1;const n=g0(e);if(n!==void 0&&!this.rn(n))return!1;const r=Ko(e);let i=new Set,o=0,a=0;for(;o<r.length&&this.rn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Zt.size>0){const s=this.Zt.getIterator().getNext();if(!i.has(s.field.canonicalString())){const u=r[o];if(!this.sn(s,u)||!this.on(this.Xt[a++],u))return!1}++o}for(;o<r.length;++o){const s=r[o];if(a>=this.Xt.length||!this.on(this.Xt[a++],s))return!1}return!0}_n(){if(this.tn)return null;let e=new Ve(it.comparator);const n=[];for(const r of this.en)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new ud(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new ud(r.field,0))}for(const r of this.Xt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new ud(r.field,r.dir==="asc"?0:1)));return new Yd(Yd.UNKNOWN_ID,this.collectionId,n,Ec.empty())}rn(e){for(const n of this.en)if(this.sn(n,e))return!0;return!1}sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}on(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t){var e,n;if(ce(t instanceof xe||t instanceof De),t instanceof xe){if(t instanceof oN){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>xe.create(t.field,"==",o)))||[];return De.create(i,"or")}return t}const r=t.filters.map(i=>FN(i));return De.create(r,t.op)}function M3(t){if(t.getFilters().length===0)return[];const e=k0(FN(t));return ce(UN(e)),O0(e)||C0(e)?[e]:e.getFilters()}function O0(t){return t instanceof xe}function C0(t){return t instanceof De&&eb(t)}function UN(t){return O0(t)||C0(t)||function(n){if(n instanceof De&&w0(n)){for(const r of n.getFilters())if(!O0(r)&&!C0(r))return!1;return!0}return!1}(t)}function k0(t){if(ce(t instanceof xe||t instanceof De),t instanceof xe)return t;if(t.filters.length===1)return k0(t.filters[0]);const e=t.filters.map(r=>k0(r));let n=De.create(e,t.op);return n=np(n),UN(n)?n:(ce(n instanceof De),ce(Hs(n)),ce(n.filters.length>1),n.filters.reduce((r,i)=>sb(r,i)))}function sb(t,e){let n;return ce(t instanceof xe||t instanceof De),ce(e instanceof xe||e instanceof De),n=t instanceof xe?e instanceof xe?function(i,o){return De.create([i,o],"and")}(t,e):uS(t,e):e instanceof xe?uS(e,t):function(i,o){if(ce(i.filters.length>0&&o.filters.length>0),Hs(i)&&Hs(o))return nN(i,o.getFilters());const a=w0(i)?i:o,s=w0(i)?o:i,u=a.filters.map(l=>sb(l,s));return De.create(u,"or")}(t,e),np(n)}function uS(t,e){if(Hs(e))return nN(e,t.getFilters());{const n=e.filters.map(r=>sb(t,r));return De.create(n,"or")}}function np(t){if(ce(t instanceof xe||t instanceof De),t instanceof xe)return t;const e=t.getFilters();if(e.length===1)return np(e[0]);if(eN(t))return t;const n=e.map(i=>np(i)),r=[];return n.forEach(i=>{i instanceof xe?r.push(i):i instanceof De&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:De.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(){this.an=new ub}addToCollectionParentIndex(e,n){return this.an.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Vn.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Vn.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class ub{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ve(Ce.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ve(Ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new Uint8Array(0);class L3{constructor(e,n){this.databaseId=n,this.un=new ub,this.cn=new Oo(r=>Aa(r),(r,i)=>Sh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.un.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.un.add(n)});const o={collectionId:r,parent:hn(i)};return lS(e).put(o)}return L.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[VR(n),""],!1,!0);return lS(e).U(i).next(o=>{for(const a of o){if(a.collectionId!==n)break;r.push(Or(a.parent))}return r})}addFieldIndex(e,n){const r=dl(e),i=function(s){return{indexId:s.indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])}}(n);delete i.indexId;const o=r.add(i);if(n.indexState){const a=ts(e);return o.next(s=>{a.put(nS(s,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=dl(e),i=ts(e),o=es(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=dl(e),r=es(e),i=ts(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return L.forEach(this.ln(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new sS(r)._n();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=es(e);let i=!0;const o=new Map;return L.forEach(this.ln(n),a=>this.hn(e,a).next(s=>{i&&(i=!!s),o.set(a,s)})).next(()=>{if(i){let a=ve();const s=[];return L.forEach(o,(u,l)=>{W("IndexedDbIndexManager",`Using index ${function(w){return`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(x=>`${x.fieldPath}:${x.kind}`).join(",")}`}(u)} to execute ${Aa(n)}`);const c=function(w,x){const T=g0(x);if(T===void 0)return null;for(const A of Jd(w,T.fieldPath))switch(A.op){case"array-contains-any":return A.value.arrayValue.values||[];case"array-contains":return[A.value]}return null}(l,u),h=function(w,x){const T=new Map;for(const A of Ko(x))for(const I of Jd(w,A.fieldPath))switch(I.op){case"==":case"in":T.set(A.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return T.set(A.fieldPath.canonicalString(),I.value),Array.from(T.values())}return null}(l,u),d=function(w,x){const T=[];let A=!0;for(const I of Ko(x)){const E=I.kind===0?UE(w,I.fieldPath,w.startAt):BE(w,I.fieldPath,w.startAt);T.push(E.value),A&&(A=E.inclusive)}return new Ks(T,A)}(l,u),p=function(w,x){const T=[];let A=!0;for(const I of Ko(x)){const E=I.kind===0?BE(w,I.fieldPath,w.endAt):UE(w,I.fieldPath,w.endAt);T.push(E.value),A&&(A=E.inclusive)}return new Ks(T,A)}(l,u),_=this.Pn(u,l,d),g=this.Pn(u,l,p),v=this.In(u,l,h),b=this.Tn(u.indexId,c,_,d.inclusive,g,p.inclusive,v);return L.forEach(b,y=>r.G(y,n.limit).next(w=>{w.forEach(x=>{const T=ne.fromSegments(x.documentKey);a.has(T)||(a=a.add(T),s.push(T))})}))}).next(()=>s)}return L.resolve(null)})}ln(e){let n=this.cn.get(e);return n||(e.filters.length===0?n=[e]:n=M3(De.create(e.filters,"and")).map(r=>x0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.cn.set(e,n),n)}Tn(e,n,r,i,o,a,s){const u=(n!=null?n.length:1)*Math.max(r.length,o.length),l=u/(n!=null?n.length:1),c=[];for(let h=0;h<u;++h){const d=n?this.En(n[h/l]):Of,p=this.dn(e,d,r[h%l],i),_=this.An(e,d,o[h%l],a),g=s.map(v=>this.dn(e,d,v,!0));c.push(...this.createRange(p,_,g))}return c}dn(e,n,r,i){const o=new ea(e,ne.empty(),n,r);return i?o:o.Yt()}An(e,n,r,i){const o=new ea(e,ne.empty(),n,r);return i?o.Yt():o}hn(e,n){const r=new sS(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let a=null;for(const s of o)r.nn(s)&&(!a||s.fields.length>a.fields.length)&&(a=s);return a})}getIndexType(e,n){let r=2;const i=this.ln(n);return L.forEach(i,o=>this.hn(e,o).next(a=>{a?r!==0&&a.fields.length<function(u){let l=new Ve(it.comparator),c=!1;for(const h of u.filters)for(const d of h.getFlattenedFilters())d.field.isKeyField()||(d.op==="array-contains"||d.op==="array-contains-any"?c=!0:l=l.add(d.field));for(const h of u.orderBy)h.field.isKeyField()||(l=l.add(h.field));return l.size+(c?1:0)}(o)&&(r=1):r=0})).next(()=>function(a){return a.limit!==null}(n)&&i.length>1&&r===2?1:r)}Rn(e,n){const r=new fl;for(const i of Ko(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const a=r.Jt(i.kind);Zo.Dt.It(o,a)}return r.Gt()}En(e){const n=new fl;return Zo.Dt.It(e,n.Jt(0)),n.Gt()}Vn(e,n){const r=new fl;return Zo.Dt.It(Pc(this.databaseId,n),r.Jt(function(o){const a=Ko(o);return a.length===0?0:a[a.length-1].kind}(e))),r.Gt()}In(e,n,r){if(r===null)return[];let i=[];i.push(new fl);let o=0;for(const a of Ko(e)){const s=r[o++];for(const u of i)if(this.mn(n,a.fieldPath)&&Oc(s))i=this.fn(i,a,s);else{const l=u.Jt(a.kind);Zo.Dt.It(s,l)}}return this.gn(i)}Pn(e,n,r){return this.In(e,n,r.position)}gn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Gt();return n}fn(e,n,r){const i=[...e],o=[];for(const a of r.arrayValue.values||[])for(const s of i){const u=new fl;u.seed(s.Gt()),Zo.Dt.It(a,u.Jt(n.kind)),o.push(u)}return o}mn(e,n){return!!e.filters.find(r=>r instanceof xe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=dl(e),i=ts(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(o=>{const a=[];return L.forEach(o,s=>i.get([s.indexId,this.uid]).next(u=>{a.push(function(c,h){const d=h?new Ec(h.sequenceNumber,new Vn(Oa(h.readTime),new ne(Or(h.documentKey)),h.largestBatchId)):Ec.empty(),p=c.fields.map(([_,g])=>new ud(it.fromServerFormat(_),g));return new Yd(c.indexId,c.collectionGroup,p,d)}(s,u))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:ge(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=dl(e),o=ts(e);return this.pn(e).next(a=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(s=>L.forEach(s,u=>o.put(nS(u.indexId,this.uid,a,r)))))}updateIndexEntries(e,n){const r=new Map;return L.forEach(n,(i,o)=>{const a=r.get(i.collectionGroup);return(a?L.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next(s=>(r.set(i.collectionGroup,s),L.forEach(s,u=>this.yn(e,i,u).next(l=>{const c=this.wn(o,u);return l.isEqual(c)?L.resolve():this.Sn(e,o,u,l,c)}))))})}bn(e,n,r,i){return es(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Vn(r,n.key),documentKey:n.key.path.toArray()})}Dn(e,n,r,i){return es(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Vn(r,n.key),n.key.path.toArray()])}yn(e,n,r){const i=es(e);let o=new Ve(Di);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Vn(r,n)])},(a,s)=>{o=o.add(new ea(r.indexId,n,s.arrayValue,s.directionalValue))}).next(()=>o)}wn(e,n){let r=new Ve(Di);const i=this.Rn(n,e);if(i==null)return r;const o=g0(n);if(o!=null){const a=e.data.field(o.fieldPath);if(Oc(a))for(const s of a.arrayValue.values||[])r=r.add(new ea(n.indexId,e.key,this.En(s),i))}else r=r.add(new ea(n.indexId,e.key,Of,i));return r}Sn(e,n,r,i,o){W("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const a=[];return function(u,l,c,h,d){const p=u.getIterator(),_=l.getIterator();let g=Za(p),v=Za(_);for(;g||v;){let b=!1,y=!1;if(g&&v){const w=c(g,v);w<0?y=!0:w>0&&(b=!0)}else g!=null?y=!0:b=!0;b?(h(v),v=Za(_)):y?(d(g),g=Za(p)):(g=Za(p),v=Za(_))}}(i,o,Di,s=>{a.push(this.bn(e,n,r,s))},s=>{a.push(this.Dn(e,n,r,s))}),L.waitFor(a)}pn(e){let n=1;return ts(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((a,s)=>Di(a,s)).filter((a,s,u)=>!s||Di(a,u[s-1])!==0);const i=[];i.push(e);for(const a of r){const s=Di(a,e),u=Di(a,n);if(s===0)i[0]=e.Yt();else if(s>0&&u<0)i.push(a),i.push(a.Yt());else if(u>0)break}i.push(n);const o=[];for(let a=0;a<i.length;a+=2){if(this.Cn(i[a],i[a+1]))return[];const s=[i[a].indexId,this.uid,i[a].arrayValue,i[a].directionalValue,Of,[]],u=[i[a+1].indexId,this.uid,i[a+1].arrayValue,i[a+1].directionalValue,Of,[]];o.push(IDBKeyRange.bound(s,u))}return o}Cn(e,n){return Di(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(cS)}getMinOffset(e,n){return L.mapArray(this.ln(n),r=>this.hn(e,r).next(i=>i||se())).next(cS)}}function lS(t){return Et(t,"collectionParents")}function es(t){return Et(t,"indexEntries")}function dl(t){return Et(t,"indexConfiguration")}function ts(t){return Et(t,"indexState")}function cS(t){ce(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Qw(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Vn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class gn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],a=IDBKeyRange.only(n.batchId);let s=0;const u=r.J({range:a},(c,h,d)=>(s++,d.delete()));o.push(u.next(()=>{ce(s===1)}));const l=[];for(const c of n.mutations){const h=WR(e,c.key.path,n.batchId);o.push(i.delete(h)),l.push(c.key)}return L.waitFor(o).next(()=>l)}function rp(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw se();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(41943040,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class Rm{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.vn={}}static lt(e,n,r,i){ce(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new Rm(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mi(e).J({index:"userMutationsIndex",range:r},(i,o,a)=>{n=!1,a.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=hs(e),a=Mi(e);return a.add({}).next(s=>{ce(typeof s=="number");const u=new nb(s,n,r,i),l=function(p,_,g){const v=g.baseMutations.map(y=>ep(p.ct,y)),b=g.mutations.map(y=>ep(p.ct,y));return{userId:_,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:v,mutations:b}}(this.serializer,this.userId,u),c=[];let h=new Ve((d,p)=>ge(d.canonicalString(),p.canonicalString()));for(const d of i){const p=WR(this.userId,d.key.path,s);h=h.add(d.key.path.popLast()),c.push(a.put(l)),c.push(o.put(p,w4))}return h.forEach(d=>{c.push(this.indexManager.addToCollectionParentIndex(e,d))}),e.addOnCommittedListener(()=>{this.vn[s]=u.keys()}),L.waitFor(c).next(()=>u)})}lookupMutationBatch(e,n){return Mi(e).get(n).next(r=>r?(ce(r.userId===this.userId),Jo(this.serializer,r)):null)}Fn(e,n){return this.vn[n]?L.resolve(this.vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.vn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Mi(e).J({index:"userMutationsIndex",range:i},(a,s,u)=>{s.userId===this.userId&&(ce(s.batchId>=r),o=Jo(this.serializer,s)),u.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Mi(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,o,a)=>{r=o.batchId,a.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mi(e).U("userMutationsIndex",n).next(r=>r.map(i=>Jo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=ld(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return hs(e).J({range:i},(a,s,u)=>{const[l,c,h]=a,d=Or(c);if(l===this.userId&&n.path.isEqual(d))return Mi(e).get(h).next(p=>{if(!p)throw se();ce(p.userId===this.userId),o.push(Jo(this.serializer,p))});u.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ve(ge);const i=[];return n.forEach(o=>{const a=ld(this.userId,o.path),s=IDBKeyRange.lowerBound(a),u=hs(e).J({range:s},(l,c,h)=>{const[d,p,_]=l,g=Or(p);d===this.userId&&o.path.isEqual(g)?r=r.add(_):h.done()});i.push(u)}),L.waitFor(i).next(()=>this.Mn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=ld(this.userId,r),a=IDBKeyRange.lowerBound(o);let s=new Ve(ge);return hs(e).J({range:a},(u,l,c)=>{const[h,d,p]=u,_=Or(d);h===this.userId&&r.isPrefixOf(_)?_.length===i&&(s=s.add(p)):c.done()}).next(()=>this.Mn(e,s))}Mn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(Mi(e).get(o).next(a=>{if(a===null)throw se();ce(a.userId===this.userId),r.push(Jo(this.serializer,a))}))}),L.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return BN(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.xn(n.batchId)}),L.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}xn(e){delete this.vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return L.resolve();const r=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),i=[];return hs(e).J({range:r},(o,a,s)=>{if(o[0]===this.userId){const u=Or(o[1]);i.push(u)}else s.done()}).next(()=>{ce(i.length===0)})})}containsKey(e,n){return zN(e,this.userId,n)}On(e){return qN(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function zN(t,e,n){const r=ld(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let a=!1;return hs(t).J({range:o,H:!0},(s,u,l)=>{const[c,h,d]=s;c===e&&h===i&&(a=!0),l.done()}).next(()=>a)}function Mi(t){return Et(t,"mutations")}function hs(t){return Et(t,"documentMutations")}function qN(t){return Et(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Ln(){return new Ca(0)}static Bn(){return new Ca(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.kn(e).next(n=>{const r=new Ca(n.highestTargetId);return n.highestTargetId=r.next(),this.qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.kn(e).next(n=>he.fromTimestamp(new at(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.kn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.kn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.qn(e,i)))}addTargetData(e,n){return this.Qn(e,n).next(()=>this.kn(e).next(r=>(r.targetCount+=1,this.Kn(n,r),this.qn(e,r))))}updateTargetData(e,n){return this.Qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>ns(e).delete(n.targetId)).next(()=>this.kn(e)).next(r=>(ce(r.targetCount>0),r.targetCount-=1,this.qn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return ns(e).J((a,s)=>{const u=Nl(s);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,o.push(this.removeTargetData(e,u)))}).next(()=>L.waitFor(o)).next(()=>i)}forEachTarget(e,n){return ns(e).J((r,i)=>{const o=Nl(i);n(o)})}kn(e){return fS(e).get("targetGlobalKey").next(n=>(ce(n!==null),n))}qn(e,n){return fS(e).put("targetGlobalKey",n)}Qn(e,n){return ns(e).put(VN(this.serializer,n))}Kn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.kn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Aa(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return ns(e).J({range:i,index:"queryTargetsIndex"},(a,s,u)=>{const l=Nl(s);Sh(n,l.target)&&(o=l,u.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=zi(e);return n.forEach(a=>{const s=hn(a.path);i.push(o.put({targetId:r,path:s})),i.push(this.referenceDelegate.addReference(e,r,a))}),L.waitFor(i)}removeMatchingKeys(e,n,r){const i=zi(e);return L.forEach(n,o=>{const a=hn(o.path);return L.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=zi(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=zi(e);let o=ve();return i.J({range:r,H:!0},(a,s,u)=>{const l=Or(a[1]),c=new ne(l);o=o.add(c)}).next(()=>o)}containsKey(e,n){const r=hn(n.path),i=IDBKeyRange.bound([r],[VR(r)],!1,!0);let o=0;return zi(e).J({index:"documentTargetsIndex",H:!0,range:i},([a,s],u,l)=>{a!==0&&(o++,l.done())}).next(()=>o>0)}ot(e,n){return ns(e).get(n).next(r=>r?Nl(r):null)}}function ns(t){return Et(t,"targets")}function fS(t){return Et(t,"targetGlobal")}function zi(t){return Et(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS([t,e],[n,r]){const i=ge(t,n);return i===0?ge(e,r):i}class j3{constructor(e){this.$n=e,this.buffer=new Ve(dS),this.Un=0}Wn(){return++this.Un}Gn(e){const n=[e,this.Wn()];if(this.buffer.size<this.$n)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();dS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class F3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.zn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.jn(6e4)}stop(){this.zn&&(this.zn.cancel(),this.zn=null)}get started(){return this.zn!==null}jn(e){W("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.zn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.zn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Po(n)?W("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ao(n)}await this.jn(3e5)})}}class U3{constructor(e,n){this.Hn=e,this.params=n}calculateTargetCount(e,n){return this.Hn.Jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return L.resolve(_n.oe);const r=new j3(n);return this.Hn.forEachTarget(e,i=>r.Gn(i.sequenceNumber)).next(()=>this.Hn.Yn(e,i=>r.Gn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Hn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Hn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(hS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hS):this.Zn(e,n))}getCacheSize(e){return this.Hn.getCacheSize(e)}Zn(e,n){let r,i,o,a,s,u,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,a=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,s=Date.now(),this.removeTargets(e,r,n))).next(h=>(o=h,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(l=Date.now(),ss()<=be.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-c}ms
	Determined least recently used ${i} in `+(s-a)+`ms
	Removed ${o} targets in `+(u-s)+`ms
	Removed ${h} documents in `+(l-u)+`ms
Total Duration: ${l-c}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}}function B3(t,e){return new U3(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,n){this.db=e,this.garbageCollector=B3(this,n)}Jn(e){const n=this.Xn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Xn(e){let n=0;return this.Yn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Yn(e,n){return this.er(e,(r,i)=>n(i))}addReference(e,n,r){return Cf(e,r)}removeReference(e,n,r){return Cf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Cf(e,n)}tr(e,n){return function(i,o){let a=!1;return qN(i).Y(s=>zN(i,s,o).next(u=>(u&&(a=!0),L.resolve(!u)))).next(()=>a)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.er(e,(a,s)=>{if(s<=n){const u=this.tr(e,a).next(l=>{if(!l)return o++,r.getEntry(e,a).next(()=>(r.removeEntry(a,he.min()),zi(e).delete(function(h){return[0,hn(h.path)]}(a))))});i.push(u)}}).next(()=>L.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Cf(e,n)}er(e,n){const r=zi(e);let i,o=_n.oe;return r.J({index:"documentTargetsIndex"},([a,s],{path:u,sequenceNumber:l})=>{a===0?(o!==_n.oe&&n(new ne(Or(i)),o),o=l,i=u):o=_n.oe}).next(()=>{o!==_n.oe&&n(new ne(Or(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Cf(t,e){return zi(t).put(function(r,i){return{targetId:0,path:hn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this.changes=new Oo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Bo(e).put(r)}removeEntry(e,n,r){return Bo(e).delete(function(o,a){const s=o.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],tp(a),s[s.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.nr(e,r)))}getEntry(e,n){let r=ht.newInvalidDocument(n);return Bo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(pl(n))},(i,o)=>{r=this.rr(n,o)}).next(()=>r)}ir(e,n){let r={size:0,document:ht.newInvalidDocument(n)};return Bo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(pl(n))},(i,o)=>{r={document:this.rr(n,o),size:rp(o)}}).next(()=>r)}getEntries(e,n){let r=Rn();return this.sr(e,n,(i,o)=>{const a=this.rr(i,o);r=r.insert(i,a)}).next(()=>r)}_r(e,n){let r=Rn(),i=new qe(ne.comparator);return this.sr(e,n,(o,a)=>{const s=this.rr(o,a);r=r.insert(o,s),i=i.insert(o,rp(a))}).next(()=>({documents:r,ar:i}))}sr(e,n,r){if(n.isEmpty())return L.resolve();let i=new Ve(gS);n.forEach(u=>i=i.add(u));const o=IDBKeyRange.bound(pl(i.first()),pl(i.last())),a=i.getIterator();let s=a.getNext();return Bo(e).J({index:"documentKeyIndex",range:o},(u,l,c)=>{const h=ne.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;s&&gS(s,h)<0;)r(s,null),s=a.getNext();s&&s.isEqual(h)&&(r(s,l),s=a.hasNext()?a.getNext():null),s?c.$(pl(s)):c.done()}).next(()=>{for(;s;)r(s,null),s=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const a=n.path,s=[a.popLast().toArray(),a.lastSegment(),tp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Bo(e).U(IDBKeyRange.bound(s,u,!0)).next(l=>{o==null||o.incrementDocumentReadCount(l.length);let c=Rn();for(const h of l){const d=this.rr(ne.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);d.isFoundDocument()&&(Ah(n,d)||i.has(d.key))&&(c=c.insert(d.key,d))}return c})}getAllFromCollectionGroup(e,n,r,i){let o=Rn();const a=mS(n,r),s=mS(n,Vn.max());return Bo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,s,!0)},(u,l,c)=>{const h=this.rr(ne.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(h.key,h),o.size===i&&c.done()}).next(()=>o)}newChangeBuffer(e){return new W3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return pS(e).get("remoteDocumentGlobalKey").next(n=>(ce(!!n),n))}nr(e,n){return pS(e).put("remoteDocumentGlobalKey",n)}rr(e,n){if(n){const r=P3(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(he.min())))return r}return ht.newInvalidDocument(e)}}function GN(t){return new q3(t)}class W3 extends WN{constructor(e,n){super(),this.ur=e,this.trackRemovals=n,this.cr=new Oo(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Ve((o,a)=>ge(o.canonicalString(),a.canonicalString()));return this.changes.forEach((o,a)=>{const s=this.cr.get(o);if(n.push(this.ur.removeEntry(e,o,s.readTime)),a.isValidDocument()){const u=eS(this.ur.serializer,a);i=i.add(o.path.popLast());const l=rp(u);r+=l-s.size,n.push(this.ur.addEntry(e,o,u))}else if(r-=s.size,this.trackRemovals){const u=eS(this.ur.serializer,a.convertToNoDocument(he.min()));n.push(this.ur.addEntry(e,o,u))}}),i.forEach(o=>{n.push(this.ur.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.ur.updateMetadata(e,r)),L.waitFor(n)}getFromCache(e,n){return this.ur.ir(e,n).next(r=>(this.cr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ur._r(e,n).next(({documents:r,ar:i})=>(i.forEach((o,a)=>{this.cr.set(o,{size:a,readTime:r.get(o).readTime})}),r))}}function pS(t){return Et(t,"remoteDocumentGlobal")}function Bo(t){return Et(t,"remoteDocumentsV14")}function pl(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function mS(t,e){const n=e.documentKey.path.toArray();return[t,tp(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function gS(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=ge(n[o],r[o]),i)return i;return i=ge(n.length,r.length),i||(i=ge(n[n.length-2],r[r.length-2]),i||ge(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Yl(r.mutation,i,wn.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const i=Cr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=kl();return o.forEach((s,u)=>{a=a.insert(s,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Cr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=Rn();const a=Ql(),s=function(){return Ql()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof Ii)?o=o.insert(l.key,l):c!==void 0?(a.set(l.key,c.mutation.getFieldMask()),Yl(c.mutation,l,c.mutation.getFieldMask(),at.now())):a.set(l.key,wn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,c)=>a.set(l,c)),n.forEach((l,c)=>{var h;return s.set(l,new G3(c,(h=a.get(l))!==null&&h!==void 0?h:null))}),s))}recalculateAndSaveOverlays(e,n){const r=Ql();let i=new qe((a,s)=>a-s),o=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||wn.empty();c=s.applyToLocalView(l,c),r.set(u,c);const h=(i.get(s.batchId)||ve()).add(u);i=i.insert(s.batchId,h)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const u=s.getNext(),l=u.key,c=u.value,h=dN();c.forEach(d=>{if(!o.has(d)){const p=wN(n.get(d),r.get(d));p!==null&&h.set(d,p),o=o.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,l,h))}return L.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ne.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):L.resolve(Cr());let s=-1,u=o;return a.next(l=>L.forEach(l,(c,h)=>(s<h.largestBatchId&&(s=h.largestBatchId),o.get(c)?L.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{u=u.insert(c,d)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ve())).next(c=>({batchId:s,changes:fN(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=kl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=kl();return this.indexManager.getCollectionParents(e,o).next(s=>L.forEach(s,u=>{const l=function(h,d){return new Iu(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(c=>{c.forEach((h,d)=>{a=a.insert(h,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((u,l)=>{const c=l.getKey();a.get(c)===null&&(a=a.insert(c,ht.newInvalidDocument(c)))});let s=kl();return a.forEach((u,l)=>{const c=o.get(u);c!==void 0&&Yl(c.mutation,l,wn.empty(),at.now()),Ah(n,l)&&(s=s.insert(u,l))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return L.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fn(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:jN(i.bundledQuery),readTime:fn(i.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(){this.overlays=new qe(ne.comparator),this.Pr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Cr();return L.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Pr.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const i=Cr(),o=n.length+1,a=new ne(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const u=s.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new qe((l,c)=>l-c);const a=this.overlays.getIterator();for(;a.hasNext();){const l=a.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=o.get(l.largestBatchId);c===null&&(c=Cr(),o=o.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const s=Cr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>s.set(l,c)),!(s.size()>=i)););return L.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new ib(n,r));let o=this.Pr.get(n);o===void 0&&(o=ve(),this.Pr.set(n,o)),this.Pr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(){this.sessionToken=mt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this.Ir=new Ve(At.Tr),this.Er=new Ve(At.dr)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new At(e,n);this.Ir=this.Ir.add(r),this.Er=this.Er.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new At(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new ne(new Ce([])),r=new At(n,e),i=new At(n,e+1),o=[];return this.Er.forEachInRange([r,i],a=>{this.Rr(a),o.push(a.key)}),o}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Er=this.Er.delete(e)}pr(e){const n=new ne(new Ce([])),r=new At(n,e),i=new At(n,e+1);let o=ve();return this.Er.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new At(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class At{constructor(e,n){this.key=e,this.yr=n}static Tr(e,n){return ne.comparator(e.key,n.key)||ge(e.yr,n.yr)}static dr(e,n){return ge(e.yr,n.yr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Ve(At.Tr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new nb(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.Sr=this.Sr.add(new At(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return L.resolve(a)}lookupMutationBatch(e,n){return L.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new At(n,0),i=new At(n,Number.POSITIVE_INFINITY),o=[];return this.Sr.forEachInRange([r,i],a=>{const s=this.br(a.yr);o.push(s)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ve(ge);return n.forEach(i=>{const o=new At(i,0),a=new At(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([o,a],s=>{r=r.add(s.yr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ne.isDocumentKey(o)||(o=o.child(""));const a=new At(new ne(o),0);let s=new Ve(ge);return this.Sr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(s=s.add(u.yr)),!0)},a),L.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ce(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return L.forEach(n.mutations,i=>{const o=new At(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new At(n,0),i=this.Sr.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.Fr=e,this.docs=function(){return new qe(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():ht.newInvalidDocument(n))}getEntries(e,n){let r=Rn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ht.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Rn();const a=n.path,s=new ne(a.child("")),u=this.docs.getIteratorFrom(s);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||Qw(FR(c),r)<=0||(i.has(c.key)||Ah(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,n,r,i){se()}Mr(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new J3(this)}getSize(e){return L.resolve(this.size)}}class J3 extends WN{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e){this.persistence=e,this.Or=new Oo(n=>Aa(n),Sh),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Nr=0,this.Lr=new lb,this.targetCount=0,this.Br=Ca.Ln()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),L.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Ca(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Qn(n),L.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Lr.mr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Or.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Or.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Lr.Ar(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Lr.Vr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Lr.mr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Lr.pr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Lr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n){this.kr={},this.overlays={},this.qr=new _n(0),this.Qr=!1,this.Qr=!0,this.Kr=new Q3,this.referenceDelegate=e(this),this.$r=new Z3(this),this.indexManager=new $3,this.remoteDocumentCache=function(i){return new X3(i)}(r=>this.referenceDelegate.Ur(r)),this.serializer=new LN(n),this.Wr=new K3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new H3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new Y3(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getGlobalsCache(){return this.Kr}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Wr}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new ez(this.qr.next());return this.referenceDelegate.Gr(),r(i).next(o=>this.referenceDelegate.zr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}jr(e,n){return L.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class ez extends BR{constructor(e){super(),this.currentSequenceNumber=e}}class Nm{constructor(e){this.persistence=e,this.Hr=new lb,this.Jr=null}static Yr(e){return new Nm(e)}get Zr(){if(this.Jr)return this.Jr;throw se()}addReference(e,n,r){return this.Hr.addReference(r,n),this.Zr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Hr.removeReference(r,n),this.Zr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Zr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Hr.mr(n.targetId).forEach(i=>this.Zr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Zr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Gr(){this.Jr=new Set}zr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Zr,r=>{const i=ne.fromPath(r);return this.Xr(e,i).next(o=>{o||n.removeEntry(i,he.min())})}).next(()=>(this.Jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Xr(e,n).next(r=>{r?this.Zr.delete(n.toString()):this.Zr.add(n.toString())})}Ur(e){return 0}Xr(e,n){return L.or([()=>L.resolve(this.Hr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.jr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e){this.serializer=e}O(e,n,r,i){const o=new Sm("createOrUpgrade",n);r<1&&i>=1&&(function(u){u.createObjectStore("owner")}(e),function(u){u.createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kE,{unique:!0}),u.createObjectStore("documentMutations")}(e),yS(e),function(u){u.createObjectStore("remoteDocuments")}(e));let a=L.resolve();return r<3&&i>=3&&(r!==0&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),yS(e)),a=a.next(()=>function(u){const l=u.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:he.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",c)}(o))),r<4&&i>=4&&(r!==0&&(a=a.next(()=>function(u,l){return l.store("mutations").U().next(c=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kE,{unique:!0});const h=l.store("mutations"),d=c.map(p=>h.put(p));return L.waitFor(d)})}(e,o))),a=a.next(()=>{(function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(a=a.next(()=>this.ti(o))),r<6&&i>=6&&(a=a.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.ni(o)))),r<7&&i>=7&&(a=a.next(()=>this.ri(o))),r<8&&i>=8&&(a=a.next(()=>this.ii(e,o))),r<9&&i>=9&&(a=a.next(()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(a=a.next(()=>this.si(o))),r<11&&i>=11&&(a=a.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(a=a.next(()=>{(function(u){const l=u.createObjectStore("documentOverlays",{keyPath:R4});l.createIndex("collectionPathOverlayIndex",N4,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",D4,{unique:!1})})(e)})),r<13&&i>=13&&(a=a.next(()=>function(u){const l=u.createObjectStore("remoteDocumentsV14",{keyPath:b4});l.createIndex("documentKeyIndex",x4),l.createIndex("collectionGroupIndex",T4)}(e)).next(()=>this.oi(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(a=a.next(()=>this._i(e,o))),r<15&&i>=15&&(a=a.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:P4}).createIndex("sequenceNumberIndex",O4,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:C4}).createIndex("documentKeyIndex",k4,{unique:!1})}(e))),r<16&&i>=16&&(a=a.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(a=a.next(()=>{(function(u){u.createObjectStore("globals",{keyPath:"name"})})(e)})),a}ni(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=rp(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ti(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>L.forEach(i,o=>{const a=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",a).next(s=>L.forEach(s,u=>{ce(u.userId===o.userId);const l=Jo(this.serializer,u);return BN(e,o.userId,l).next(()=>{})}))}))}ri(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((a,s)=>{const u=new Ce(a),l=function(h){return[0,hn(h)]}(u);o.push(n.get(l).next(c=>c?L.resolve():(h=>n.put({targetId:0,path:hn(h),sequenceNumber:i.highestListenSequenceNumber}))(u)))}).next(()=>L.waitFor(o))})}ii(e,n){e.createObjectStore("collectionParents",{keyPath:A4});const r=n.store("collectionParents"),i=new ub,o=a=>{if(i.add(a)){const s=a.lastSegment(),u=a.popLast();return r.put({collectionId:s,parent:hn(u)})}};return n.store("remoteDocuments").J({H:!0},(a,s)=>{const u=new Ce(a);return o(u.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([a,s,u],l)=>{const c=Or(s);return o(c.popLast())}))}si(e){const n=e.store("targets");return n.J((r,i)=>{const o=Nl(i),a=VN(this.serializer,o);return n.put(a)})}oi(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((o,a)=>{const s=n.store("remoteDocumentsV14"),u=function(h){return h.document?new ne(Ce.fromString(h.document.name).popFirst(5)):h.noDocument?ne.fromSegments(h.noDocument.path):h.unknownDocument?ne.fromSegments(h.unknownDocument.path):se()}(a).path.toArray(),l={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(s.put(l))}).next(()=>L.waitFor(i))}_i(e,n){const r=n.store("mutations"),i=GN(this.serializer),o=new HN(Nm.Yr,this.serializer.ct);return r.U().next(a=>{const s=new Map;return a.forEach(u=>{var l;let c=(l=s.get(u.userId))!==null&&l!==void 0?l:ve();Jo(this.serializer,u).keys().forEach(h=>c=c.add(h)),s.set(u.userId,c)}),L.forEach(s,(u,l)=>{const c=new Ct(l),h=km.lt(this.serializer,c),d=o.getIndexManager(c),p=Rm.lt(c,this.serializer,d,o.referenceDelegate);return new KN(i,p,h,d).recalculateAndSaveOverlaysForDocumentKeys(new y0(n,_n.oe),u).next()})})}}function yS(t){t.createObjectStore("targetDocuments",{keyPath:S4}).createIndex("documentTargetsIndex",I4,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",E4,{unique:!0}),t.createObjectStore("targetGlobal")}const Ry="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class cb{constructor(e,n,r,i,o,a,s,u,l,c,h=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ai=o,this.window=a,this.document=s,this.ui=l,this.ci=c,this.li=h,this.qr=null,this.Qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.hi=null,this.inForeground=!1,this.Pi=null,this.Ii=null,this.Ti=Number.NEGATIVE_INFINITY,this.Ei=d=>Promise.resolve(),!cb.D())throw new J(U.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new z3(this,i),this.di=n+"main",this.serializer=new LN(u),this.Ai=new co(this.di,this.li,new tz(this.serializer)),this.Kr=new C3,this.$r=new V3(this.referenceDelegate,this.serializer),this.remoteDocumentCache=GN(this.serializer),this.Wr=new O3,this.window&&this.window.localStorage?this.Ri=this.window.localStorage:(this.Ri=null,c===!1&&dt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Vi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new J(U.FAILED_PRECONDITION,Ry);return this.mi(),this.fi(),this.gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.$r.getHighestSequenceNumber(e))}).then(e=>{this.qr=new _n(e,this.ui)}).then(()=>{this.Qr=!0}).catch(e=>(this.Ai&&this.Ai.close(),Promise.reject(e)))}pi(e){return this.Ei=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ai.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ai.enqueueAndForget(async()=>{this.started&&await this.Vi()}))}Vi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>kf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.yi(e).next(n=>{n||(this.isPrimary=!1,this.ai.enqueueRetryable(()=>this.Ei(!1)))})}).next(()=>this.wi(e)).next(n=>this.isPrimary&&!n?this.Si(e).next(()=>!1):!!n&&this.bi(e).next(()=>!0))).catch(e=>{if(Po(e))return W("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return W("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ai.enqueueRetryable(()=>this.Ei(e)),this.isPrimary=e})}yi(e){return ml(e).get("owner").next(n=>L.resolve(this.Di(n)))}Ci(e){return kf(e).delete(this.clientId)}async vi(){if(this.isPrimary&&!this.Fi(this.Ti,18e5)){this.Ti=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Et(n,"clientMetadata");return r.U().next(i=>{const o=this.Mi(i,18e5),a=i.filter(s=>o.indexOf(s)===-1);return L.forEach(a,s=>r.delete(s.clientId)).next(()=>a)})}).catch(()=>[]);if(this.Ri)for(const n of e)this.Ri.removeItem(this.xi(n.clientId))}}gi(){this.Ii=this.ai.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Vi().then(()=>this.vi()).then(()=>this.gi()))}Di(e){return!!e&&e.ownerId===this.clientId}wi(e){return this.ci?L.resolve(!0):ml(e).get("owner").next(n=>{if(n!==null&&this.Fi(n.leaseTimestampMs,5e3)&&!this.Oi(n.ownerId)){if(this.Di(n)&&this.networkEnabled)return!0;if(!this.Di(n)){if(!n.allowTabSynchronization)throw new J(U.FAILED_PRECONDITION,Ry);return!1}}return!(!this.networkEnabled||!this.inForeground)||kf(e).U().next(r=>this.Mi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,s=this.networkEnabled===i.networkEnabled;if(o||a&&s)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&W("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Qr=!1,this.Ni(),this.Ii&&(this.Ii.cancel(),this.Ii=null),this.Li(),this.Bi(),await this.Ai.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new y0(e,_n.oe);return this.Si(n).next(()=>this.Ci(n))}),this.Ai.close(),this.ki()}Mi(e,n){return e.filter(r=>this.Fi(r.updateTimeMs,n)&&!this.Oi(r.clientId))}qi(){return this.runTransaction("getActiveClients","readonly",e=>kf(e).U().next(n=>this.Mi(n,18e5).map(r=>r.clientId)))}get started(){return this.Qr}getGlobalsCache(){return this.Kr}getMutationQueue(e,n){return Rm.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new L3(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return km.lt(this.serializer,e)}getBundleCache(){return this.Wr}runTransaction(e,n,r){W("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=function(u){return u===17?L4:u===16?$4:u===15?Xw:u===14?HR:u===13?KR:u===12?M4:u===11?GR:void se()}(this.li);let a;return this.Ai.runTransaction(e,i,o,s=>(a=new y0(s,this.qr?this.qr.next():_n.oe),n==="readwrite-primary"?this.yi(a).next(u=>!!u||this.wi(a)).next(u=>{if(!u)throw dt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ai.enqueueRetryable(()=>this.Ei(!1)),new J(U.FAILED_PRECONDITION,UR);return r(a)}).next(u=>this.bi(a).next(()=>u)):this.Qi(a).next(()=>r(a)))).then(s=>(a.raiseOnCommittedEvent(),s))}Qi(e){return ml(e).get("owner").next(n=>{if(n!==null&&this.Fi(n.leaseTimestampMs,5e3)&&!this.Oi(n.ownerId)&&!this.Di(n)&&!(this.ci||this.allowTabSynchronization&&n.allowTabSynchronization))throw new J(U.FAILED_PRECONDITION,Ry)})}bi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ml(e).put("owner",n)}static D(){return co.D()}Si(e){const n=ml(e);return n.get("owner").next(r=>this.Di(r)?(W("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):L.resolve())}Fi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(dt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}mi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Pi=()=>{this.ai.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Vi()))},this.document.addEventListener("visibilitychange",this.Pi),this.inForeground=this.document.visibilityState==="visible")}Li(){this.Pi&&(this.document.removeEventListener("visibilitychange",this.Pi),this.Pi=null)}fi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.hi=()=>{this.Ni();const n=/(?:Version|Mobile)\/1[456]/;xR()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ai.enterRestrictedMode(!0),this.ai.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.hi))}Bi(){this.hi&&(this.window.removeEventListener("pagehide",this.hi),this.hi=null)}Oi(e){var n;try{const r=((n=this.Ri)===null||n===void 0?void 0:n.getItem(this.xi(e)))!==null;return W("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return dt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ni(){if(this.Ri)try{this.Ri.setItem(this.xi(this.clientId),String(Date.now()))}catch(e){dt("Failed to set zombie client id.",e)}}ki(){if(this.Ri)try{this.Ri.removeItem(this.xi(this.clientId))}catch{}}xi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ml(t){return Et(t,"owner")}function kf(t){return Et(t,"clientMetadata")}function QN(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ki=r,this.$i=i}static Ui(e,n){let r=ve(),i=ve();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new hb(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(){this.Wi=!1,this.Gi=!1,this.zi=100,this.ji=function(){return xR()?8:zR(_t())>0?6:4}()}initialize(e,n){this.Hi=e,this.indexManager=n,this.Wi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Ji(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Yi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new nz;return this.Zi(e,n,a).next(s=>{if(o.result=s,this.Gi)return this.Xi(e,n,a,s.size)})}).next(()=>o.result)}Xi(e,n,r,i){return r.documentReadCount<this.zi?(ss()<=be.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",us(n),"since it only creates cache indexes for collection contains","more than or equal to",this.zi,"documents"),L.resolve()):(ss()<=be.DEBUG&&W("QueryEngine","Query:",us(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ji*i?(ss()<=be.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",us(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dn(n))):L.resolve())}Ji(e,n){if(zE(n))return L.resolve(null);let r=Dn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=E0(n,null,"F"),r=Dn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=ve(...o);return this.Hi.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.es(n,s);return this.ts(n,l,a,u.readTime)?this.Ji(e,E0(n,null,"F")):this.ns(e,l,n,u)}))})))}Yi(e,n,r,i){return zE(n)||i.isEqual(he.min())?L.resolve(null):this.Hi.getDocuments(e,r).next(o=>{const a=this.es(n,o);return this.ts(n,a,r,i)?L.resolve(null):(ss()<=be.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),us(n)),this.ns(e,a,n,jR(i,-1)).next(s=>s))})}es(e,n){let r=new Ve(cN(e));return n.forEach((i,o)=>{Ah(e,o)&&(r=r.add(o))}),r}ts(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Zi(e,n,r){return ss()<=be.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",us(n)),this.Hi.getDocumentsMatchingQuery(e,n,Vn.min(),r)}ns(e,n,r,i){return this.Hi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e,n,r,i){this.persistence=e,this.rs=n,this.serializer=i,this.ss=new qe(ge),this.os=new Oo(o=>Aa(o),Sh),this._s=new Map,this.us=e.getRemoteDocumentCache(),this.$r=e.getTargetCache(),this.Wr=e.getBundleCache(),this.cs(r)}cs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KN(this.us,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.us.setIndexManager(this.indexManager),this.rs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ss))}}function XN(t,e,n,r){return new rz(t,e,n,r)}async function JN(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.cs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let u=ve();for(const l of i){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of o){s.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({ls:l,removedBatchIds:a,addedBatchIds:s}))})})}function iz(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.us.newChangeBuffer({trackRemovals:!0});return function(s,u,l,c){const h=l.batch,d=h.keys();let p=L.resolve();return d.forEach(_=>{p=p.next(()=>c.getEntry(u,_)).next(g=>{const v=l.docVersions.get(_);ce(v!==null),g.version.compareTo(v)<0&&(h.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),c.addEntry(g)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(u,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let u=ve();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(u=u.add(s.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ZN(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.$r.getLastRemoteSnapshotVersion(n))}function oz(t,e){const n=ue(t),r=e.snapshotVersion;let i=n.ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.us.newChangeBuffer({trackRemovals:!0});i=n.ss;const s=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;s.push(n.$r.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.$r.addMatchingKeys(o,c.addedDocuments,h)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(mt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(g,v,b){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(d,p,c)&&s.push(n.$r.updateTargetData(o,p))});let u=Rn(),l=ve();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(az(o,a,e.documentUpdates).next(c=>{u=c.hs,l=c.Ps})),!r.isEqual(he.min())){const c=n.$r.getLastRemoteSnapshotVersion(o).next(h=>n.$r.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return L.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.ss=i,o))}function az(t,e,n){let r=ve(),i=ve();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Rn();return n.forEach((s,u)=>{const l=o.get(s);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(s)),u.isNoDocument()&&u.version.isEqual(he.min())?(e.removeEntry(s,u.readTime),a=a.insert(s,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),a=a.insert(s,u)):W("LocalStore","Ignoring outdated watch update for ",s,". Current version:",l.version," Watch version:",u.version)}),{hs:a,Ps:i}})}function sz(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ip(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.$r.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):n.$r.allocateTargetId(r).next(a=>(i=new ei(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.$r.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ss=n.ss.insert(r.targetId,r),n.os.set(e,r.targetId)),r})}async function Js(t,e,n){const r=ue(t),i=r.ss.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Po(a))throw a;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ss=r.ss.remove(e),r.os.delete(i.target)}function R0(t,e,n){const r=ue(t);let i=he.min(),o=ve();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,l,c){const h=ue(u),d=h.os.get(c);return d!==void 0?L.resolve(h.ss.get(d)):h.$r.getTargetData(l,c)}(r,a,Dn(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.$r.getMatchingKeysForTargetId(a,s.targetId).next(u=>{o=u})}).next(()=>r.rs.getDocumentsMatchingQuery(a,e,n?i:he.min(),n?o:ve())).next(s=>(nD(r,lN(e),s),{documents:s,Is:o})))}function eD(t,e){const n=ue(t),r=ue(n.$r),i=n.ss.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r.ot(o,e).next(a=>a?a.target:null))}function tD(t,e){const n=ue(t),r=n._s.get(e)||he.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.us.getAllFromCollectionGroup(i,e,jR(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(nD(n,e,i),i))}function nD(t,e,n){let r=t._s.get(e)||he.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t._s.set(e,r)}function vS(t,e){return`firestore_clients_${t}_${e}`}function _S(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Ny(t,e){return`firestore_targets_${t}_${e}`}class op{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static As(e,n,r){const i=JSON.parse(r);let o,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(o=new J(i.error.code,i.error.message))),a?new op(e,n,i.state,o):(dt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Rs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xl{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static As(e,n){const r=JSON.parse(n);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new J(r.error.code,r.error.message))),o?new Xl(e,r.state,i):(dt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Rs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ap{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static As(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=tb();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=qR(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new ap(e,o):(dt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class fb{constructor(e,n){this.clientId=e,this.onlineState=n}static As(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new fb(n.clientId,n.onlineState):(dt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class N0{constructor(){this.activeTargetIds=tb()}Vs(e){this.activeTargetIds=this.activeTargetIds.add(e)}fs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Rs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dy{constructor(e,n,r,i,o){this.window=e,this.ai=n,this.persistenceKey=r,this.gs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ps=this.ys.bind(this),this.ws=new qe(ge),this.started=!1,this.Ss=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.bs=vS(this.persistenceKey,this.gs),this.Ds=function(u){return`firestore_sequence_number_${u}`}(this.persistenceKey),this.ws=this.ws.insert(this.gs,new N0),this.Cs=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.vs=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Fs=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.Ms=function(u){return`firestore_online_state_${u}`}(this.persistenceKey),this.xs=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.ps)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.qi();for(const r of e){if(r===this.gs)continue;const i=this.getItem(vS(this.persistenceKey,r));if(i){const o=ap.As(r,i);o&&(this.ws=this.ws.insert(o.clientId,o))}}this.Os();const n=this.storage.getItem(this.Ms);if(n){const r=this.Ns(n);r&&this.Ls(r)}for(const r of this.Ss)this.ys(r);this.Ss=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ds,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Bs(this.ws)}isActiveQueryTarget(e){let n=!1;return this.ws.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.ks(e,"pending")}updateMutationState(e,n,r){this.ks(e,n,r),this.qs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Ny(this.persistenceKey,e));if(r){const i=Xl.As(e,r);i&&(n=i.state)}}return this.Qs.Vs(e),this.Os(),n}removeLocalQueryTarget(e){this.Qs.fs(e),this.Os()}isLocalQueryTarget(e){return this.Qs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ny(this.persistenceKey,e))}updateQueryState(e,n,r){this.Ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.$s(e)}notifyBundleLoaded(e){this.Us(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ps),this.removeItem(this.bs),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return W("SharedClientState","READ",e,n),n}setItem(e,n){W("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){W("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ys(e){const n=e;if(n.storageArea===this.storage){if(W("SharedClientState","EVENT",n.key,n.newValue),n.key===this.bs)return void dt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ai.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Cs.test(n.key)){if(n.newValue==null){const r=this.Ws(n.key);return this.Gs(r,null)}{const r=this.zs(n.key,n.newValue);if(r)return this.Gs(r.clientId,r)}}else if(this.vs.test(n.key)){if(n.newValue!==null){const r=this.js(n.key,n.newValue);if(r)return this.Hs(r)}}else if(this.Fs.test(n.key)){if(n.newValue!==null){const r=this.Js(n.key,n.newValue);if(r)return this.Ys(r)}}else if(n.key===this.Ms){if(n.newValue!==null){const r=this.Ns(n.newValue);if(r)return this.Ls(r)}}else if(n.key===this.Ds){const r=function(o){let a=_n.oe;if(o!=null)try{const s=JSON.parse(o);ce(typeof s=="number"),a=s}catch(s){dt("SharedClientState","Failed to read sequence number from WebStorage",s)}return a}(n.newValue);r!==_n.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.xs){const r=this.Zs(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Xs(i)))}}}else this.Ss.push(n)})}}get Qs(){return this.ws.get(this.gs)}Os(){this.setItem(this.bs,this.Qs.Rs())}ks(e,n,r){const i=new op(this.currentUser,e,n,r),o=_S(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Rs())}qs(e){const n=_S(this.persistenceKey,this.currentUser,e);this.removeItem(n)}$s(e){const n={clientId:this.gs,onlineState:e};this.storage.setItem(this.Ms,JSON.stringify(n))}Ks(e,n,r){const i=Ny(this.persistenceKey,e),o=new Xl(e,n,r);this.setItem(i,o.Rs())}Us(e){const n=JSON.stringify(Array.from(e));this.setItem(this.xs,n)}Ws(e){const n=this.Cs.exec(e);return n?n[1]:null}zs(e,n){const r=this.Ws(e);return ap.As(r,n)}js(e,n){const r=this.vs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return op.As(new Ct(o),i,n)}Js(e,n){const r=this.Fs.exec(e),i=Number(r[1]);return Xl.As(i,n)}Ns(e){return fb.As(e)}Zs(e){return JSON.parse(e)}async Hs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.eo(e.batchId,e.state,e.error);W("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Ys(e){return this.syncEngine.no(e.targetId,e.state,e.error)}Gs(e,n){const r=n?this.ws.insert(e,n):this.ws.remove(e),i=this.Bs(this.ws),o=this.Bs(r),a=[],s=[];return o.forEach(u=>{i.has(u)||a.push(u)}),i.forEach(u=>{o.has(u)||s.push(u)}),this.syncEngine.ro(a,s).then(()=>{this.ws=r})}Ls(e){this.ws.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Bs(e){let n=tb();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class rD{constructor(){this.io=new N0,this.so={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.io.Vs(e),this.so[e]||"not-current"}updateQueryState(e,n,r){this.so[e]=n}removeLocalQueryTarget(e){this.io.fs(e)}isLocalQueryTarget(e){return this.io.activeTargetIds.has(e)}clearQueryState(e){delete this.so[e]}getAllActiveQueryTargets(){return this.io.activeTargetIds}isActiveQueryTarget(e){return this.io.activeTargetIds.has(e)}start(){return this.io=new N0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this._o=()=>this.ao(),this.uo=()=>this.co(),this.lo=[],this.ho()}oo(e){this.lo.push(e)}shutdown(){window.removeEventListener("online",this._o),window.removeEventListener("offline",this.uo)}ho(){window.addEventListener("online",this._o),window.addEventListener("offline",this.uo)}ao(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.lo)e(0)}co(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.lo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rf=null;function My(){return Rf===null?Rf=function(){return 268435456+Math.round(2147483648*Math.random())}():Rf++,"0x"+Rf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e){this.Po=e.Po,this.Io=e.Io}To(e){this.Eo=e}Ao(e){this.Ro=e}Vo(e){this.mo=e}onMessage(e){this.fo=e}close(){this.Io()}send(e){this.Po(e)}po(){this.Eo()}yo(){this.Ro()}wo(e){this.mo(e)}So(e){this.fo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class hz extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.bo=r+"://"+n.host,this.Do=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get vo(){return!1}Fo(n,r,i,o,a){const s=My(),u=this.Mo(n,r.toUriEncodedString());W("RestConnection",`Sending RPC '${n}' ${s}:`,u,i);const l={"google-cloud-resource-prefix":this.Do,"x-goog-request-params":this.Co};return this.xo(l,o,a),this.Oo(n,u,l,i).then(c=>(W("RestConnection",`Received RPC '${n}' ${s}: `,c),c),c=>{throw vo("RestConnection",`RPC '${n}' ${s} failed with error: `,c,"url: ",u,"request:",i),c})}No(n,r,i,o,a,s){return this.Fo(n,r,i,o,a)}xo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Su}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}Mo(n,r){const i=lz[n];return`${this.bo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Oo(e,n,r,i){const o=My();return new Promise((a,s)=>{const u=new CR;u.setWithCredentials(!0),u.listenOnce(RR.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case sd.NO_ERROR:const c=u.getResponseJson();W(Yt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),a(c);break;case sd.TIMEOUT:W(Yt,`RPC '${e}' ${o} timed out`),s(new J(U.DEADLINE_EXCEEDED,"Request time out"));break;case sd.HTTP_ERROR:const h=u.getStatus();if(W(Yt,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const _=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(b)>=0?b:U.UNKNOWN}(p.status);s(new J(_,p.message))}else s(new J(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else s(new J(U.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{W(Yt,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(i);W(Yt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Lo(e,n,r){const i=My(),o=[this.bo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=MR(),s=DR(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new kR({})),this.xo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=o.join("");W(Yt,`Creating RPC '${e}' stream ${i}: ${c}`,u);const h=a.createWebChannel(c,u);let d=!1,p=!1;const _=new cz({Po:v=>{p?W(Yt,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(W(Yt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),W(Yt,`RPC '${e}' stream ${i} sending:`,v),h.send(v))},Io:()=>h.close()}),g=(v,b,y)=>{v.listen(b,w=>{try{y(w)}catch(x){setTimeout(()=>{throw x},0)}})};return g(h,Cl.EventType.OPEN,()=>{p||(W(Yt,`RPC '${e}' stream ${i} transport opened.`),_.po())}),g(h,Cl.EventType.CLOSE,()=>{p||(p=!0,W(Yt,`RPC '${e}' stream ${i} transport closed`),_.wo())}),g(h,Cl.EventType.ERROR,v=>{p||(p=!0,vo(Yt,`RPC '${e}' stream ${i} transport errored:`,v),_.wo(new J(U.UNAVAILABLE,"The operation could not be completed")))}),g(h,Cl.EventType.MESSAGE,v=>{var b;if(!p){const y=v.data[0];ce(!!y);const w=y,x=w.error||((b=w[0])===null||b===void 0?void 0:b.error);if(x){W(Yt,`RPC '${e}' stream ${i} received error:`,x);const T=x.status;let A=function(P){const O=gt[P];if(O!==void 0)return TN(O)}(T),I=x.message;A===void 0&&(A=U.INTERNAL,I="Unknown error status: "+T+" with message "+x.message),p=!0,_.wo(new J(A,I)),h.close()}else W(Yt,`RPC '${e}' stream ${i} received:`,y),_.So(y)}}),g(s,NR.STAT_EVENT,v=>{v.stat===m0.PROXY?W(Yt,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===m0.NOPROXY&&W(Yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.yo()},0),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(){return typeof window<"u"?window:null}function pd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t){return new v3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ai=e,this.timerId=n,this.Bo=r,this.ko=i,this.qo=o,this.Qo=0,this.Ko=null,this.$o=Date.now(),this.reset()}reset(){this.Qo=0}Uo(){this.Qo=this.qo}Wo(e){this.cancel();const n=Math.floor(this.Qo+this.Go()),r=Math.max(0,Date.now()-this.$o),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Qo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ko=this.ai.enqueueAfterDelay(this.timerId,i,()=>(this.$o=Date.now(),e())),this.Qo*=this.ko,this.Qo<this.Bo&&(this.Qo=this.Bo),this.Qo>this.qo&&(this.Qo=this.qo)}zo(){this.Ko!==null&&(this.Ko.skipDelay(),this.Ko=null)}cancel(){this.Ko!==null&&(this.Ko.cancel(),this.Ko=null)}Go(){return(Math.random()-.5)*this.Qo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n,r,i,o,a,s,u){this.ai=e,this.jo=r,this.Ho=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Jo=0,this.Yo=null,this.Zo=null,this.stream=null,this.Xo=0,this.e_=new oD(e,n)}t_(){return this.state===1||this.state===5||this.n_()}n_(){return this.state===2||this.state===3}start(){this.Xo=0,this.state!==4?this.auth():this.r_()}async stop(){this.t_()&&await this.close(0)}i_(){this.state=0,this.e_.reset()}s_(){this.n_()&&this.Yo===null&&(this.Yo=this.ai.enqueueAfterDelay(this.jo,6e4,()=>this.o_()))}__(e){this.a_(),this.stream.send(e)}async o_(){if(this.n_())return this.close(0)}a_(){this.Yo&&(this.Yo.cancel(),this.Yo=null)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}async close(e,n){this.a_(),this.u_(),this.e_.cancel(),this.Jo++,e!==4?this.e_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(dt(n.toString()),dt("Using maximum backoff delay to prevent overloading the backend."),this.e_.Uo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.c_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Vo(n)}c_(){}auth(){this.state=1;const e=this.l_(this.Jo),n=this.Jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Jo===n&&this.h_(r,i)},r=>{e(()=>{const i=new J(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.P_(i)})})}h_(e,n){const r=this.l_(this.Jo);this.stream=this.I_(e,n),this.stream.To(()=>{r(()=>this.listener.To())}),this.stream.Ao(()=>{r(()=>(this.state=2,this.Zo=this.ai.enqueueAfterDelay(this.Ho,1e4,()=>(this.n_()&&(this.state=3),Promise.resolve())),this.listener.Ao()))}),this.stream.Vo(i=>{r(()=>this.P_(i))}),this.stream.onMessage(i=>{r(()=>++this.Xo==1?this.T_(i):this.onNext(i))})}r_(){this.state=5,this.e_.Wo(async()=>{this.state=0,this.start()})}P_(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}l_(e){return n=>{this.ai.enqueueAndForget(()=>this.Jo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fz extends aD{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}I_(e,n){return this.connection.Lo("Listen",e,n)}T_(e){return this.onNext(e)}onNext(e){this.e_.reset();const n=b3(this.serializer,e),r=function(o){if(!("targetChange"in o))return he.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?he.min():a.readTime?fn(a.readTime):he.min()}(e);return this.listener.E_(n,r)}d_(e){const n={};n.database=A0(this.serializer),n.addTarget=function(o,a){let s;const u=a.target;if(s=Xd(u)?{documents:kN(o,u)}:{query:RN(o,u)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=IN(o,a.resumeToken);const l=S0(o,a.expectedCount);l!==null&&(s.expectedCount=l)}else if(a.snapshotVersion.compareTo(he.min())>0){s.readTime=Xs(o,a.snapshotVersion.toTimestamp());const l=S0(o,a.expectedCount);l!==null&&(s.expectedCount=l)}return s}(this.serializer,e);const r=T3(this.serializer,e);r&&(n.labels=r),this.__(n)}A_(e){const n={};n.database=A0(this.serializer),n.removeTarget=e,this.__(n)}}class dz extends aD{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get R_(){return this.Xo>0}start(){this.lastStreamToken=void 0,super.start()}c_(){this.R_&&this.V_([])}I_(e,n){return this.connection.Lo("Write",e,n)}T_(e){return ce(!!e.streamToken),this.lastStreamToken=e.streamToken,ce(!e.writeResults||e.writeResults.length===0),this.listener.m_()}onNext(e){ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.e_.reset();const n=x3(e.writeResults,e.commitTime),r=fn(e.commitTime);return this.listener.f_(r,n)}g_(){const e={};e.database=A0(this.serializer),this.__(e)}V_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ep(this.serializer,r))};this.__(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.p_=!1}y_(){if(this.p_)throw new J(U.FAILED_PRECONDITION,"The client has already been terminated.")}Fo(e,n,r,i){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Fo(e,I0(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(U.UNKNOWN,o.toString())})}No(e,n,r,i,o){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.No(e,I0(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new J(U.UNKNOWN,a.toString())})}terminate(){this.p_=!0,this.connection.terminate()}}class mz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.w_=0,this.S_=null,this.b_=!0}D_(){this.w_===0&&(this.C_("Unknown"),this.S_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.S_=null,this.v_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}F_(e){this.state==="Online"?this.C_("Unknown"):(this.w_++,this.w_>=1&&(this.M_(),this.v_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.M_(),this.w_=0,e==="Online"&&(this.b_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}v_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.b_?(dt(n),this.b_=!1):W("OnlineStateTracker",n)}M_(){this.S_!==null&&(this.S_.cancel(),this.S_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.x_=[],this.O_=new Map,this.N_=new Set,this.L_=[],this.B_=o,this.B_.oo(a=>{r.enqueueAndForget(async()=>{Ba(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=ue(u);l.N_.add(4),await Ch(l),l.k_.set("Unknown"),l.N_.delete(4),await Mm(l)}(this))})}),this.k_=new mz(r,i)}}async function Mm(t){if(Ba(t))for(const e of t.L_)await e(!0)}async function Ch(t){for(const e of t.L_)await e(!1)}function $m(t,e){const n=ue(t);n.O_.has(e.targetId)||(n.O_.set(e.targetId,e),mb(n)?pb(n):Ou(n).n_()&&db(n,e))}function Zs(t,e){const n=ue(t),r=Ou(n);n.O_.delete(e),r.n_()&&sD(n,e),n.O_.size===0&&(r.n_()?r.s_():Ba(n)&&n.k_.set("Unknown"))}function db(t,e){if(t.q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ou(t).d_(e)}function sD(t,e){t.q_.xe(e),Ou(t).A_(e)}function pb(t){t.q_=new p3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.O_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ou(t).start(),t.k_.D_()}function mb(t){return Ba(t)&&!Ou(t).t_()&&t.O_.size>0}function Ba(t){return ue(t).N_.size===0}function uD(t){t.q_=void 0}async function yz(t){t.k_.set("Online")}async function vz(t){t.O_.forEach((e,n)=>{db(t,e)})}async function _z(t,e){uD(t),mb(t)?(t.k_.F_(e),pb(t)):t.k_.set("Unknown")}async function wz(t,e,n){if(t.k_.set("Online"),e instanceof SN&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.O_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.O_.delete(s),i.q_.removeTarget(s))}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sp(t,r)}else if(e instanceof dd?t.q_.Ke(e):e instanceof EN?t.q_.He(e):t.q_.We(e),!n.isEqual(he.min()))try{const r=await ZN(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.q_.rt(a);return s.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=o.O_.get(l);c&&o.O_.set(l,c.withResumeToken(u.resumeToken,a))}}),s.targetMismatches.forEach((u,l)=>{const c=o.O_.get(u);if(!c)return;o.O_.set(u,c.withResumeToken(mt.EMPTY_BYTE_STRING,c.snapshotVersion)),sD(o,u);const h=new ei(c.target,u,l,c.sequenceNumber);db(o,h)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){W("RemoteStore","Failed to raise snapshot:",r),await sp(t,r)}}async function sp(t,e,n){if(!Po(e))throw e;t.N_.add(1),await Ch(t),t.k_.set("Offline"),n||(n=()=>ZN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t.N_.delete(1),await Mm(t)})}function lD(t,e){return e().catch(n=>sp(t,n,e))}async function Pu(t){const e=ue(t),n=bo(e);let r=e.x_.length>0?e.x_[e.x_.length-1].batchId:-1;for(;bz(e);)try{const i=await sz(e.localStore,r);if(i===null){e.x_.length===0&&n.s_();break}r=i.batchId,xz(e,i)}catch(i){await sp(e,i)}cD(e)&&hD(e)}function bz(t){return Ba(t)&&t.x_.length<10}function xz(t,e){t.x_.push(e);const n=bo(t);n.n_()&&n.R_&&n.V_(e.mutations)}function cD(t){return Ba(t)&&!bo(t).t_()&&t.x_.length>0}function hD(t){bo(t).start()}async function Tz(t){bo(t).g_()}async function Ez(t){const e=bo(t);for(const n of t.x_)e.V_(n.mutations)}async function Sz(t,e,n){const r=t.x_.shift(),i=rb.from(r,e,n);await lD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Pu(t)}async function Iz(t,e){e&&bo(t).R_&&await async function(r,i){if(function(a){return h3(a)&&a!==U.ABORTED}(i.code)){const o=r.x_.shift();bo(r).i_(),await lD(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Pu(r)}}(t,e),cD(t)&&hD(t)}async function bS(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const r=Ba(n);n.N_.add(3),await Ch(n),r&&n.k_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.N_.delete(3),await Mm(n)}async function D0(t,e){const n=ue(t);e?(n.N_.delete(2),await Mm(n)):e||(n.N_.add(2),await Ch(n),n.k_.set("Unknown"))}function Ou(t){return t.Q_||(t.Q_=function(n,r,i){const o=ue(n);return o.y_(),new fz(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{To:yz.bind(null,t),Ao:vz.bind(null,t),Vo:_z.bind(null,t),E_:wz.bind(null,t)}),t.L_.push(async e=>{e?(t.Q_.i_(),mb(t)?pb(t):t.k_.set("Unknown")):(await t.Q_.stop(),uD(t))})),t.Q_}function bo(t){return t.K_||(t.K_=function(n,r,i){const o=ue(n);return o.y_(),new dz(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{To:()=>Promise.resolve(),Ao:Tz.bind(null,t),Vo:Iz.bind(null,t),m_:Ez.bind(null,t),f_:Sz.bind(null,t)}),t.L_.push(async e=>{e?(t.K_.i_(),await Pu(t)):(await t.K_.stop(),t.x_.length>0&&(W("RemoteStore",`Stopping write stream with ${t.x_.length} pending writes`),t.x_=[]))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new gb(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yb(t,e){if(dt("AsyncQueue",`${e}: ${t}`),Po(t))return new J(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=kl(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new ks(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ks)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ks;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.U_=new qe(ne.comparator)}track(e){const n=e.doc.key,r=this.U_.get(n);r?e.type!==0&&r.type===3?this.U_=this.U_.insert(n,e):e.type===3&&r.type!==1?this.U_=this.U_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.U_=this.U_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.U_=this.U_.remove(n):e.type===1&&r.type===2?this.U_=this.U_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):se():this.U_=this.U_.insert(n,e)}W_(){const e=[];return this.U_.inorderTraversal((n,r)=>{e.push(r)}),e}}class eu{constructor(e,n,r,i,o,a,s,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new eu(e,n,ks.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Am(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(){this.G_=void 0,this.z_=[]}j_(){return this.z_.some(e=>e.H_())}}class Pz{constructor(){this.queries=TS(),this.onlineState="Unknown",this.J_=new Set}terminate(){(function(n,r){const i=ue(n),o=i.queries;i.queries=TS(),o.forEach((a,s)=>{for(const u of s.z_)u.onError(r)})})(this,new J(U.ABORTED,"Firestore shutting down"))}}function TS(){return new Oo(t=>uN(t),Am)}async function vb(t,e){const n=ue(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.j_()&&e.H_()&&(r=2):(o=new Az,r=e.H_()?0:1);try{switch(r){case 0:o.G_=await n.onListen(i,!0);break;case 1:o.G_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=yb(a,`Initialization of query '${us(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.z_.push(e),e.Y_(n.onlineState),o.G_&&e.Z_(o.G_)&&wb(n)}async function _b(t,e){const n=ue(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.z_.indexOf(e);a>=0&&(o.z_.splice(a,1),o.z_.length===0?i=e.H_()?0:1:!o.j_()&&e.H_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Oz(t,e){const n=ue(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.z_)s.Z_(i)&&(r=!0);a.G_=i}}r&&wb(n)}function Cz(t,e,n){const r=ue(t),i=r.queries.get(e);if(i)for(const o of i.z_)o.onError(n);r.queries.delete(e)}function wb(t){t.J_.forEach(e=>{e.next()})}var M0,ES;(ES=M0||(M0={})).X_="default",ES.Cache="cache";class bb{constructor(e,n,r){this.query=e,this.ea=n,this.ta=!1,this.na=null,this.onlineState="Unknown",this.options=r||{}}Z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new eu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ta?this.ra(e)&&(this.ea.next(e),n=!0):this.ia(e,this.onlineState)&&(this.sa(e),n=!0),this.na=e,n}onError(e){this.ea.error(e)}Y_(e){this.onlineState=e;let n=!1;return this.na&&!this.ta&&this.ia(this.na,e)&&(this.sa(this.na),n=!0),n}ia(e,n){if(!e.fromCache||!this.H_())return!0;const r=n!=="Offline";return(!this.options.oa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ra(e){if(e.docChanges.length>0)return!0;const n=this.na&&this.na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}sa(e){e=eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ta=!0,this.ea.next(e)}H_(){return this.options.source!==M0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.key=e}}class dD{constructor(e){this.key=e}}class kz{constructor(e,n){this.query=e,this.Ia=n,this.Ta=null,this.hasCachedResults=!1,this.current=!1,this.Ea=ve(),this.mutatedKeys=ve(),this.da=cN(e),this.Aa=new ks(this.da)}get Ra(){return this.Ia}Va(e,n){const r=n?n.ma:new xS,i=n?n.Aa:this.Aa;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),p=Ah(this.query,h)?h:null,_=!!d&&this.mutatedKeys.has(d.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;d&&p?d.data.isEqual(p.data)?_!==g&&(r.track({type:3,doc:p}),v=!0):this.fa(d,p)||(r.track({type:2,doc:p}),v=!0,(u&&this.da(p,u)>0||l&&this.da(p,l)<0)&&(s=!0)):!d&&p?(r.track({type:0,doc:p}),v=!0):d&&!p&&(r.track({type:1,doc:d}),v=!0,(u||l)&&(s=!0)),v&&(p?(a=a.add(p),o=g?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Aa:a,ma:r,ts:s,mutatedKeys:o}}fa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Aa;this.Aa=e.Aa,this.mutatedKeys=e.mutatedKeys;const a=e.ma.W_();a.sort((c,h)=>function(p,_){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return g(p)-g(_)}(c.type,h.type)||this.da(c.doc,h.doc)),this.ga(r),i=i!=null&&i;const s=n&&!i?this.pa():[],u=this.Ea.size===0&&this.current&&!i?1:0,l=u!==this.Ta;return this.Ta=u,a.length!==0||l?{snapshot:new eu(this.query,e.Aa,o,a,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ya:s}:{ya:s}}Y_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Aa:this.Aa,ma:new xS,mutatedKeys:this.mutatedKeys,ts:!1},!1)):{ya:[]}}wa(e){return!this.Ia.has(e)&&!!this.Aa.has(e)&&!this.Aa.get(e).hasLocalMutations}ga(e){e&&(e.addedDocuments.forEach(n=>this.Ia=this.Ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ia=this.Ia.delete(n)),this.current=e.current)}pa(){if(!this.current)return[];const e=this.Ea;this.Ea=ve(),this.Aa.forEach(r=>{this.wa(r.key)&&(this.Ea=this.Ea.add(r.key))});const n=[];return e.forEach(r=>{this.Ea.has(r)||n.push(new dD(r))}),this.Ea.forEach(r=>{e.has(r)||n.push(new fD(r))}),n}Sa(e){this.Ia=e.Is,this.Ea=ve();const n=this.Va(e.documents);return this.applyChanges(n,!0)}ba(){return eu.fromInitialDocuments(this.query,this.Aa,this.mutatedKeys,this.Ta===0,this.hasCachedResults)}}class Rz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Nz{constructor(e){this.key=e,this.Da=!1}}class Dz{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.va=new Oo(s=>uN(s),Am),this.Fa=new Map,this.Ma=new Set,this.xa=new qe(ne.comparator),this.Oa=new Map,this.Na=new lb,this.La={},this.Ba=new Map,this.ka=Ca.Bn(),this.onlineState="Unknown",this.qa=void 0}get isPrimaryClient(){return this.qa===!0}}async function Mz(t,e,n=!0){const r=Lm(t);let i;const o=r.va.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ba()):i=await pD(r,e,n,!0),i}async function $z(t,e){const n=Lm(t);await pD(n,e,!0,!1)}async function pD(t,e,n,r){const i=await ip(t.localStore,Dn(e)),o=i.targetId,a=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let s;return r&&(s=await xb(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&$m(t.remoteStore,i),s}async function xb(t,e,n,r,i){t.Qa=(h,d,p)=>async function(g,v,b,y){let w=v.view.Va(b);w.ts&&(w=await R0(g.localStore,v.query,!1).then(({documents:I})=>v.view.Va(I,w)));const x=y&&y.targetChanges.get(v.targetId),T=y&&y.targetMismatches.get(v.targetId)!=null,A=v.view.applyChanges(w,g.isPrimaryClient,x,T);return $0(g,v.targetId,A.ya),A.snapshot}(t,h,d,p);const o=await R0(t.localStore,e,!0),a=new kz(e,o.Is),s=a.Va(o.documents),u=Oh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=a.applyChanges(s,t.isPrimaryClient,u);$0(t,n,l.ya);const c=new Rz(e,n,a);return t.va.set(e,c),t.Fa.has(n)?t.Fa.get(n).push(e):t.Fa.set(n,[e]),l.snapshot}async function Lz(t,e,n){const r=ue(t),i=r.va.get(e),o=r.Fa.get(i.targetId);if(o.length>1)return r.Fa.set(i.targetId,o.filter(a=>!Am(a,e))),void r.va.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Js(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Zs(r.remoteStore,i.targetId),tu(r,i.targetId)}).catch(Ao)):(tu(r,i.targetId),await Js(r.localStore,i.targetId,!0))}async function Vz(t,e){const n=ue(t),r=n.va.get(e),i=n.Fa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zs(n.remoteStore,r.targetId))}async function jz(t,e,n){const r=Ib(t);try{const i=await function(a,s){const u=ue(a),l=at.now(),c=s.reduce((p,_)=>p.add(_.key),ve());let h,d;return u.persistence.runTransaction("Locally write mutations","readwrite",p=>{let _=Rn(),g=ve();return u.us.getEntries(p,c).next(v=>{_=v,_.forEach((b,y)=>{y.isValidDocument()||(g=g.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(p,_)).next(v=>{h=v;const b=[];for(const y of s){const w=l3(y,h.get(y.key).overlayedDocument);w!=null&&b.push(new Ii(y.key,w,JR(w.value.mapValue),un.exists(!0)))}return u.mutationQueue.addMutationBatch(p,l,b,s)}).next(v=>{d=v;const b=v.applyToLocalDocumentSet(h,g);return u.documentOverlayCache.saveOverlays(p,v.batchId,b)})}).then(()=>({batchId:d.batchId,changes:fN(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,u){let l=a.La[a.currentUser.toKey()];l||(l=new qe(ge)),l=l.insert(s,u),a.La[a.currentUser.toKey()]=l}(r,i.batchId,n),await Co(r,i.changes),await Pu(r.remoteStore)}catch(i){const o=yb(i,"Failed to persist write");n.reject(o)}}async function mD(t,e){const n=ue(t);try{const r=await oz(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Oa.get(o);a&&(ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.Da=!0:i.modifiedDocuments.size>0?ce(a.Da):i.removedDocuments.size>0&&(ce(a.Da),a.Da=!1))}),await Co(n,r,e)}catch(r){await Ao(r)}}function SS(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.va.forEach((o,a)=>{const s=a.view.Y_(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const u=ue(a);u.onlineState=s;let l=!1;u.queries.forEach((c,h)=>{for(const d of h.z_)d.Y_(s)&&(l=!0)}),l&&wb(u)}(r.eventManager,e),i.length&&r.Ca.E_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Fz(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Oa.get(e),o=i&&i.key;if(o){let a=new qe(ne.comparator);a=a.insert(o,ht.newNoDocument(o,he.min()));const s=ve().add(o),u=new Ph(he.min(),new Map,new qe(ge),a,s);await mD(r,u),r.xa=r.xa.remove(o),r.Oa.delete(e),Sb(r)}else await Js(r.localStore,e,!1).then(()=>tu(r,e,n)).catch(Ao)}async function Uz(t,e){const n=ue(t),r=e.batch.batchId;try{const i=await iz(n.localStore,e);Eb(n,r,null),Tb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Co(n,i)}catch(i){await Ao(i)}}async function Bz(t,e,n){const r=ue(t);try{const i=await function(a,s){const u=ue(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,s).next(h=>(ce(h!==null),c=h.keys(),u.mutationQueue.removeMutationBatch(l,h))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,s)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,e);Eb(r,e,n),Tb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Co(r,i)}catch(i){await Ao(i)}}function Tb(t,e){(t.Ba.get(e)||[]).forEach(n=>{n.resolve()}),t.Ba.delete(e)}function Eb(t,e,n){const r=ue(t);let i=r.La[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.La[r.currentUser.toKey()]=i}}function tu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Fa.get(e))t.va.delete(r),n&&t.Ca.Ka(r,n);t.Fa.delete(e),t.isPrimaryClient&&t.Na.mr(e).forEach(r=>{t.Na.containsKey(r)||gD(t,r)})}function gD(t,e){t.Ma.delete(e.path.canonicalString());const n=t.xa.get(e);n!==null&&(Zs(t.remoteStore,n),t.xa=t.xa.remove(e),t.Oa.delete(n),Sb(t))}function $0(t,e,n){for(const r of n)r instanceof fD?(t.Na.addReference(r.key,e),zz(t,r)):r instanceof dD?(W("SyncEngine","Document no longer in limbo: "+r.key),t.Na.removeReference(r.key,e),t.Na.containsKey(r.key)||gD(t,r.key)):se()}function zz(t,e){const n=e.key,r=n.path.canonicalString();t.xa.get(n)||t.Ma.has(r)||(W("SyncEngine","New document in limbo: "+n),t.Ma.add(r),Sb(t))}function Sb(t){for(;t.Ma.size>0&&t.xa.size<t.maxConcurrentLimboResolutions;){const e=t.Ma.values().next().value;t.Ma.delete(e);const n=new ne(Ce.fromString(e)),r=t.ka.next();t.Oa.set(r,new Nz(n)),t.xa=t.xa.insert(n,r),$m(t.remoteStore,new ei(Dn(Ih(n.path)),r,"TargetPurposeLimboResolution",_n.oe))}}async function Co(t,e,n){const r=ue(t),i=[],o=[],a=[];r.va.isEmpty()||(r.va.forEach((s,u)=>{a.push(r.Qa(u,e,n).then(l=>{var c;if((l||n)&&r.isPrimaryClient){const h=l?!l.fromCache:(c=n==null?void 0:n.targetChanges.get(u.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(l){i.push(l);const h=hb.Ui(u.targetId,l);o.push(h)}}))}),await Promise.all(a),r.Ca.E_(i),await async function(u,l){const c=ue(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>L.forEach(l,d=>L.forEach(d.Ki,p=>c.persistence.referenceDelegate.addReference(h,d.targetId,p)).next(()=>L.forEach(d.$i,p=>c.persistence.referenceDelegate.removeReference(h,d.targetId,p)))))}catch(h){if(!Po(h))throw h;W("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const d=h.targetId;if(!h.fromCache){const p=c.ss.get(d),_=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(_);c.ss=c.ss.insert(d,g)}}}(r.localStore,o))}async function qz(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const r=await JN(n.localStore,e);n.currentUser=e,function(o,a){o.Ba.forEach(s=>{s.forEach(u=>{u.reject(new J(U.CANCELLED,a))})}),o.Ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Co(n,r.ls)}}function Wz(t,e){const n=ue(t),r=n.Oa.get(e);if(r&&r.Da)return ve().add(r.key);{let i=ve();const o=n.Fa.get(e);if(!o)return i;for(const a of o){const s=n.va.get(a);i=i.unionWith(s.view.Ra)}return i}}async function Gz(t,e){const n=ue(t),r=await R0(n.localStore,e.query,!0),i=e.view.Sa(r);return n.isPrimaryClient&&$0(n,e.targetId,i.ya),i}async function Kz(t,e){const n=ue(t);return tD(n.localStore,e).then(r=>Co(n,r))}async function Hz(t,e,n,r){const i=ue(t),o=await function(s,u){const l=ue(s),c=ue(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",h=>c.Fn(h,u).next(d=>d?l.localDocuments.getDocuments(h,d):L.resolve(null)))}(i.localStore,e);o!==null?(n==="pending"?await Pu(i.remoteStore):n==="acknowledged"||n==="rejected"?(Eb(i,e,r||null),Tb(i,e),function(s,u){ue(ue(s).mutationQueue).xn(u)}(i.localStore,e)):se(),await Co(i,o)):W("SyncEngine","Cannot apply mutation batch with id: "+e)}async function Qz(t,e){const n=ue(t);if(Lm(n),Ib(n),e===!0&&n.qa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await IS(n,r.toArray());n.qa=!0,await D0(n.remoteStore,!0);for(const o of i)$m(n.remoteStore,o)}else if(e===!1&&n.qa!==!1){const r=[];let i=Promise.resolve();n.Fa.forEach((o,a)=>{n.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then(()=>(tu(n,a),Js(n.localStore,a,!0))),Zs(n.remoteStore,a)}),await i,await IS(n,r),function(a){const s=ue(a);s.Oa.forEach((u,l)=>{Zs(s.remoteStore,l)}),s.Na.gr(),s.Oa=new Map,s.xa=new qe(ne.comparator)}(n),n.qa=!1,await D0(n.remoteStore,!1)}}async function IS(t,e,n){const r=ue(t),i=[],o=[];for(const a of e){let s;const u=r.Fa.get(a);if(u&&u.length!==0){s=await ip(r.localStore,Dn(u[0]));for(const l of u){const c=r.va.get(l),h=await Gz(r,c);h.snapshot&&o.push(h.snapshot)}}else{const l=await eD(r.localStore,a);s=await ip(r.localStore,l),await xb(r,yD(l),a,!1,s.resumeToken)}i.push(s)}return r.Ca.E_(o),i}function yD(t){return aN(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Yz(t){return function(n){return ue(ue(n).persistence).qi()}(ue(t).localStore)}async function Xz(t,e,n,r){const i=ue(t);if(i.qa)return void W("SyncEngine","Ignoring unexpected query state notification.");const o=i.Fa.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const a=await tD(i.localStore,lN(o[0])),s=Ph.createSynthesizedRemoteEventForCurrentChange(e,n==="current",mt.EMPTY_BYTE_STRING);await Co(i,a,s);break}case"rejected":await Js(i.localStore,e,!0),tu(i,e,r);break;default:se()}}async function Jz(t,e,n){const r=Lm(t);if(r.qa){for(const i of e){if(r.Fa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){W("SyncEngine","Adding an already active target "+i);continue}const o=await eD(r.localStore,i),a=await ip(r.localStore,o);await xb(r,yD(o),a.targetId,!1,a.resumeToken),$m(r.remoteStore,a)}for(const i of n)r.Fa.has(i)&&await Js(r.localStore,i,!1).then(()=>{Zs(r.remoteStore,i),tu(r,i)}).catch(Ao)}}function Lm(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fz.bind(null,e),e.Ca.E_=Oz.bind(null,e.eventManager),e.Ca.Ka=Cz.bind(null,e.eventManager),e}function Ib(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Uz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bz.bind(null,e),e}class L0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Dm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return XN(this.persistence,new YN,e.initialUser,this.serializer)}createPersistence(e){return new HN(Nm.Yr,this.serializer)}createSharedClientState(e){return new rD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Zz extends L0{constructor(e,n,r){super(),this.Ua=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ua.initialize(this,e),await Ib(this.Ua.syncEngine),await Pu(this.Ua.remoteStore),await this.persistence.pi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return XN(this.persistence,new YN,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new F3(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new v4(n,this.persistence);return new y4(e.asyncQueue,r)}createPersistence(e){const n=QN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new cb(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,iD(),pd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new rD}}class e6 extends Zz{constructor(e,n){super(e,n,!1),this.Ua=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Ua.syncEngine;this.sharedClientState instanceof Dy&&(this.sharedClientState.syncEngine={eo:Hz.bind(null,n),no:Xz.bind(null,n),ro:Jz.bind(null,n),qi:Yz.bind(null,n),Xs:Kz.bind(null,n)},await this.sharedClientState.start()),await this.persistence.pi(async r=>{await Qz(this.Ua.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=iD();if(!Dy.D(n))throw new J(U.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=QN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Dy(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class vD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qz.bind(null,this.syncEngine),await D0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Pz}()}createDatastore(e){const n=Dm(e.databaseInfo.databaseId),r=function(o){return new hz(o)}(e.databaseInfo);return function(o,a,s,u){return new pz(o,a,s,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new gz(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>SS(this.syncEngine,n,0),function(){return wS.D()?new wS:new uz}())}createSyncEngine(e,n){return function(i,o,a,s,u,l,c){const h=new Dz(i,o,a,s,u,l);return c&&(h.qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ue(i);W("RemoteStore","RemoteStore shutting down."),o.N_.add(5),await Ch(o),o.B_.shutdown(),o.k_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Wa(this.observer.next,e)}error(e){this.observer.error?this.Wa(this.observer.error,e):dt("Uncaught Error in snapshot listener:",e.toString())}Ga(){this.muted=!0}Wa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ct.UNAUTHENTICATED,this.clientId=LR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{W("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(W("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yb(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function md(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await JN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function V0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await n6(t);W("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>bS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>bS(e.remoteStore,i)),t._onlineComponents=e}function _D(t){return t.name==="FirebaseError"?t.code===U.FAILED_PRECONDITION||t.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function n6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await md(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!_D(n))throw n;vo("Error using user provided cache. Falling back to memory cache: "+n),await md(t,new L0)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await md(t,new L0);return t._offlineComponents}async function wD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await V0(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await V0(t,new vD))),t._onlineComponents}function r6(t){return wD(t).then(e=>e.syncEngine)}async function up(t){const e=await wD(t),n=e.eventManager;return n.onListen=Mz.bind(null,e.syncEngine),n.onUnlisten=Lz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$z.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Vz.bind(null,e.syncEngine),n}function i6(t,e,n={}){const r=new yr;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,u,l){const c=new Ab({next:d=>{a.enqueueAndForget(()=>_b(o,h));const p=d.docs.has(s);!p&&d.fromCache?l.reject(new J(U.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&u&&u.source==="server"?l.reject(new J(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),h=new bb(Ih(s.path),c,{includeMetadataChanges:!0,oa:!0});return vb(o,h)}(await up(t),t.asyncQueue,e,n,r)),r.promise}function o6(t,e,n={}){const r=new yr;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,u,l){const c=new Ab({next:d=>{a.enqueueAndForget(()=>_b(o,h)),d.fromCache&&u.source==="server"?l.reject(new J(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),h=new bb(s,c,{includeMetadataChanges:!0,oa:!0});return vb(o,h)}(await up(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t,e,n){if(!n)throw new J(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function a6(t,e,n,r){if(e===!0&&r===!0)throw new J(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function PS(t){if(!ne.isDocumentKey(t))throw new J(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function OS(t){if(ne.isDocumentKey(t))throw new J(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function Mn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vm(t);throw new J(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}a6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CS(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new a4;switch(r.type){case"firstParty":return new c4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=AS.get(n);r&&(W("ComponentProvider","Removing Datastore"),AS.delete(n),r.terminate())}(this),Promise.resolve()}}function s6(t,e,n,r={}){var i;const o=(t=Mn(t,jm))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,u;if(typeof r.mockUserToken=="string")s=r.mockUserToken,u=Ct.MOCK_USER;else{s=bR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new J(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ct(l)}t._authCredentials=new s4(new $R(s,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ko(this.firestore,e,this._query)}}class dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class ho extends ko{constructor(e,n,r){super(e,n,Ih(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new ne(e))}withConverter(e){return new ho(this.firestore,e,this._path)}}function Fm(t,e,...n){if(t=Nt(t),xD("collection","path",e),t instanceof jm){const r=Ce.fromString(e,...n);return OS(r),new ho(t,null,r)}{if(!(t instanceof dn||t instanceof ho))throw new J(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ce.fromString(e,...n));return OS(r),new ho(t.firestore,null,r)}}function Nc(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=LR.newId()),xD("doc","path",e),t instanceof jm){const r=Ce.fromString(e,...n);return PS(r),new dn(t,null,new ne(r))}{if(!(t instanceof dn||t instanceof ho))throw new J(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ce.fromString(e,...n));return PS(r),new dn(t.firestore,t instanceof ho?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(){this._u=Promise.resolve(),this.au=[],this.uu=!1,this.cu=[],this.lu=null,this.hu=!1,this.Pu=!1,this.Iu=[],this.e_=new oD(this,"async_queue_retry"),this.Tu=()=>{const n=pd();n&&W("AsyncQueue","Visibility state changed to "+n.visibilityState),this.e_.zo()};const e=pd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Tu)}get isShuttingDown(){return this.uu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Eu(),this.du(e)}enterRestrictedMode(e){if(!this.uu){this.uu=!0,this.Pu=e||!1;const n=pd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Tu)}}enqueue(e){if(this.Eu(),this.uu)return new Promise(()=>{});const n=new yr;return this.du(()=>this.uu&&this.Pu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.au.push(e),this.Au()))}async Au(){if(this.au.length!==0){try{await this.au[0](),this.au.shift(),this.e_.reset()}catch(e){if(!Po(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.au.length>0&&this.e_.Wo(()=>this.Au())}}du(e){const n=this._u.then(()=>(this.hu=!0,e().catch(r=>{this.lu=r,this.hu=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw dt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.hu=!1,r))));return this._u=n,n}enqueueAfterDelay(e,n,r){this.Eu(),this.Iu.indexOf(e)>-1&&(n=0);const i=gb.createAndSchedule(this,e,n,r,o=>this.Ru(o));return this.cu.push(i),i}Eu(){this.lu&&se()}verifyOperationInProgress(){}async Vu(){let e;do e=this._u,await e;while(e!==this._u)}mu(e){for(const n of this.cu)if(n.timerId===e)return!0;return!1}fu(e){return this.Vu().then(()=>{this.cu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.cu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Vu()})}gu(e){this.Iu.push(e)}Ru(e){const n=this.cu.indexOf(e);this.cu.splice(n,1)}}function kS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class vi extends jm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new u6}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||TD(this),this._firestoreClient.terminate()}}function l6(t,e){const n=typeof t=="object"?t:Kw(),r=typeof t=="string"?t:e||"(default)",i=Em(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=vR("firestore");o&&s6(i,...o)}return i}function kh(t){return t._firestoreClient||TD(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function TD(t){var e,n,r;const i=t._freezeSettings(),o=function(s,u,l,c){return new j4(s,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,bD(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new t6(t._authCredentials,t._appCheckCredentials,t._queue,o),((n=i.localCache)===null||n===void 0?void 0:n._offlineComponentProvider)&&((r=i.localCache)===null||r===void 0?void 0:r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function c6(t){f6(t=Mn(t,vi));const e=kh(t);if(e._uninitializedComponentsProvider)throw new J(U.FAILED_PRECONDITION,"SDK cache is already specified.");vo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new vD;return h6(e,r,new e6(r,n.cacheSizeBytes))}function h6(t,e,n){const r=new yr;return t.asyncQueue.enqueue(async()=>{try{await md(t,n),await V0(t,e),r.resolve()}catch(i){const o=i;if(!_D(o))throw o;vo("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}}).then(()=>r.promise)}function f6(t){if(t._initialized||t._terminated)throw new J(U.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nu(mt.fromBase64String(e))}catch(n){throw new J(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new nu(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new it(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=/^__.*__$/;class p6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ii(e,this.data,this.fieldMask,n,this.fieldTransforms):new Au(e,this.data,n,this.fieldTransforms)}}class ED{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ii(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function SD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class Cb{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.pu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get yu(){return this.settings.yu}wu(e){return new Cb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.Du(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.pu(),i}vu(e){return this.wu({path:void 0,bu:!0})}Fu(e){return lp(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.xu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Du(this.path.get(e))}Du(e){if(e.length===0)throw this.Fu("Document fields must not be empty");if(SD(this.yu)&&d6.test(e))throw this.Fu('Document fields cannot begin and end with "__"')}}class m6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dm(e)}Ou(e,n,r,i=!1){return new Cb({yu:e,methodName:n,xu:r,path:it.emptyPath(),bu:!1,Mu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kb(t){const e=t._freezeSettings(),n=Dm(t._databaseId);return new m6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function g6(t,e,n,r,i,o={}){const a=t.Ou(o.merge||o.mergeFields?2:0,e,n,i);Rb("Data must be an object, but it was:",a,r);const s=ID(r,a);let u,l;if(o.merge)u=new wn(a.fieldMask),l=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const h of o.mergeFields){const d=j0(e,h,n);if(!a.contains(d))throw new J(U.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);PD(c,d)||c.push(d)}u=new wn(c),l=a.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,l=a.fieldTransforms;return new p6(new tn(s),u,l)}class Bm extends Pb{_toFieldTransform(e){if(e.yu!==2)throw e.yu===1?e.Fu(`${this._methodName}() can only appear at the top level of your update data`):e.Fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bm}}function y6(t,e,n,r){const i=t.Ou(1,e,n);Rb("Data must be an object, but it was:",i,r);const o=[],a=tn.empty();Ua(r,(u,l)=>{const c=Nb(e,u,n);l=Nt(l);const h=i.Cu(c);if(l instanceof Bm)o.push(c);else{const d=Rh(l,h);d!=null&&(o.push(c),a.set(c,d))}});const s=new wn(o);return new ED(a,s,i.fieldTransforms)}function v6(t,e,n,r,i,o){const a=t.Ou(1,e,n),s=[j0(e,r,n)],u=[i];if(o.length%2!=0)throw new J(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)s.push(j0(e,o[d])),u.push(o[d+1]);const l=[],c=tn.empty();for(let d=s.length-1;d>=0;--d)if(!PD(l,s[d])){const p=s[d];let _=u[d];_=Nt(_);const g=a.Cu(p);if(_ instanceof Bm)l.push(p);else{const v=Rh(_,g);v!=null&&(l.push(p),c.set(p,v))}}const h=new wn(l);return new ED(c,h,a.fieldTransforms)}function _6(t,e,n,r=!1){return Rh(n,t.Ou(r?4:3,e))}function Rh(t,e){if(AD(t=Nt(t)))return Rb("Unsupported field value:",e,t),ID(t,e);if(t instanceof Pb)return function(r,i){if(!SD(i.yu))throw i.Fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Fu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.bu&&e.yu!==4)throw e.Fu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let u=Rh(s,i.vu(a));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return n3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=at.fromDate(r);return{timestampValue:Xs(i.serializer,o)}}if(r instanceof at){const o=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xs(i.serializer,o)}}if(r instanceof Ob)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof nu)return{bytesValue:IN(i.serializer,r._byteString)};if(r instanceof dn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Fu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ab(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Fu(`Unsupported field value: ${Vm(r)}`)}(t,e)}function ID(t,e){const n={};return QR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ua(t,(r,i)=>{const o=Rh(i,e.Su(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function AD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof Ob||t instanceof nu||t instanceof dn||t instanceof Pb)}function Rb(t,e,n){if(!AD(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Vm(n);throw r==="an object"?e.Fu(t+" a custom object"):e.Fu(t+" "+r)}}function j0(t,e,n){if((e=Nt(e))instanceof Um)return e._internalPath;if(typeof e=="string")return Nb(t,e);throw lp("Field path arguments must be of type string or ",t,!1,void 0,n)}const w6=new RegExp("[~\\*/\\[\\]]");function Nb(t,e,n){if(e.search(w6)>=0)throw lp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Um(...e.split("."))._internalPath}catch{throw lp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lp(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let u="";return(o||a)&&(u+=" (found",o&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new J(U.INVALID_ARGUMENT,s+t+u)}function PD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new b6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class b6 extends OD{data(){return super.data()}}function zm(t,e){return typeof e=="string"?Nb(t,e):e instanceof Um?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Db{}class kD extends Db{}function Mb(t,e,...n){let r=[];e instanceof Db&&r.push(e),r=r.concat(n),function(o){const a=o.filter(u=>u instanceof Lb).length,s=o.filter(u=>u instanceof qm).length;if(a>1||a>0&&s>0)throw new J(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class qm extends kD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new qm(e,n,r)}_apply(e){const n=this._parse(e);return RD(e._query,n),new ko(e.firestore,e.converter,T0(e._query,n))}_parse(e){const n=kb(e.firestore);return function(o,a,s,u,l,c,h){let d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new J(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){NS(h,c);const p=[];for(const _ of h)p.push(RS(u,o,_));d={arrayValue:{values:p}}}else d=RS(u,o,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||NS(h,c),d=_6(s,a,h,c==="in"||c==="not-in");return xe.create(l,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $b(t,e,n){const r=e,i=zm("where",t);return qm._create(i,r,n)}class Lb extends Db{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lb(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:De.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const u of s)RD(a,u),a=T0(a,u)}(e._query,n),new ko(e.firestore,e.converter,T0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vb extends kD{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Vb(e,n)}_apply(e){const n=function(i,o,a){if(i.startAt!==null)throw new J(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new J(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cc(o,a)}(e._query,this._field,this._direction);return new ko(e.firestore,e.converter,function(i,o){const a=i.explicitOrderBy.concat([o]);return new Iu(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function x6(t,e="asc"){const n=e,r=zm("orderBy",t);return Vb._create(r,n)}function RS(t,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new J(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sN(e)&&n.indexOf("/")!==-1)throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ce.fromString(n));if(!ne.isDocumentKey(r))throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Pc(t,new ne(r))}if(n instanceof dn)return Pc(t,n._key);throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vm(n)}.`)}function NS(t,e){if(!Array.isArray(t)||t.length===0)throw new J(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RD(t,e){const n=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class T6{convertValue(e,n="none"){switch(Ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ua(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Ob(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ic(e));default:return null}}convertTimestamp(e){const n=yi(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ce.fromString(e);ce($N(r));const i=new Sa(r.get(1),r.get(3)),o=new ne(r.popFirst(5));return i.isEqual(n)||dt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ND extends OD{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(zm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class gd extends ND{data(e={}){return super.data(e)}}class DD{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Dl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gd(this._firestore,this._userDataWriter,r.key,r,new Dl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const u=new gd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Dl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const u=new gd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Dl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return s.type!==0&&(l=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:S6(s.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function S6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(t){t=Mn(t,dn);const e=Mn(t.firestore,vi);return i6(kh(e),t._key).then(n=>LD(e,t,n))}class jb extends T6{constructor(e){super(),this.firestore=e}convertBytes(e){return new nu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function MD(t){t=Mn(t,ko);const e=Mn(t.firestore,vi),n=kh(e),r=new jb(e);return CD(t._query),o6(n,t._query).then(i=>new DD(e,r,t,i))}function $D(t,e,n,...r){t=Mn(t,dn);const i=Mn(t.firestore,vi),o=kb(i);let a;return a=typeof(e=Nt(e))=="string"||e instanceof Um?v6(o,"updateDoc",t._key,e,n,r):y6(o,"updateDoc",t._key,e),Fb(i,[a.toMutation(t._key,un.exists(!0))])}function A6(t){return Fb(Mn(t.firestore,vi),[new Cm(t._key,un.none())])}function P6(t,e){const n=Mn(t.firestore,vi),r=Nc(t),i=E6(t.converter,e);return Fb(n,[g6(kb(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,un.exists(!1))]).then(()=>r)}function O6(t,...e){var n,r,i;t=Nt(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||kS(e[a])||(o=e[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(kS(e[a])){const h=e[a];e[a]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[a+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[a+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let u,l,c;if(t instanceof dn)l=Mn(t.firestore,vi),c=Ih(t._key.path),u={next:h=>{e[a]&&e[a](LD(l,t,h))},error:e[a+1],complete:e[a+2]};else{const h=Mn(t,ko);l=Mn(h.firestore,vi),c=h._query;const d=new jb(l);u={next:p=>{e[a]&&e[a](new DD(l,d,h,p))},error:e[a+1],complete:e[a+2]},CD(t._query)}return function(d,p,_,g){const v=new Ab(g),b=new bb(p,v,_);return d.asyncQueue.enqueueAndForget(async()=>vb(await up(d),b)),()=>{v.Ga(),d.asyncQueue.enqueueAndForget(async()=>_b(await up(d),b))}}(kh(l),c,s,u)}function Fb(t,e){return function(r,i){const o=new yr;return r.asyncQueue.enqueueAndForget(async()=>jz(await r6(r),i,o)),o.promise}(kh(t),e)}function LD(t,e,n){const r=n.docs.get(e._key),i=new jb(t);return new ND(t,i,e._key,r,new Dl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Su=i})(Fa),Ta(new yo("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new vi(new u4(r.getProvider("auth-internal")),new f4(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new J(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sa(l.options.projectId,c)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),Dr(PE,"4.6.5",e),Dr(PE,"4.6.5","esm2017")})();function Ub(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function VD(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const C6=VD,jD=new Th("auth","Firebase",VD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=new Ww("@firebase/auth");function k6(t,...e){cp.logLevel<=be.WARN&&cp.warn(`Auth (${Fa}): ${t}`,...e)}function yd(t,...e){cp.logLevel<=be.ERROR&&cp.error(`Auth (${Fa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,...e){throw zb(t,...e)}function vr(t,...e){return zb(t,...e)}function Bb(t,e,n){const r=Object.assign(Object.assign({},C6()),{[e]:n});return new Th("auth","Firebase",r).create(e,{appName:t.name})}function da(t){return Bb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function R6(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&jr(t,"argument-error"),Bb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jD.create(t,...e)}function pe(t,e,...n){if(!t)throw zb(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yd(e),new Error(e)}function _i(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function N6(){return DS()==="http:"||DS()==="https:"}function DS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(N6()||UU()||"connection"in navigator)?navigator.onLine:!0}function M6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){this.shortDelay=e,this.longDelay=n,_i(n>e,"Short delay should be less than long delay!"),this.isMobile=jU()||BU()}get(){return D6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t,e){_i(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=new Nh(3e4,6e4);function Wb(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Cu(t,e,n,r,i={}){return UD(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=Eh(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),FD.fetch()(BD(t,t.config.apiHost,n,s),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))})}async function UD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},$6),e);try{const i=new j6(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Nf(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[u,l]=s.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nf(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Nf(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw Nf(t,"user-disabled",a);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Bb(t,c,l);jr(t,c)}}catch(i){if(i instanceof zr)throw i;jr(t,"network-request-failed",{message:String(i)})}}async function V6(t,e,n,r,i={}){const o=await Cu(t,e,n,r,i);return"mfaPendingCredential"in o&&jr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function BD(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?qb(t.config,i):`${t.config.apiScheme}://${i}`}class j6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vr(this.auth,"network-request-failed")),L6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F6(t,e){return Cu(t,"POST","/v1/accounts:delete",e)}async function zD(t,e){return Cu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function U6(t,e=!1){const n=Nt(t),r=await n.getIdToken(e),i=Gb(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Jl($y(i.auth_time)),issuedAtTime:Jl($y(i.iat)),expirationTime:Jl($y(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function $y(t){return Number(t)*1e3}function Gb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yd("JWT malformed, contained fewer than 3 sections"),null;try{const i=gR(n);return i?JSON.parse(i):(yd("Failed to decode base64 JWT payload"),null)}catch(i){return yd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function MS(t){const e=Gb(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zr&&B6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function B6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Dc(t,zD(n,{idToken:r}));pe(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?qD(o.providerUserInfo):[],s=W6(t.providerData,a),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),c=u?l:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new U0(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function q6(t){const e=Nt(t);await hp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function W6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function qD(t){return t.map(e=>{var{providerId:n}=e,r=Ub(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G6(t,e){const n=await UD(t,{},async()=>{const r=Eh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=BD(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",FD.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function K6(t,e){return Cu(t,"POST","/v2/accounts:revokeToken",Wb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):MS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=MS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await G6(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Rs;return r&&(pe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(pe(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rs,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ni{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Ub(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new z6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new U0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Dc(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return U6(this,e)}reload(){return q6(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zr(this.auth.app))return Promise.reject(da(this.auth));const e=await this.getIdToken();return await Dc(this,F6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,u,l,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,_=(a=n.photoURL)!==null&&a!==void 0?a:void 0,g=(s=n.tenantId)!==null&&s!==void 0?s:void 0,v=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,b=(l=n.createdAt)!==null&&l!==void 0?l:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:x,isAnonymous:T,providerData:A,stsTokenManager:I}=n;pe(w&&I,e,"internal-error");const E=Rs.fromJSON(this.name,I);pe(typeof w=="string",e,"internal-error"),$i(h,e.name),$i(d,e.name),pe(typeof x=="boolean",e,"internal-error"),pe(typeof T=="boolean",e,"internal-error"),$i(p,e.name),$i(_,e.name),$i(g,e.name),$i(v,e.name),$i(b,e.name),$i(y,e.name);const P=new ni({uid:w,auth:e,email:d,emailVerified:x,displayName:h,isAnonymous:T,photoURL:_,phoneNumber:p,tenantId:g,stsTokenManager:E,createdAt:b,lastLoginAt:y});return A&&Array.isArray(A)&&(P.providerData=A.map(O=>Object.assign({},O))),v&&(P._redirectEventId=v),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Rs;i.updateFromServerResponse(n);const o=new ni({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await hp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];pe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?qD(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new Rs;s.updateFromIdToken(r);const u=new ni({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new U0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,l),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=new Map;function ri(t){_i(t instanceof Function,"Expected a class definition");let e=$S.get(t);return e?(_i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$S.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}WD.type="NONE";const LS=WD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ns{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=vd(this.userKey,i.apiKey,o),this.fullPersistenceKey=vd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ni._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ns(ri(LS),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let o=i[0]||ri(LS);const a=vd(r,e.config.apiKey,e.name);let s=null;for(const l of n)try{const c=await l._get(a);if(c){const h=ni._fromJSON(e,c);l!==o&&(s=h),o=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new Ns(o,e,r):(o=u[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(a)}catch{}})),new Ns(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YD(e))return"Blackberry";if(XD(e))return"Webos";if(Kb(e))return"Safari";if((e.includes("chrome/")||KD(e))&&!e.includes("edge/"))return"Chrome";if(QD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function GD(t=_t()){return/firefox\//i.test(t)}function Kb(t=_t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KD(t=_t()){return/crios\//i.test(t)}function HD(t=_t()){return/iemobile/i.test(t)}function QD(t=_t()){return/android/i.test(t)}function YD(t=_t()){return/blackberry/i.test(t)}function XD(t=_t()){return/webos/i.test(t)}function Wm(t=_t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function H6(t=_t()){var e;return Wm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Q6(){return zU()&&document.documentMode===10}function JD(t=_t()){return Wm(t)||QD(t)||XD(t)||YD(t)||/windows phone/i.test(t)||HD(t)}function Y6(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t,e=[]){let n;switch(t){case"Browser":n=VS(_t());break;case"Worker":n=`${VS(_t())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const u=e(o);a(u)}catch(u){s(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J6(t,e={}){return Cu(t,"GET","/v2/passwordPolicy",Wb(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=6;class e9{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:Z6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(s=u.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jS(this),this.idTokenSubscription=new jS(this),this.beforeStateQueue=new X6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ns.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zD(this,{idToken:e}),r=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Zr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===s)&&(u==null?void 0:u.user)&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=M6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zr(this.app))return Promise.reject(da(this));const n=e?Nt(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zr(this.app)?Promise.reject(da(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zr(this.app)?Promise.reject(da(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J6(this),n=new e9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Th("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await K6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await Ns.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&k6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Gm(t){return Nt(t)}class jS{constructor(e){this.auth=e,this.observer=null,this.addObserver=QU(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function n9(t){Hb=t}function r9(t){return Hb.loadJS(t)}function i9(){return Hb.gapiScript}function o9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(t,e){const n=Em(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Hd(o,e!=null?e:{}))return i;jr(i,"already-initialized")}return n.initialize({options:e})}function s9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function u9(t,e,n){const r=Gm(t);pe(r._canInitEmulator,r,"emulator-config-failed"),pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=e2(e),{host:a,port:s}=l9(e),u=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||c9()}function e2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function l9(t){const e=e2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:FS(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:FS(a)}}}function FS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function c9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ds(t,e){return V6(t,"POST","/v1/accounts:signInWithIdp",Wb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9="http://localhost";class ka extends t2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Ub(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new ka(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ds(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ds(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ds(e,n)}buildRequest(){const e={requestUri:h9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends Qb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Dh{constructor(){super("facebook.com")}static credential(e){return ka._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Dh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ka._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yr.credential(n,r)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Dh{constructor(){super("github.com")}static credential(e){return ka._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Dh{constructor(){super("twitter.com")}static credential(e,n){return ka._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Gi.credential(n,r)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ni._fromIdTokenResponse(e,r,i),a=US(r);return new ru({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=US(r);return new ru({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function US(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp extends zr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,fp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new fp(e,n,r,i)}}function n2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fp._fromErrorAndOperation(t,o,e,r):o})}async function f9(t,e,n=!1){const r=await Dc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ru._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d9(t,e,n=!1){const{auth:r}=t;if(Zr(r.app))return Promise.reject(da(r));const i="reauthenticate";try{const o=await Dc(t,n2(r,i,e,t),n);pe(o.idToken,r,"internal-error");const a=Gb(o.idToken);pe(a,r,"internal-error");const{sub:s}=a;return pe(t.uid===s,r,"user-mismatch"),ru._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&jr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p9(t,e,n=!1){if(Zr(t.app))return Promise.reject(da(t));const r="signIn",i=await n2(t,r,e),o=await ru._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function m9(t,e,n,r){return Nt(t).onIdTokenChanged(e,n,r)}function g9(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}function r2(t){return Nt(t).signOut()}const dp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dp,"1"),this.storage.removeItem(dp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(){const t=_t();return Kb(t)||Wm(t)}const v9=1e3,_9=10;class o2 extends i2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=y9()&&Y6(),this.fallbackToPolling=JD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,u)=>{this.notifyListeners(a,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);Q6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},v9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}o2.type="LOCAL";const w9=o2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2 extends i2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}a2.type="SESSION";const s2=a2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Km(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async l=>l(n.origin,o)),u=await b9(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Km.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,u)=>{const l=Yb("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(d.data.response);break;default:clearTimeout(c),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return window}function T9(t){Mr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(){return typeof Mr().WorkerGlobalScope<"u"&&typeof Mr().importScripts=="function"}async function E9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function S9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function I9(){return u2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="firebaseLocalStorageDb",A9=1,pp="firebaseLocalStorage",c2="fbase_key";class Mh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hm(t,e){return t.transaction([pp],e?"readwrite":"readonly").objectStore(pp)}function P9(){const t=indexedDB.deleteDatabase(l2);return new Mh(t).toPromise()}function B0(){const t=indexedDB.open(l2,A9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pp,{keyPath:c2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pp)?e(r):(r.close(),await P9(),e(await B0()))})})}async function BS(t,e,n){const r=Hm(t,!0).put({[c2]:e,value:n});return new Mh(r).toPromise()}async function O9(t,e){const n=Hm(t,!1).get(e),r=await new Mh(n).toPromise();return r===void 0?null:r.value}function zS(t,e){const n=Hm(t,!0).delete(e);return new Mh(n).toPromise()}const C9=800,k9=3;class h2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await B0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>k9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Km._getInstance(I9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await E9(),!this.activeServiceWorker)return;this.sender=new x9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||S9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await B0();return await BS(e,dp,"1"),await zS(e,dp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>BS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>O9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Hm(i,!1).getAll();return new Mh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),C9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}h2.type="LOCAL";const R9=h2;new Nh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t,e){return e?ri(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb extends t2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ds(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ds(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ds(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function N9(t){return p9(t.auth,new Xb(t),t.bypassAuthState)}function D9(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),d9(n,new Xb(t),t.bypassAuthState)}async function M9(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),f9(n,new Xb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N9;case"linkViaPopup":case"linkViaRedirect":return M9;case"reauthViaPopup":case"reauthViaRedirect":return D9;default:jr(this.auth,"internal-error")}}resolve(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9=new Nh(2e3,1e4);async function L9(t,e,n){if(Zr(t.app))return Promise.reject(vr(t,"operation-not-supported-in-this-environment"));const r=Gm(t);R6(t,e,Qb);const i=f2(r,n);return new oa(r,"signInViaPopup",e,i).executeNotNull()}class oa extends d2{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,oa.currentPopupAction&&oa.currentPopupAction.cancel(),oa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){_i(this.filter.length===1,"Popup operations only handle one event");const e=Yb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$9.get())};e()}}oa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9="pendingRedirect",_d=new Map;class j9 extends d2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_d.get(this.auth._key());if(!e){try{const r=await F9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_d.set(this.auth._key(),e)}return this.bypassAuthState||_d.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function F9(t,e){const n=z9(e),r=B9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function U9(t,e){_d.set(t._key(),e)}function B9(t){return ri(t._redirectPersistence)}function z9(t){return vd(V9,t.config.apiKey,t.name)}async function q9(t,e,n=!1){if(Zr(t.app))return Promise.reject(da(t));const r=Gm(t),i=f2(r,e),a=await new j9(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9=10*60*1e3;class G9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!K9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!p2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=W9&&this.cachedEventUids.clear(),this.cachedEventUids.has(qS(e))}saveEventToCache(e){this.cachedEventUids.add(qS(e)),this.lastProcessedEventTime=Date.now()}}function qS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function p2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function K9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H9(t,e={}){return Cu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y9=/^https?/;async function X9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await H9(t);for(const n of e)try{if(J9(n))return}catch{}jr(t,"unauthorized-domain")}function J9(t){const e=F0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Y9.test(n))return!1;if(Q9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=new Nh(3e4,6e4);function WS(){const t=Mr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function e5(t){return new Promise((e,n)=>{var r,i,o;function a(){WS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WS(),n(vr(t,"network-request-failed"))},timeout:Z9.get()})}if(!((i=(r=Mr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Mr().gapi)===null||o===void 0)&&o.load)a();else{const s=o9("iframefcb");return Mr()[s]=()=>{gapi.load?a():n(vr(t,"network-request-failed"))},r9(`${i9()}?onload=${s}`).catch(u=>n(u))}}).catch(e=>{throw wd=null,e})}let wd=null;function t5(t){return wd=wd||e5(t),wd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=new Nh(5e3,15e3),r5="__/auth/iframe",i5="emulator/auth/iframe",o5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s5(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qb(e,i5):`https://${t.config.authDomain}/${r5}`,r={apiKey:e.apiKey,appName:t.name,v:Fa},i=a5.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Eh(r).slice(1)}`}async function u5(t){const e=await t5(t),n=Mr().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:s5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o5,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=vr(t,"network-request-failed"),s=Mr().setTimeout(()=>{o(a)},n5.get());function u(){Mr().clearTimeout(s),i(r)}r.ping(u).then(u,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c5=500,h5=600,f5="_blank",d5="http://localhost";class GS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function p5(t,e,n,r=c5,i=h5){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const u=Object.assign(Object.assign({},l5),{width:r.toString(),height:i.toString(),top:o,left:a}),l=_t().toLowerCase();n&&(s=KD(l)?f5:n),GD(l)&&(e=e||d5,u.scrollbars="yes");const c=Object.entries(u).reduce((d,[p,_])=>`${d}${p}=${_},`,"");if(H6(l)&&s!=="_self")return m5(e||"",s),new GS(null);const h=window.open(e||"",s,c);pe(h,t,"popup-blocked");try{h.focus()}catch{}return new GS(h)}function m5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5="__/auth/handler",y5="emulator/auth/handler",v5=encodeURIComponent("fac");async function KS(t,e,n,r,i,o){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fa,eventId:i};if(e instanceof Qb){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",HU(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(o||{}))a[c]=h}if(e instanceof Dh){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const u=await t._getAppCheckToken(),l=u?`#${v5}=${encodeURIComponent(u)}`:"";return`${_5(t)}?${Eh(s).slice(1)}${l}`}function _5({config:t}){return t.emulator?qb(t,y5):`https://${t.authDomain}/${g5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="webStorageSupport";class w5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=s2,this._completeRedirectFn=q9,this._overrideRedirectResult=U9}async _openPopup(e,n,r,i){var o;_i((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await KS(e,n,r,F0(),i);return p5(e,a,Yb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await KS(e,n,r,F0(),i);return T9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(_i(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await u5(e),r=new G9(e);return n.register("authEvent",i=>(pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ly,{type:Ly},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Ly];a!==void 0&&n(!!a),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=X9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JD()||Kb()||Wm()}}const b5=w5;var HS="@firebase/auth",QS="1.7.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E5(t){Ta(new yo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;pe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZD(t)},l=new t9(r,i,o,u);return s9(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ta(new yo("auth-internal",e=>{const n=Gm(e.getProvider("auth").getImmediate());return(r=>new x5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dr(HS,QS,T5(t)),Dr(HS,QS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=5*60,I5=wR("authIdTokenMaxAge")||S5;let YS=null;const A5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>I5)return;const i=n==null?void 0:n.token;YS!==i&&(YS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function P5(t=Kw()){const e=Em(t,"auth");if(e.isInitialized())return e.getImmediate();const n=a9(t,{popupRedirectResolver:b5,persistence:[R9,w9,s2]}),r=wR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=A5(o.toString());g9(n,a,()=>a(n.currentUser)),m9(n,s=>a(s))}}const i=yR("auth");return i&&u9(n,`http://${i}`),n}function O5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}n9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=vr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",O5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E5("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="firebasestorage.googleapis.com",C5="storageBucket",k5=2*60*1e3,R5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends zr{constructor(e,n,r=0){super(Vy(e),`Firebase Storage: ${n} (${Vy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Fr||(Fr={}));function Vy(t){return"storage/"+t}function N5(){const t="An unknown error occurred, please check the error payload for server response.";return new qr(Fr.UNKNOWN,t)}function D5(){return new qr(Fr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function M5(){return new qr(Fr.CANCELED,"User canceled the upload/download.")}function $5(t){return new qr(Fr.INVALID_URL,"Invalid URL '"+t+"'.")}function L5(t){return new qr(Fr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function XS(t){return new qr(Fr.INVALID_ARGUMENT,t)}function g2(){return new qr(Fr.APP_DELETED,"The Firebase app was deleted.")}function V5(t){return new qr(Fr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=dr.makeFromUrl(e,n)}catch{return new dr(e,"")}if(r.path==="")return r;throw L5(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const a="(/(.*))?$",s=new RegExp("^gs://"+i+a,"i"),u={bucket:1,path:3};function l(x){x.path_=decodeURIComponent(x.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${c}/b/${i}/o${d}`,"i"),_={bucket:1,path:3},g=n===m2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",b=new RegExp(`^https?://${g}/${i}/${v}`,"i"),w=[{regex:s,indices:u,postModify:o},{regex:p,indices:_,postModify:l},{regex:b,indices:{bucket:1,path:2},postModify:l}];for(let x=0;x<w.length;x++){const T=w[x],A=T.regex.exec(e);if(A){const I=A[T.indices.bucket];let E=A[T.indices.path];E||(E=""),r=new dr(I,E),T.postModify(r);break}}if(r==null)throw $5(e);return r}}class j5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(t,e,n){let r=1,i=null,o=null,a=!1,s=0;function u(){return s===2}let l=!1;function c(...v){l||(l=!0,e.apply(null,v))}function h(v){i=setTimeout(()=>{i=null,t(p,u())},v)}function d(){o&&clearTimeout(o)}function p(v,...b){if(l){d();return}if(v){d(),c.call(null,v,...b);return}if(u()||a){d(),c.call(null,v,...b);return}r<64&&(r*=2);let w;s===1?(s=2,w=0):w=(r+Math.random())*1e3,h(w)}let _=!1;function g(v){_||(_=!0,d(),!l&&(i!==null?(v||(s=2),clearTimeout(i),h(0)):v||(s=1)))}return h(0),o=setTimeout(()=>{a=!0,g(!0)},n),g}function U5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(t){return t!==void 0}function JS(t,e,n,r){if(r<e)throw XS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw XS(`Invalid value for '${t}'. Expected ${n} or less.`)}function z5(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(mp||(mp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,n,r,i,o,a,s,u,l,c,h,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,_)=>{this.resolve_=p,this.reject_=_,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Df(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=s=>{const u=s.loaded,l=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const s=o.getErrorCode()===mp.NO_ERROR,u=o.getStatus();if(!s||q5(u,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===mp.ABORT;r(!1,new Df(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new Df(l,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(s,s.getResponse());B5(u)?o(u):o()}catch(u){a(u)}else if(s!==null){const u=N5();u.serverResponse=s.getErrorText(),this.errorCallback_?a(this.errorCallback_(s,u)):a(u)}else if(i.canceled){const u=this.appDelete_?g2():M5();a(u)}else{const u=D5();a(u)}};this.canceled_?n(!1,new Df(!1,null,!0)):this.backoffId_=F5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&U5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Df{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function G5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function K5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function H5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Q5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Y5(t,e,n,r,i,o,a=!0){const s=z5(t.urlParams),u=t.url+s,l=Object.assign({},t.headers);return H5(l,e),G5(l,n),K5(l,o),Q5(l,r),new W5(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function J5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n){this._service=e,n instanceof dr?this._location=n:this._location=dr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new gp(e,n)}get root(){const e=new dr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return J5(this._location.path)}get storage(){return this._service}get parent(){const e=X5(this._location.path);if(e===null)return null;const n=new dr(this._location.bucket,e);return new gp(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw V5(e)}}function ZS(t,e){const n=e==null?void 0:e[C5];return n==null?null:dr.makeFromBucketSpec(n,t)}function Z5(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:bR(i,t.app.options.projectId))}class eq{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=m2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=k5,this._maxUploadRetryTime=R5,this._requests=new Set,i!=null?this._bucket=dr.makeFromBucketSpec(i,this._host):this._bucket=ZS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=dr.makeFromBucketSpec(this._url,e):this._bucket=ZS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){JS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){JS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gp(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new j5(g2());{const a=Y5(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const eI="@firebase/storage",tI="0.12.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="storage";function tq(t=Kw(),e){t=Nt(t);const r=Em(t,y2).getImmediate({identifier:e}),i=vR("storage");return i&&nq(r,...i),r}function nq(t,e,n,r={}){Z5(t,e,n,r)}function rq(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new eq(n,r,i,e,Fa)}function iq(){Ta(new yo(y2,rq,"PUBLIC").setMultipleInstances(!0)),Dr(eI,tI,""),Dr(eI,tI,"esm2017")}iq();const oq={apiKey:"YOUR_API_KEY",authDomain:"YOUR_AUTH_DOMAIN",databaseURL:{}.VITE_FIREBASE_DATABASE_URL,projectId:"YOUR_PROJECT_ID",storageBucket:"YOUR_STORAGE_BUCKET",messagingSenderId:"YOUR_MESSAGING_SENDER_ID",appId:"YOUR_APP_ID"},Jb=IR(oq),ui=l6(Jb),wi=P5(Jb);tq(Jb);c6(ui).catch(t=>{t.code==="failed-precondition"?console.warn("Multiple tabs open, persistence can only be enabled in one tab at a time."):t.code==="unimplemented"&&console.warn("The current browser does not support all of the features required to enable persistence")});/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),v2=(...t)=>t.filter((e,n,r)=>Boolean(e)&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=M.exports.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},u)=>M.exports.createElement("svg",{ref:u,...sq,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:v2("lucide",i),...s},[...a.map(([l,c])=>M.exports.createElement(l,c)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=(t,e)=>{const n=M.exports.forwardRef(({className:r,...i},o)=>M.exports.createElement(uq,{ref:o,iconNode:e,className:v2(`lucide-${aq(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=br("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=br("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=br("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=br("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=br("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=br("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=br("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=br("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=br("SquarePlus",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=br("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=br("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),vq=()=>{const[t,e]=M.exports.useState([]),[n,r]=M.exports.useState(!0),[i,o]=M.exports.useState("all"),[a,s]=M.exports.useState(""),[u,l]=M.exports.useState("dueDate"),[c,h]=M.exports.useState("asc"),[d,p]=M.exports.useState(""),[_,g]=M.exports.useState("");M.exports.useEffect(()=>{const T=wi.currentUser;if(!T)return;const A=Mb(Fm(ui,"tasks"),$b("userId","==",T.uid),x6(u,c)),I=O6(A,E=>{const P=E.docs.map(O=>({id:O.id,...O.data()}));e(P),r(!1)});return()=>I()},[u,c]);const v=async(T,A)=>{await $D(Nc(ui,"tasks",T),{completed:!A})},b=async T=>{window.confirm("Are you sure you want to delete this task?")&&await A6(Nc(ui,"tasks",T))},y=t.filter(T=>i==="active"?!T.completed:i==="completed"?T.completed:!0).filter(T=>T.title.toLowerCase().includes(a.toLowerCase())||T.description.toLowerCase().includes(a.toLowerCase())).filter(T=>d?T.category===d:!0).filter(T=>_?T.priority===_:!0),w=Array.from(new Set(t.map(T=>T.category))),x=T=>{u===T?h(c==="asc"?"desc":"asc"):(l(T),h("asc"))};return n?D("div",{children:"Loading tasks..."}):X("div",{className:"max-w-4xl mx-auto mt-8",children:[D("h1",{className:"text-2xl font-bold mb-4",children:"Your Tasks"}),X("div",{className:"mb-4 space-y-2",children:[X("div",{className:"flex items-center space-x-2",children:[D(dq,{size:20}),D("input",{type:"text",placeholder:"Search tasks...",value:a,onChange:T=>s(T.target.value),className:"border rounded px-2 py-1 flex-grow"})]}),X("div",{className:"flex space-x-2",children:[X("select",{value:i,onChange:T=>o(T.target.value),className:"border rounded px-2 py-1",children:[D("option",{value:"all",children:"All"}),D("option",{value:"active",children:"Active"}),D("option",{value:"completed",children:"Completed"})]}),X("select",{value:d,onChange:T=>p(T.target.value),className:"border rounded px-2 py-1",children:[D("option",{value:"",children:"All Categories"}),w.map(T=>D("option",{value:T,children:T},T))]}),X("select",{value:_,onChange:T=>g(T.target.value),className:"border rounded px-2 py-1",children:[D("option",{value:"",children:"All Priorities"}),D("option",{value:"low",children:"Low"}),D("option",{value:"medium",children:"Medium"}),D("option",{value:"high",children:"High"})]})]}),X("div",{className:"flex space-x-2",children:[X("button",{onClick:()=>x("dueDate"),className:"border rounded px-2 py-1",children:["Sort by Due Date"," ",u==="dueDate"&&(c==="asc"?"\u2191":"\u2193")]}),X("button",{onClick:()=>x("priority"),className:"border rounded px-2 py-1",children:["Sort by Priority"," ",u==="priority"&&(c==="asc"?"\u2191":"\u2193")]}),X("button",{onClick:()=>x("category"),className:"border rounded px-2 py-1",children:["Sort by Category"," ",u==="category"&&(c==="asc"?"\u2191":"\u2193")]}),X("button",{onClick:()=>x("title"),className:"border rounded px-2 py-1",children:["Sort by Title"," ",u==="title"&&(c==="asc"?"\u2191":"\u2193")]})]})]}),D(ia,{to:"/add-task",className:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded mb-4 inline-block",children:"Add New Task"}),y.length===0?D("p",{children:"No tasks found."}):D("ul",{className:"space-y-4",children:y.map(T=>X("li",{className:`bg-white shadow rounded-lg p-4 ${T.completed?"opacity-50":""}`,children:[X("div",{className:"flex justify-between items-center",children:[D("h2",{className:`text-xl font-semibold ${T.completed?"line-through":""}`,children:T.title}),X("div",{className:"space-x-2",children:[X("button",{onClick:()=>v(T.id,T.completed),className:`inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white ${T.completed?"bg-gray-400 hover:bg-gray-500":"bg-green-600 hover:bg-green-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500`,children:[D(cq,{size:16,className:"mr-2"}),T.completed?"Mark Incomplete":"Mark Complete"]}),X(ia,{to:`/edit-task/${T.id}`,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[D(pq,{size:16,className:"mr-2"}),"Edit"]}),X("button",{onClick:()=>b(T.id),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[D(gq,{size:16,className:"mr-2"}),"Delete"]})]})]}),D("p",{className:"text-gray-600 mt-2",children:T.description}),X("div",{className:"mt-2 flex justify-between items-center",children:[X("span",{className:"text-sm text-gray-500",children:["Due: ",T.dueDate]}),X("span",{className:"text-sm text-gray-500",children:["Category: ",T.category]}),D("span",{className:`px-2 py-1 rounded text-xs font-semibold ${T.priority==="high"?"bg-red-100 text-red-800":T.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:T.priority.charAt(0).toUpperCase()+T.priority.slice(1)})]})]},T.id))})]})},_q=()=>{const[t,e]=M.exports.useState(""),[n,r]=M.exports.useState(""),[i,o]=M.exports.useState(""),[a,s]=M.exports.useState("medium"),[u,l]=M.exports.useState(""),[c,h]=M.exports.useState(null),[d,p]=M.exports.useState(!1),_=ja();return X("div",{className:"max-w-2xl mx-auto mt-10 p-6 bg-white rounded-lg shadow-md",children:[D("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Add New Task"}),c&&X("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded flex items-center",children:[D(_2,{className:"mr-2",size:20}),c]}),X("form",{onSubmit:async v=>{v.preventDefault();const b=wi.currentUser;if(!b){h("You must be logged in to add a task.");return}if(!t.trim()){h("Title is required.");return}if(!i){h("Due date is required.");return}p(!0),h(null);try{await P6(Fm(ui,"tasks"),{userId:b.uid,title:t.trim(),description:n.trim(),dueDate:i,priority:a,category:u.trim(),completed:!1,createdAt:new Date}),e(""),r(""),o(""),s("medium"),l(""),_("/tasks")}catch(y){console.error("Error adding task:",y),h("Failed to add task. Please try again.")}finally{p(!1)}},className:"space-y-4",children:[X("div",{children:[D("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title *"}),D("input",{type:"text",id:"title",value:t,onChange:v=>e(v.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",required:!0})]}),X("div",{children:[D("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),D("textarea",{id:"description",value:n,onChange:v=>r(v.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:3})]}),X("div",{children:[D("label",{htmlFor:"dueDate",className:"block text-sm font-medium text-gray-700",children:"Due Date *"}),D("input",{type:"date",id:"dueDate",value:i,onChange:v=>o(v.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",required:!0})]}),X("div",{children:[D("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700",children:"Priority"}),X("select",{id:"priority",value:a,onChange:v=>s(v.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",children:[D("option",{value:"low",children:"Low"}),D("option",{value:"medium",children:"Medium"}),D("option",{value:"high",children:"High"})]})]}),X("div",{children:[D("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),D("input",{type:"text",id:"category",value:u,onChange:v=>l(v.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"e.g., Work, Personal, Shopping"})]}),D("button",{type:"submit",disabled:d,className:`w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${d?"opacity-50 cursor-not-allowed":""}`,children:d?X(bm,{children:[D(yp,{className:"animate-spin inline-block mr-2",size:16}),"Adding Task..."]}):"Add Task"})]})]})},wq=()=>{const[t,e]=M.exports.useState(null),[n,r]=M.exports.useState(null),[i,o]=M.exports.useState(!1),{id:a}=nU(),s=ja();M.exports.useEffect(()=>{(async()=>{if(!!a){o(!0);try{const c=await I6(Nc(ui,"tasks",a));c.exists()?e({id:c.id,...c.data()}):r("Task not found.")}catch(c){console.error("Error fetching task:",c),r("Failed to fetch task. Please try again.")}finally{o(!1)}}})()},[a]);const u=async l=>{if(l.preventDefault(),!t||!a)return;if(!wi.currentUser){r("You must be logged in to edit a task.");return}if(!t.title.trim()){r("Title is required.");return}if(!t.dueDate){r("Due date is required.");return}o(!0),r(null);try{await $D(Nc(ui,"tasks",a),{title:t.title.trim(),description:t.description.trim(),dueDate:t.dueDate,priority:t.priority,category:t.category.trim(),completed:t.completed}),s("/tasks")}catch(h){console.error("Error updating task:",h),r("Failed to update task. Please try again.")}finally{o(!1)}};return i?D("div",{className:"flex justify-center items-center h-screen",children:D(yp,{className:"animate-spin",size:48})}):t?X("div",{className:"max-w-2xl mx-auto mt-10 p-6 bg-white rounded-lg shadow-md",children:[D("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Edit Task"}),n&&X("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded flex items-center",children:[D(_2,{className:"mr-2",size:20}),n]}),X("form",{onSubmit:u,className:"space-y-4",children:[X("div",{children:[D("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title *"}),D("input",{type:"text",id:"title",value:t.title,onChange:l=>e({...t,title:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",required:!0})]}),X("div",{children:[D("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),D("textarea",{id:"description",value:t.description,onChange:l=>e({...t,description:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:3})]}),X("div",{children:[D("label",{htmlFor:"dueDate",className:"block text-sm font-medium text-gray-700",children:"Due Date *"}),D("input",{type:"date",id:"dueDate",value:t.dueDate,onChange:l=>e({...t,dueDate:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",required:!0})]}),X("div",{children:[D("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700",children:"Priority"}),X("select",{id:"priority",value:t.priority,onChange:l=>e({...t,priority:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",children:[D("option",{value:"low",children:"Low"}),D("option",{value:"medium",children:"Medium"}),D("option",{value:"high",children:"High"})]})]}),X("div",{children:[D("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),D("input",{type:"text",id:"category",value:t.category,onChange:l=>e({...t,category:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"e.g., Work, Personal, Shopping"})]}),X("div",{className:"flex items-center",children:[D("input",{type:"checkbox",id:"completed",checked:t.completed,onChange:l=>e({...t,completed:l.target.checked}),className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 mr-2"}),D("label",{htmlFor:"completed",className:"text-sm font-medium text-gray-700",children:"Mark as completed"})]}),D("button",{type:"submit",disabled:i,className:`w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${i?"opacity-50 cursor-not-allowed":""}`,children:i?X(bm,{children:[D(yp,{className:"animate-spin inline-block mr-2",size:16}),"Updating Task..."]}):"Update Task"})]})]}):D("div",{children:"Task not found."})},bq=()=>{const[t,e]=M.exports.useState(null),[n,r]=M.exports.useState({total:0,completed:0,overdue:0}),i=ja();M.exports.useEffect(()=>{const s=wi.onAuthStateChanged(u=>{e(u),u&&o(u.uid)});return()=>s()},[]);const o=async s=>{const u=Mb(Fm(ui,"tasks"),$b("userId","==",s)),l=await MD(u),c=new Date;let h=0,d=0,p=0;l.forEach(_=>{const g=_.data();h++,g.completed&&d++,!g.completed&&new Date(g.deadline)<c&&p++}),r({total:h,completed:d,overdue:p})},a=async()=>{try{await r2(wi),i("/")}catch(s){console.error("Error signing out:",s)}};return t?X("div",{className:"profile p-4",children:[D("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Your Profile"}),X("div",{className:"mx-auto max-w-2xl",children:[X("div",{className:"mb-4",children:[D("img",{src:t.photoURL||"https://via.placeholder.com/150",alt:"Profile",className:"w-24 h-24 rounded-full mx-auto mb-2"}),D("h3",{className:"text-xl font-semibold text-center",children:t.displayName}),D("p",{className:"text-gray-600 text-center",children:t.email})]}),X("div",{className:"bg-white shadow-md rounded-lg p-4 mb-4",children:[D("h3",{className:"text-lg font-semibold mb-2",children:"Task Statistics"}),X("p",{children:["Total Tasks: ",n.total]}),X("p",{children:["Completed Tasks: ",n.completed]}),X("p",{children:["Overdue Tasks: ",n.overdue]})]}),D("button",{onClick:a,className:"bg-red-500 text-white px-4 py-2 rounded w-full",children:"Sign Out"})]})]}):X("div",{className:"profile p-4",children:[D("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Profile"}),D("p",{children:"Please sign in to view your profile."}),D(ia,{to:"/signin",className:"bg-blue-500 text-white px-4 py-2 rounded mt-4 inline-block",children:"Sign In"})]})},w2=()=>{const t=ja();return X("div",{className:"sign-in p-4 flex flex-col items-center",children:[D("h2",{className:"text-2xl font-bold mb-4",children:"Sign In"}),X("button",{onClick:async()=>{try{const n=new Yr;await L9(wi,n),t("/tasks")}catch(n){console.error("Error signing in with Google:",n)}},className:"bg-white text-gray-700 font-semibold py-2 px-4 border border-gray-300 rounded shadow flex items-center",children:[D("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google logo",className:"w-6 h-6 mr-2"}),"Sign in with Google"]})]})};function b2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=b2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Re(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=b2(t))&&(r&&(r+=" "),r+=e);return r}var xq=Array.isArray,Sn=xq,Tq=typeof lf=="object"&&lf&&lf.Object===Object&&lf,x2=Tq,Eq=x2,Sq=typeof self=="object"&&self&&self.Object===Object&&self,Iq=Eq||Sq||Function("return this")(),Wr=Iq,Aq=Wr,Pq=Aq.Symbol,$h=Pq,nI=$h,T2=Object.prototype,Oq=T2.hasOwnProperty,Cq=T2.toString,gl=nI?nI.toStringTag:void 0;function kq(t){var e=Oq.call(t,gl),n=t[gl];try{t[gl]=void 0;var r=!0}catch{}var i=Cq.call(t);return r&&(e?t[gl]=n:delete t[gl]),i}var Rq=kq,Nq=Object.prototype,Dq=Nq.toString;function Mq(t){return Dq.call(t)}var $q=Mq,rI=$h,Lq=Rq,Vq=$q,jq="[object Null]",Fq="[object Undefined]",iI=rI?rI.toStringTag:void 0;function Uq(t){return t==null?t===void 0?Fq:jq:iI&&iI in Object(t)?Lq(t):Vq(t)}var Ai=Uq;function Bq(t){return t!=null&&typeof t=="object"}var Pi=Bq,zq=Ai,qq=Pi,Wq="[object Symbol]";function Gq(t){return typeof t=="symbol"||qq(t)&&zq(t)==Wq}var ku=Gq,Kq=Sn,Hq=ku,Qq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Yq=/^\w*$/;function Xq(t,e){if(Kq(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Hq(t)?!0:Yq.test(t)||!Qq.test(t)||e!=null&&t in Object(e)}var Zb=Xq;function Jq(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Un=Jq,Zq=Ai,e8=Un,t8="[object AsyncFunction]",n8="[object Function]",r8="[object GeneratorFunction]",i8="[object Proxy]";function o8(t){if(!e8(t))return!1;var e=Zq(t);return e==n8||e==r8||e==t8||e==i8}var _e=o8,a8=Wr,s8=a8["__core-js_shared__"],u8=s8,jy=u8,oI=function(){var t=/[^.]+$/.exec(jy&&jy.keys&&jy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function l8(t){return!!oI&&oI in t}var c8=l8,h8=Function.prototype,f8=h8.toString;function d8(t){if(t!=null){try{return f8.call(t)}catch{}try{return t+""}catch{}}return""}var E2=d8,p8=_e,m8=c8,g8=Un,y8=E2,v8=/[\\^$.*+?()[\]{}|]/g,_8=/^\[object .+?Constructor\]$/,w8=Function.prototype,b8=Object.prototype,x8=w8.toString,T8=b8.hasOwnProperty,E8=RegExp("^"+x8.call(T8).replace(v8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function S8(t){if(!g8(t)||m8(t))return!1;var e=p8(t)?E8:_8;return e.test(y8(t))}var I8=S8;function A8(t,e){return t==null?void 0:t[e]}var P8=A8,O8=I8,C8=P8;function k8(t,e){var n=C8(t,e);return O8(n)?n:void 0}var za=k8,R8=za,N8=R8(Object,"create"),Qm=N8,aI=Qm;function D8(){this.__data__=aI?aI(null):{},this.size=0}var M8=D8;function $8(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var L8=$8,V8=Qm,j8="__lodash_hash_undefined__",F8=Object.prototype,U8=F8.hasOwnProperty;function B8(t){var e=this.__data__;if(V8){var n=e[t];return n===j8?void 0:n}return U8.call(e,t)?e[t]:void 0}var z8=B8,q8=Qm,W8=Object.prototype,G8=W8.hasOwnProperty;function K8(t){var e=this.__data__;return q8?e[t]!==void 0:G8.call(e,t)}var H8=K8,Q8=Qm,Y8="__lodash_hash_undefined__";function X8(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Q8&&e===void 0?Y8:e,this}var J8=X8,Z8=M8,eW=L8,tW=z8,nW=H8,rW=J8;function Ru(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ru.prototype.clear=Z8;Ru.prototype.delete=eW;Ru.prototype.get=tW;Ru.prototype.has=nW;Ru.prototype.set=rW;var iW=Ru;function oW(){this.__data__=[],this.size=0}var aW=oW;function sW(t,e){return t===e||t!==t&&e!==e}var e1=sW,uW=e1;function lW(t,e){for(var n=t.length;n--;)if(uW(t[n][0],e))return n;return-1}var Ym=lW,cW=Ym,hW=Array.prototype,fW=hW.splice;function dW(t){var e=this.__data__,n=cW(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():fW.call(e,n,1),--this.size,!0}var pW=dW,mW=Ym;function gW(t){var e=this.__data__,n=mW(e,t);return n<0?void 0:e[n][1]}var yW=gW,vW=Ym;function _W(t){return vW(this.__data__,t)>-1}var wW=_W,bW=Ym;function xW(t,e){var n=this.__data__,r=bW(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var TW=xW,EW=aW,SW=pW,IW=yW,AW=wW,PW=TW;function Nu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nu.prototype.clear=EW;Nu.prototype.delete=SW;Nu.prototype.get=IW;Nu.prototype.has=AW;Nu.prototype.set=PW;var Xm=Nu,OW=za,CW=Wr,kW=OW(CW,"Map"),t1=kW,sI=iW,RW=Xm,NW=t1;function DW(){this.size=0,this.__data__={hash:new sI,map:new(NW||RW),string:new sI}}var MW=DW;function $W(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var LW=$W,VW=LW;function jW(t,e){var n=t.__data__;return VW(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Jm=jW,FW=Jm;function UW(t){var e=FW(this,t).delete(t);return this.size-=e?1:0,e}var BW=UW,zW=Jm;function qW(t){return zW(this,t).get(t)}var WW=qW,GW=Jm;function KW(t){return GW(this,t).has(t)}var HW=KW,QW=Jm;function YW(t,e){var n=QW(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var XW=YW,JW=MW,ZW=BW,eG=WW,tG=HW,nG=XW;function Du(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Du.prototype.clear=JW;Du.prototype.delete=ZW;Du.prototype.get=eG;Du.prototype.has=tG;Du.prototype.set=nG;var n1=Du,S2=n1,rG="Expected a function";function r1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(rG);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(r1.Cache||S2),n}r1.Cache=S2;var I2=r1,iG=I2,oG=500;function aG(t){var e=iG(t,function(r){return n.size===oG&&n.clear(),r}),n=e.cache;return e}var sG=aG,uG=sG,lG=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cG=/\\(\\)?/g,hG=uG(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(lG,function(n,r,i,o){e.push(i?o.replace(cG,"$1"):r||n)}),e}),fG=hG;function dG(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var i1=dG,uI=$h,pG=i1,mG=Sn,gG=ku,yG=1/0,lI=uI?uI.prototype:void 0,cI=lI?lI.toString:void 0;function A2(t){if(typeof t=="string")return t;if(mG(t))return pG(t,A2)+"";if(gG(t))return cI?cI.call(t):"";var e=t+"";return e=="0"&&1/t==-yG?"-0":e}var vG=A2,_G=vG;function wG(t){return t==null?"":_G(t)}var P2=wG,bG=Sn,xG=Zb,TG=fG,EG=P2;function SG(t,e){return bG(t)?t:xG(t,e)?[t]:TG(EG(t))}var O2=SG,IG=ku,AG=1/0;function PG(t){if(typeof t=="string"||IG(t))return t;var e=t+"";return e=="0"&&1/t==-AG?"-0":e}var Zm=PG,OG=O2,CG=Zm;function kG(t,e){e=OG(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[CG(e[n++])];return n&&n==r?t:void 0}var o1=kG,RG=o1;function NG(t,e,n){var r=t==null?void 0:RG(t,e);return r===void 0?n:r}var $n=NG;function DG(t){return t==null}var ke=DG,MG=Ai,$G=Sn,LG=Pi,VG="[object String]";function jG(t){return typeof t=="string"||!$G(t)&&LG(t)&&MG(t)==VG}var Lh=jG,vp={exports:{}},$e={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dt=typeof Symbol=="function"&&Symbol.for,a1=Dt?Symbol.for("react.element"):60103,s1=Dt?Symbol.for("react.portal"):60106,eg=Dt?Symbol.for("react.fragment"):60107,tg=Dt?Symbol.for("react.strict_mode"):60108,ng=Dt?Symbol.for("react.profiler"):60114,rg=Dt?Symbol.for("react.provider"):60109,ig=Dt?Symbol.for("react.context"):60110,u1=Dt?Symbol.for("react.async_mode"):60111,og=Dt?Symbol.for("react.concurrent_mode"):60111,ag=Dt?Symbol.for("react.forward_ref"):60112,sg=Dt?Symbol.for("react.suspense"):60113,FG=Dt?Symbol.for("react.suspense_list"):60120,ug=Dt?Symbol.for("react.memo"):60115,lg=Dt?Symbol.for("react.lazy"):60116,UG=Dt?Symbol.for("react.block"):60121,BG=Dt?Symbol.for("react.fundamental"):60117,zG=Dt?Symbol.for("react.responder"):60118,qG=Dt?Symbol.for("react.scope"):60119;function Bn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case a1:switch(t=t.type,t){case u1:case og:case eg:case ng:case tg:case sg:return t;default:switch(t=t&&t.$$typeof,t){case ig:case ag:case lg:case ug:case rg:return t;default:return e}}case s1:return e}}}function C2(t){return Bn(t)===og}$e.AsyncMode=u1;$e.ConcurrentMode=og;$e.ContextConsumer=ig;$e.ContextProvider=rg;$e.Element=a1;$e.ForwardRef=ag;$e.Fragment=eg;$e.Lazy=lg;$e.Memo=ug;$e.Portal=s1;$e.Profiler=ng;$e.StrictMode=tg;$e.Suspense=sg;$e.isAsyncMode=function(t){return C2(t)||Bn(t)===u1};$e.isConcurrentMode=C2;$e.isContextConsumer=function(t){return Bn(t)===ig};$e.isContextProvider=function(t){return Bn(t)===rg};$e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===a1};$e.isForwardRef=function(t){return Bn(t)===ag};$e.isFragment=function(t){return Bn(t)===eg};$e.isLazy=function(t){return Bn(t)===lg};$e.isMemo=function(t){return Bn(t)===ug};$e.isPortal=function(t){return Bn(t)===s1};$e.isProfiler=function(t){return Bn(t)===ng};$e.isStrictMode=function(t){return Bn(t)===tg};$e.isSuspense=function(t){return Bn(t)===sg};$e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===eg||t===og||t===ng||t===tg||t===sg||t===FG||typeof t=="object"&&t!==null&&(t.$$typeof===lg||t.$$typeof===ug||t.$$typeof===rg||t.$$typeof===ig||t.$$typeof===ag||t.$$typeof===BG||t.$$typeof===zG||t.$$typeof===qG||t.$$typeof===UG)};$e.typeOf=Bn;(function(t){t.exports=$e})(vp);var WG=Ai,GG=Pi,KG="[object Number]";function HG(t){return typeof t=="number"||GG(t)&&WG(t)==KG}var k2=HG,QG=k2;function YG(t){return QG(t)&&t!=+t}var Vh=YG,pr=function(e){return e===0?0:e>0?1:-1},aa=function(e){return Lh(e)&&e.indexOf("%")===e.length-1},ee=function(e){return k2(e)&&!Vh(e)},Tt=function(e){return ee(e)||Lh(e)},XG=0,cg=function(e){var n=++XG;return"".concat(e||"").concat(n)},Ra=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ee(e)&&!Lh(e))return r;var o;if(aa(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Vh(o)&&(o=r),i&&o>n&&(o=n),o},Ki=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},JG=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},rs=function(e,n){return ee(e)&&ee(n)?function(r){return e+r*(n-e)}:function(){return n}};function z0(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):$n(r,e))===n})}function Ms(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function q0(t){return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q0(t)}var ZG=["viewBox","children"],eK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],hI=["points","pathLength"],Fy={svg:ZG,polygon:hI,polyline:hI},l1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],_p=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(M.exports.isValidElement(e)&&(r=e.props),!Un(r))return null;var i={};return Object.keys(r).forEach(function(o){l1.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},tK=function(e,n,r){return function(i){return e(n,r,i),null}},wp=function(e,n,r){if(!Un(e)||q0(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];l1.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=tK(a,n,r))}),i},nK=["children"],rK=["children"];function fI(t,e){if(t==null)return{};var n=iK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function iK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var dI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},li=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},pI=null,Uy=null,c1=function t(e){if(e===pI&&Array.isArray(Uy))return Uy;var n=[];return M.exports.Children.forEach(e,function(r){ke(r)||(vp.exports.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Uy=n,pI=e,n};function _r(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return li(i)}):r=[li(e)],c1(t).forEach(function(i){var o=$n(i,"type.displayName")||$n(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function On(t,e){var n=_r(t,e);return n&&n[0]}var mI=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ee(r)||r<=0||!ee(i)||i<=0)},oK=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],aK=function(e){return e&&e.type&&Lh(e.type)&&oK.indexOf(e.type)>=0},sK=function(e,n,r,i){var o,a=(o=Fy==null?void 0:Fy[i])!==null&&o!==void 0?o:[];return!_e(e)&&(i&&a.includes(n)||eK.includes(n))||r&&l1.includes(n)},Oe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(M.exports.isValidElement(e)&&(i=e.props),!Un(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;sK((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},W0=function t(e,n){if(e===n)return!0;var r=M.exports.Children.count(e);if(r!==M.exports.Children.count(n))return!1;if(r===0)return!0;if(r===1)return gI(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!gI(o,a))return!1}return!0},gI=function(e,n){if(ke(e)&&ke(n))return!0;if(!ke(e)&&!ke(n)){var r=e.props||{},i=r.children,o=fI(r,nK),a=n.props||{},s=a.children,u=fI(a,rK);return i&&s?Ms(o,u)&&W0(i,s):!i&&!s?Ms(o,u):!1}return!1},yI=function(e,n){var r=[],i={};return c1(e).forEach(function(o,a){if(aK(o))r.push(o);else if(o){var s=li(o.type),u=n[s]||{},l=u.handler,c=u.once;if(l&&(!c||!i[s])){var h=l(o,s,a);r.push(h),i[s]=!0}}}),r},uK=function(e){var n=e&&e.type;return n&&dI[n]?dI[n]:null},lK=function(e,n){return c1(n).indexOf(e)},cK=["children","width","height","viewBox","className","style","title","desc"];function hK(t,e){if(t==null)return{};var n=fK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function fK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function G0(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,u=t.desc,l=hK(t,cK),c=i||{width:n,height:r,x:0,y:0},h=Re("recharts-surface",o);return X("svg",{...Oe(l,!0,"svg"),className:h,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height),children:[D("title",{children:s}),D("desc",{children:u}),e]})}var dK=["children","className"];function pK(t,e){if(t==null)return{};var n=mK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function mK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var kt=Ne.forwardRef(function(t,e){var n=t.children,r=t.className,i=pK(t,dK),o=Re("recharts-layer",r);return D("g",{className:o,...Oe(i,!0),ref:e,children:n})}),ci=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function gK(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var yK=gK,vK=yK;function _K(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:vK(t,e,n)}var wK=_K,bK="\\ud800-\\udfff",xK="\\u0300-\\u036f",TK="\\ufe20-\\ufe2f",EK="\\u20d0-\\u20ff",SK=xK+TK+EK,IK="\\ufe0e\\ufe0f",AK="\\u200d",PK=RegExp("["+AK+bK+SK+IK+"]");function OK(t){return PK.test(t)}var R2=OK;function CK(t){return t.split("")}var kK=CK,N2="\\ud800-\\udfff",RK="\\u0300-\\u036f",NK="\\ufe20-\\ufe2f",DK="\\u20d0-\\u20ff",MK=RK+NK+DK,$K="\\ufe0e\\ufe0f",LK="["+N2+"]",K0="["+MK+"]",H0="\\ud83c[\\udffb-\\udfff]",VK="(?:"+K0+"|"+H0+")",D2="[^"+N2+"]",M2="(?:\\ud83c[\\udde6-\\uddff]){2}",$2="[\\ud800-\\udbff][\\udc00-\\udfff]",jK="\\u200d",L2=VK+"?",V2="["+$K+"]?",FK="(?:"+jK+"(?:"+[D2,M2,$2].join("|")+")"+V2+L2+")*",UK=V2+L2+FK,BK="(?:"+[D2+K0+"?",K0,M2,$2,LK].join("|")+")",zK=RegExp(H0+"(?="+H0+")|"+BK+UK,"g");function qK(t){return t.match(zK)||[]}var WK=qK,GK=kK,KK=R2,HK=WK;function QK(t){return KK(t)?HK(t):GK(t)}var YK=QK,XK=wK,JK=R2,ZK=YK,eH=P2;function tH(t){return function(e){e=eH(e);var n=JK(e)?ZK(e):void 0,r=n?n[0]:e.charAt(0),i=n?XK(n,1).join(""):e.slice(1);return r[t]()+i}}var nH=tH,rH=nH,iH=rH("toUpperCase"),hg=iH;function Be(t){return function(){return t}}const j2=Math.cos,bp=Math.sin,xr=Math.sqrt,xp=Math.PI,fg=2*xp,Q0=Math.PI,Y0=2*Q0,Ho=1e-6,oH=Y0-Ho;function F2(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function aH(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return F2;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class sH{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?F2:aH(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,u=r-e,l=i-n,c=a-e,h=s-n,d=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Ho)if(!(Math.abs(h*u-l*c)>Ho)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,_=i-s,g=u*u+l*l,v=p*p+_*_,b=Math.sqrt(g),y=Math.sqrt(d),w=o*Math.tan((Q0-Math.acos((g+d-v)/(2*b*y)))/2),x=w/y,T=w/b;Math.abs(x-1)>Ho&&this._append`L${e+x*c},${n+x*h}`,this._append`A${o},${o},0,0,${+(h*p>c*_)},${this._x1=e+T*u},${this._y1=n+T*l}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),u=r*Math.sin(i),l=e+s,c=n+u,h=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Ho||Math.abs(this._y1-c)>Ho)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%Y0+Y0),d>oH?this._append`A${r},${r},0,1,${h},${e-s},${n-u}A${r},${r},0,1,${h},${this._x1=l},${this._y1=c}`:d>Ho&&this._append`A${r},${r},0,${+(d>=Q0)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function h1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new sH(e)}function f1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function U2(t){this._context=t}U2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function dg(t){return new U2(t)}function B2(t){return t[0]}function z2(t){return t[1]}function q2(t,e){var n=Be(!0),r=null,i=dg,o=null,a=h1(s);t=typeof t=="function"?t:t===void 0?B2:Be(t),e=typeof e=="function"?e:e===void 0?z2:Be(e);function s(u){var l,c=(u=f1(u)).length,h,d=!1,p;for(r==null&&(o=i(p=a())),l=0;l<=c;++l)!(l<c&&n(h=u[l],l,u))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(h,l,u),+e(h,l,u));if(p)return o=null,p+""||null}return s.x=function(u){return arguments.length?(t=typeof u=="function"?u:Be(+u),s):t},s.y=function(u){return arguments.length?(e=typeof u=="function"?u:Be(+u),s):e},s.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Be(!!u),s):n},s.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),s):i},s.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),s):r},s}function Mf(t,e,n){var r=null,i=Be(!0),o=null,a=dg,s=null,u=h1(l);t=typeof t=="function"?t:t===void 0?B2:Be(+t),e=typeof e=="function"?e:Be(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?z2:Be(+n);function l(h){var d,p,_,g=(h=f1(h)).length,v,b=!1,y,w=new Array(g),x=new Array(g);for(o==null&&(s=a(y=u())),d=0;d<=g;++d){if(!(d<g&&i(v=h[d],d,h))===b)if(b=!b)p=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),_=d-1;_>=p;--_)s.point(w[_],x[_]);s.lineEnd(),s.areaEnd()}b&&(w[d]=+t(v,d,h),x[d]=+e(v,d,h),s.point(r?+r(v,d,h):w[d],n?+n(v,d,h):x[d]))}if(y)return s=null,y+""||null}function c(){return q2().defined(i).curve(a).context(o)}return l.x=function(h){return arguments.length?(t=typeof h=="function"?h:Be(+h),r=null,l):t},l.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Be(+h),l):t},l.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Be(+h),l):r},l.y=function(h){return arguments.length?(e=typeof h=="function"?h:Be(+h),n=null,l):e},l.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Be(+h),l):e},l.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Be(+h),l):n},l.lineX0=l.lineY0=function(){return c().x(t).y(e)},l.lineY1=function(){return c().x(t).y(n)},l.lineX1=function(){return c().x(r).y(e)},l.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Be(!!h),l):i},l.curve=function(h){return arguments.length?(a=h,o!=null&&(s=a(o)),l):a},l.context=function(h){return arguments.length?(h==null?o=s=null:s=a(o=h),l):o},l}class W2{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function uH(t){return new W2(t,!0)}function lH(t){return new W2(t,!1)}const d1={draw(t,e){const n=xr(e/xp);t.moveTo(n,0),t.arc(0,0,n,0,fg)}},cH={draw(t,e){const n=xr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},G2=xr(1/3),hH=G2*2,fH={draw(t,e){const n=xr(e/hH),r=n*G2;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},dH={draw(t,e){const n=xr(e),r=-n/2;t.rect(r,r,n,n)}},pH=.8908130915292852,K2=bp(xp/10)/bp(7*xp/10),mH=bp(fg/10)*K2,gH=-j2(fg/10)*K2,yH={draw(t,e){const n=xr(e*pH),r=mH*n,i=gH*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=fg*o/5,s=j2(a),u=bp(a);t.lineTo(u*n,-s*n),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},By=xr(3),vH={draw(t,e){const n=-xr(e/(By*3));t.moveTo(0,n*2),t.lineTo(-By*n,-n),t.lineTo(By*n,-n),t.closePath()}},zn=-.5,qn=xr(3)/2,X0=1/xr(12),_H=(X0/2+1)*3,wH={draw(t,e){const n=xr(e/_H),r=n/2,i=n*X0,o=r,a=n*X0+n,s=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(zn*r-qn*i,qn*r+zn*i),t.lineTo(zn*o-qn*a,qn*o+zn*a),t.lineTo(zn*s-qn*u,qn*s+zn*u),t.lineTo(zn*r+qn*i,zn*i-qn*r),t.lineTo(zn*o+qn*a,zn*a-qn*o),t.lineTo(zn*s+qn*u,zn*u-qn*s),t.closePath()}};function bH(t,e){let n=null,r=h1(i);t=typeof t=="function"?t:Be(t||d1),e=typeof e=="function"?e:Be(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Be(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Be(+o),i):e},i.context=function(o){return arguments.length?(n=o==null?null:o,i):n},i}function Tp(){}function Ep(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function H2(t){this._context=t}H2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ep(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ep(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xH(t){return new H2(t)}function Q2(t){this._context=t}Q2.prototype={areaStart:Tp,areaEnd:Tp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ep(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function TH(t){return new Q2(t)}function Y2(t){this._context=t}Y2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ep(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function EH(t){return new Y2(t)}function X2(t){this._context=t}X2.prototype={areaStart:Tp,areaEnd:Tp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function SH(t){return new X2(t)}function vI(t){return t<0?-1:1}function _I(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(vI(o)+vI(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function wI(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function zy(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Sp(t){this._context=t}Sp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zy(this,this._t0,wI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,zy(this,wI(this,n=_I(this,t,e)),n);break;default:zy(this,this._t0,n=_I(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function J2(t){this._context=new Z2(t)}(J2.prototype=Object.create(Sp.prototype)).point=function(t,e){Sp.prototype.point.call(this,e,t)};function Z2(t){this._context=t}Z2.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function IH(t){return new Sp(t)}function AH(t){return new J2(t)}function eM(t){this._context=t}eM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=bI(t),i=bI(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function bI(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function PH(t){return new eM(t)}function pg(t,e){this._context=t,this._t=e}pg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function OH(t){return new pg(t,.5)}function CH(t){return new pg(t,0)}function kH(t){return new pg(t,1)}function iu(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function J0(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function RH(t,e){return t[e]}function NH(t){const e=[];return e.key=t,e}function DH(){var t=Be([]),e=J0,n=iu,r=RH;function i(o){var a=Array.from(t.apply(this,arguments),NH),s,u=a.length,l=-1,c;for(const h of o)for(s=0,++l;s<u;++s)(a[s][l]=[0,+r(h,a[s].key,l,o)]).data=h;for(s=0,c=f1(e(a));s<u;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Be(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Be(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?J0:typeof o=="function"?o:Be(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o==null?iu:o,i):n},i}function MH(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}iu(t,e)}}function $H(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}iu(t,e)}}function LH(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,u=0,l=0;s<a;++s){for(var c=t[e[s]],h=c[r][1]||0,d=c[r-1][1]||0,p=(h-d)/2,_=0;_<s;++_){var g=t[e[_]],v=g[r][1]||0,b=g[r-1][1]||0;p+=v-b}u+=h,l+=p*h}i[r-1][1]+=i[r-1][0]=n,u&&(n-=l/u)}i[r-1][1]+=i[r-1][0]=n,iu(t,e)}}function Mc(t){return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}var VH=["type","size","sizeType"];function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){jH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jH(t,e,n){return e=FH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FH(t){var e=UH(t,"string");return Mc(e)=="symbol"?e:String(e)}function UH(t,e){if(Mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BH(t,e){if(t==null)return{};var n=zH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function zH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var tM={symbolCircle:d1,symbolCross:cH,symbolDiamond:fH,symbolSquare:dH,symbolStar:yH,symbolTriangle:vH,symbolWye:wH},qH=Math.PI/180,WH=function(e){var n="symbol".concat(hg(e));return tM[n]||d1},GH=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*qH;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},KH=function(e,n){tM["symbol".concat(hg(e))]=n},p1=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,u=BH(e,VH),l=TI(TI({},u),{},{type:r,size:o,sizeType:s}),c=function(){var v=WH(r),b=bH().type(v).size(GH(o,s,r));return b()},h=l.className,d=l.cx,p=l.cy,_=Oe(l,!0);return d===+d&&p===+p&&o===+o?D("path",{..._,className:Re("recharts-symbols",h),transform:"translate(".concat(d,", ").concat(p,")"),d:c()}):null};p1.registerSymbol=KH;function ou(t){return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){$c(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rM(r.key),r)}}function YH(t,e,n){return e&&SI(t.prototype,e),n&&SI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function XH(t,e,n){return e=Ip(e),JH(t,nM()?Reflect.construct(e,n||[],Ip(t).constructor):e.apply(t,n))}function JH(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZH(t)}function ZH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nM=function(){return!!t})()}function Ip(t){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ip(t)}function e7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z0(t,e)}function Z0(t,e){return Z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z0(t,e)}function $c(t,e,n){return e=rM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rM(t){var e=t7(t,"string");return ou(e)=="symbol"?e:String(e)}function t7(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wn=32,m1=function(t){e7(e,t);function e(){return QH(this,e),XH(this,e,arguments)}return YH(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Wn/2,a=Wn/6,s=Wn/3,u=r.inactive?i:r.color;if(r.type==="plainline")return D("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Wn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return D("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Wn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return D("path",{stroke:"none",fill:u,d:"M0,".concat(Wn/8,"h").concat(Wn,"v").concat(Wn*3/4,"h").concat(-Wn,"z"),className:"recharts-legend-icon"});if(Ne.isValidElement(r.legendIcon)){var l=HH({},r);return delete l.legendIcon,Ne.cloneElement(r.legendIcon,l)}return D(p1,{fill:u,cx:o,cy:o,size:Wn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,u=i.formatter,l=i.inactiveColor,c={x:0,y:0,width:Wn,height:Wn},h={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,_){var g=p.formatter||u,v=Re($c($c({"recharts-legend-item":!0},"legend-item-".concat(_),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=_e(p.value)?null:p.value;ci(!_e(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?l:p.color;return X("li",{className:v,style:h,...wp(r.props,p,_),children:[D(G0,{width:a,height:a,viewBox:c,style:d,children:r.renderIcon(p)}),D("span",{className:"recharts-legend-item-text",style:{color:y},children:g?g(b,p,_):b})]},"legend-item-".concat(_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return D("ul",{className:"recharts-default-legend",style:s,children:this.renderItems()})}}]),e}(M.exports.PureComponent);$c(m1,"displayName","Legend");$c(m1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var n7=Xm;function r7(){this.__data__=new n7,this.size=0}var i7=r7;function o7(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var a7=o7;function s7(t){return this.__data__.get(t)}var u7=s7;function l7(t){return this.__data__.has(t)}var c7=l7,h7=Xm,f7=t1,d7=n1,p7=200;function m7(t,e){var n=this.__data__;if(n instanceof h7){var r=n.__data__;if(!f7||r.length<p7-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new d7(r)}return n.set(t,e),this.size=n.size,this}var g7=m7,y7=Xm,v7=i7,_7=a7,w7=u7,b7=c7,x7=g7;function Mu(t){var e=this.__data__=new y7(t);this.size=e.size}Mu.prototype.clear=v7;Mu.prototype.delete=_7;Mu.prototype.get=w7;Mu.prototype.has=b7;Mu.prototype.set=x7;var iM=Mu,T7="__lodash_hash_undefined__";function E7(t){return this.__data__.set(t,T7),this}var S7=E7;function I7(t){return this.__data__.has(t)}var A7=I7,P7=n1,O7=S7,C7=A7;function Ap(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new P7;++e<n;)this.add(t[e])}Ap.prototype.add=Ap.prototype.push=O7;Ap.prototype.has=C7;var oM=Ap;function k7(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var aM=k7;function R7(t,e){return t.has(e)}var sM=R7,N7=oM,D7=aM,M7=sM,$7=1,L7=2;function V7(t,e,n,r,i,o){var a=n&$7,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t),c=o.get(e);if(l&&c)return l==e&&c==t;var h=-1,d=!0,p=n&L7?new N7:void 0;for(o.set(t,e),o.set(e,t);++h<s;){var _=t[h],g=e[h];if(r)var v=a?r(g,_,h,e,t,o):r(_,g,h,t,e,o);if(v!==void 0){if(v)continue;d=!1;break}if(p){if(!D7(e,function(b,y){if(!M7(p,y)&&(_===b||i(_,b,n,r,o)))return p.push(y)})){d=!1;break}}else if(!(_===g||i(_,g,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var uM=V7,j7=Wr,F7=j7.Uint8Array,U7=F7;function B7(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var z7=B7;function q7(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var g1=q7,II=$h,AI=U7,W7=e1,G7=uM,K7=z7,H7=g1,Q7=1,Y7=2,X7="[object Boolean]",J7="[object Date]",Z7="[object Error]",eQ="[object Map]",tQ="[object Number]",nQ="[object RegExp]",rQ="[object Set]",iQ="[object String]",oQ="[object Symbol]",aQ="[object ArrayBuffer]",sQ="[object DataView]",PI=II?II.prototype:void 0,qy=PI?PI.valueOf:void 0;function uQ(t,e,n,r,i,o,a){switch(n){case sQ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case aQ:return!(t.byteLength!=e.byteLength||!o(new AI(t),new AI(e)));case X7:case J7:case tQ:return W7(+t,+e);case Z7:return t.name==e.name&&t.message==e.message;case nQ:case iQ:return t==e+"";case eQ:var s=K7;case rQ:var u=r&Q7;if(s||(s=H7),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=Y7,a.set(t,e);var c=G7(s(t),s(e),r,i,o,a);return a.delete(t),c;case oQ:if(qy)return qy.call(t)==qy.call(e)}return!1}var lQ=uQ;function cQ(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var lM=cQ,hQ=lM,fQ=Sn;function dQ(t,e,n){var r=e(t);return fQ(t)?r:hQ(r,n(t))}var pQ=dQ;function mQ(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var gQ=mQ;function yQ(){return[]}var vQ=yQ,_Q=gQ,wQ=vQ,bQ=Object.prototype,xQ=bQ.propertyIsEnumerable,OI=Object.getOwnPropertySymbols,TQ=OI?function(t){return t==null?[]:(t=Object(t),_Q(OI(t),function(e){return xQ.call(t,e)}))}:wQ,EQ=TQ;function SQ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var IQ=SQ,AQ=Ai,PQ=Pi,OQ="[object Arguments]";function CQ(t){return PQ(t)&&AQ(t)==OQ}var kQ=CQ,CI=kQ,RQ=Pi,cM=Object.prototype,NQ=cM.hasOwnProperty,DQ=cM.propertyIsEnumerable,MQ=CI(function(){return arguments}())?CI:function(t){return RQ(t)&&NQ.call(t,"callee")&&!DQ.call(t,"callee")},y1=MQ,Pp={exports:{}};function $Q(){return!1}var LQ=$Q;(function(t,e){var n=Wr,r=LQ,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,u=s?s.isBuffer:void 0,l=u||r;t.exports=l})(Pp,Pp.exports);var VQ=9007199254740991,jQ=/^(?:0|[1-9]\d*)$/;function FQ(t,e){var n=typeof t;return e=e==null?VQ:e,!!e&&(n=="number"||n!="symbol"&&jQ.test(t))&&t>-1&&t%1==0&&t<e}var v1=FQ,UQ=9007199254740991;function BQ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=UQ}var _1=BQ,zQ=Ai,qQ=_1,WQ=Pi,GQ="[object Arguments]",KQ="[object Array]",HQ="[object Boolean]",QQ="[object Date]",YQ="[object Error]",XQ="[object Function]",JQ="[object Map]",ZQ="[object Number]",eY="[object Object]",tY="[object RegExp]",nY="[object Set]",rY="[object String]",iY="[object WeakMap]",oY="[object ArrayBuffer]",aY="[object DataView]",sY="[object Float32Array]",uY="[object Float64Array]",lY="[object Int8Array]",cY="[object Int16Array]",hY="[object Int32Array]",fY="[object Uint8Array]",dY="[object Uint8ClampedArray]",pY="[object Uint16Array]",mY="[object Uint32Array]",Qe={};Qe[sY]=Qe[uY]=Qe[lY]=Qe[cY]=Qe[hY]=Qe[fY]=Qe[dY]=Qe[pY]=Qe[mY]=!0;Qe[GQ]=Qe[KQ]=Qe[oY]=Qe[HQ]=Qe[aY]=Qe[QQ]=Qe[YQ]=Qe[XQ]=Qe[JQ]=Qe[ZQ]=Qe[eY]=Qe[tY]=Qe[nY]=Qe[rY]=Qe[iY]=!1;function gY(t){return WQ(t)&&qQ(t.length)&&!!Qe[zQ(t)]}var yY=gY;function vY(t){return function(e){return t(e)}}var hM=vY,e_={exports:{}};(function(t,e){var n=x2,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var u=i&&i.require&&i.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(e_,e_.exports);var _Y=yY,wY=hM,kI=e_.exports,RI=kI&&kI.isTypedArray,bY=RI?wY(RI):_Y,fM=bY,xY=IQ,TY=y1,EY=Sn,SY=Pp.exports,IY=v1,AY=fM,PY=Object.prototype,OY=PY.hasOwnProperty;function CY(t,e){var n=EY(t),r=!n&&TY(t),i=!n&&!r&&SY(t),o=!n&&!r&&!i&&AY(t),a=n||r||i||o,s=a?xY(t.length,String):[],u=s.length;for(var l in t)(e||OY.call(t,l))&&!(a&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||IY(l,u)))&&s.push(l);return s}var kY=CY,RY=Object.prototype;function NY(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||RY;return t===n}var DY=NY;function MY(t,e){return function(n){return t(e(n))}}var dM=MY,$Y=dM,LY=$Y(Object.keys,Object),VY=LY,jY=DY,FY=VY,UY=Object.prototype,BY=UY.hasOwnProperty;function zY(t){if(!jY(t))return FY(t);var e=[];for(var n in Object(t))BY.call(t,n)&&n!="constructor"&&e.push(n);return e}var qY=zY,WY=_e,GY=_1;function KY(t){return t!=null&&GY(t.length)&&!WY(t)}var jh=KY,HY=kY,QY=qY,YY=jh;function XY(t){return YY(t)?HY(t):QY(t)}var mg=XY,JY=pQ,ZY=EQ,eX=mg;function tX(t){return JY(t,eX,ZY)}var nX=tX,NI=nX,rX=1,iX=Object.prototype,oX=iX.hasOwnProperty;function aX(t,e,n,r,i,o){var a=n&rX,s=NI(t),u=s.length,l=NI(e),c=l.length;if(u!=c&&!a)return!1;for(var h=u;h--;){var d=s[h];if(!(a?d in e:oX.call(e,d)))return!1}var p=o.get(t),_=o.get(e);if(p&&_)return p==e&&_==t;var g=!0;o.set(t,e),o.set(e,t);for(var v=a;++h<u;){d=s[h];var b=t[d],y=e[d];if(r)var w=a?r(y,b,d,e,t,o):r(b,y,d,t,e,o);if(!(w===void 0?b===y||i(b,y,n,r,o):w)){g=!1;break}v||(v=d=="constructor")}if(g&&!v){var x=t.constructor,T=e.constructor;x!=T&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof T=="function"&&T instanceof T)&&(g=!1)}return o.delete(t),o.delete(e),g}var sX=aX,uX=za,lX=Wr,cX=uX(lX,"DataView"),hX=cX,fX=za,dX=Wr,pX=fX(dX,"Promise"),mX=pX,gX=za,yX=Wr,vX=gX(yX,"Set"),pM=vX,_X=za,wX=Wr,bX=_X(wX,"WeakMap"),xX=bX,t_=hX,n_=t1,r_=mX,i_=pM,o_=xX,mM=Ai,$u=E2,DI="[object Map]",TX="[object Object]",MI="[object Promise]",$I="[object Set]",LI="[object WeakMap]",VI="[object DataView]",EX=$u(t_),SX=$u(n_),IX=$u(r_),AX=$u(i_),PX=$u(o_),Qo=mM;(t_&&Qo(new t_(new ArrayBuffer(1)))!=VI||n_&&Qo(new n_)!=DI||r_&&Qo(r_.resolve())!=MI||i_&&Qo(new i_)!=$I||o_&&Qo(new o_)!=LI)&&(Qo=function(t){var e=mM(t),n=e==TX?t.constructor:void 0,r=n?$u(n):"";if(r)switch(r){case EX:return VI;case SX:return DI;case IX:return MI;case AX:return $I;case PX:return LI}return e});var OX=Qo,Wy=iM,CX=uM,kX=lQ,RX=sX,jI=OX,FI=Sn,UI=Pp.exports,NX=fM,DX=1,BI="[object Arguments]",zI="[object Array]",$f="[object Object]",MX=Object.prototype,qI=MX.hasOwnProperty;function $X(t,e,n,r,i,o){var a=FI(t),s=FI(e),u=a?zI:jI(t),l=s?zI:jI(e);u=u==BI?$f:u,l=l==BI?$f:l;var c=u==$f,h=l==$f,d=u==l;if(d&&UI(t)){if(!UI(e))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new Wy),a||NX(t)?CX(t,e,n,r,i,o):kX(t,e,u,n,r,i,o);if(!(n&DX)){var p=c&&qI.call(t,"__wrapped__"),_=h&&qI.call(e,"__wrapped__");if(p||_){var g=p?t.value():t,v=_?e.value():e;return o||(o=new Wy),i(g,v,n,r,o)}}return d?(o||(o=new Wy),RX(t,e,n,r,i,o)):!1}var LX=$X,VX=LX,WI=Pi;function gM(t,e,n,r,i){return t===e?!0:t==null||e==null||!WI(t)&&!WI(e)?t!==t&&e!==e:VX(t,e,n,r,gM,i)}var w1=gM,jX=iM,FX=w1,UX=1,BX=2;function zX(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var u=s[0],l=t[u],c=s[1];if(a&&s[2]){if(l===void 0&&!(u in t))return!1}else{var h=new jX;if(r)var d=r(l,c,u,t,e,h);if(!(d===void 0?FX(c,l,UX|BX,r,h):d))return!1}}return!0}var qX=zX,WX=Un;function GX(t){return t===t&&!WX(t)}var yM=GX,KX=yM,HX=mg;function QX(t){for(var e=HX(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,KX(i)]}return e}var YX=QX;function XX(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var vM=XX,JX=qX,ZX=YX,eJ=vM;function tJ(t){var e=ZX(t);return e.length==1&&e[0][2]?eJ(e[0][0],e[0][1]):function(n){return n===t||JX(n,t,e)}}var nJ=tJ;function rJ(t,e){return t!=null&&e in Object(t)}var iJ=rJ,oJ=O2,aJ=y1,sJ=Sn,uJ=v1,lJ=_1,cJ=Zm;function hJ(t,e,n){e=oJ(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=cJ(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&lJ(i)&&uJ(a,i)&&(sJ(t)||aJ(t)))}var fJ=hJ,dJ=iJ,pJ=fJ;function mJ(t,e){return t!=null&&pJ(t,e,dJ)}var gJ=mJ,yJ=w1,vJ=$n,_J=gJ,wJ=Zb,bJ=yM,xJ=vM,TJ=Zm,EJ=1,SJ=2;function IJ(t,e){return wJ(t)&&bJ(e)?xJ(TJ(t),e):function(n){var r=vJ(n,t);return r===void 0&&r===e?_J(n,t):yJ(e,r,EJ|SJ)}}var AJ=IJ;function PJ(t){return t}var Lu=PJ;function OJ(t){return function(e){return e==null?void 0:e[t]}}var CJ=OJ,kJ=o1;function RJ(t){return function(e){return kJ(e,t)}}var NJ=RJ,DJ=CJ,MJ=NJ,$J=Zb,LJ=Zm;function VJ(t){return $J(t)?DJ(LJ(t)):MJ(t)}var jJ=VJ,FJ=nJ,UJ=AJ,BJ=Lu,zJ=Sn,qJ=jJ;function WJ(t){return typeof t=="function"?t:t==null?BJ:typeof t=="object"?zJ(t)?UJ(t[0],t[1]):FJ(t):qJ(t)}var Ro=WJ;function GJ(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var _M=GJ;function KJ(t){return t!==t}var HJ=KJ;function QJ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var YJ=QJ,XJ=_M,JJ=HJ,ZJ=YJ;function eZ(t,e,n){return e===e?ZJ(t,e,n):XJ(t,JJ,n)}var tZ=eZ,nZ=tZ;function rZ(t,e){var n=t==null?0:t.length;return!!n&&nZ(t,e,0)>-1}var iZ=rZ;function oZ(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var aZ=oZ;function sZ(){}var uZ=sZ,Gy=pM,lZ=uZ,cZ=g1,hZ=1/0,fZ=Gy&&1/cZ(new Gy([,-0]))[1]==hZ?function(t){return new Gy(t)}:lZ,dZ=fZ,pZ=oM,mZ=iZ,gZ=aZ,yZ=sM,vZ=dZ,_Z=g1,wZ=200;function bZ(t,e,n){var r=-1,i=mZ,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=gZ;else if(o>=wZ){var l=e?null:vZ(t);if(l)return _Z(l);a=!1,i=yZ,u=new pZ}else u=e?[]:s;e:for(;++r<o;){var c=t[r],h=e?e(c):c;if(c=n||c!==0?c:0,a&&h===h){for(var d=u.length;d--;)if(u[d]===h)continue e;e&&u.push(h),s.push(c)}else i(u,h,n)||(u!==s&&u.push(h),s.push(c))}return s}var xZ=bZ,TZ=Ro,EZ=xZ;function SZ(t,e){return t&&t.length?EZ(t,TZ(e)):[]}var IZ=SZ;const GI=IZ;function wM(t,e,n){return e===!0?GI(t,n):_e(e)?GI(t,e):t}function au(t){return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}var AZ=["ref"];function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){gg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TM(r.key),r)}}function OZ(t,e,n){return e&&HI(t.prototype,e),n&&HI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CZ(t,e,n){return e=Op(e),kZ(t,bM()?Reflect.construct(e,n||[],Op(t).constructor):e.apply(t,n))}function kZ(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xM(t)}function bM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bM=function(){return!!t})()}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Op(t)}function xM(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a_(t,e)}function a_(t,e){return a_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},a_(t,e)}function gg(t,e,n){return e=TM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TM(t){var e=NZ(t,"string");return au(e)=="symbol"?e:String(e)}function NZ(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DZ(t,e){if(t==null)return{};var n=MZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function MZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $Z(t){return t.value}function LZ(t,e){if(Ne.isValidElement(t))return Ne.cloneElement(t,e);if(typeof t=="function")return Ne.createElement(t,e);e.ref;var n=DZ(e,AZ);return D(m1,{...n})}var QI=1,su=function(t){RZ(e,t);function e(){var n;PZ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=CZ(this,e,[].concat(i)),gg(xM(n),"lastBoundingBox",{width:-1,height:-1}),n}return OZ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>QI||Math.abs(i.height-this.lastBoundingBox.height)>QI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?zo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,u=i.margin,l=i.chartWidth,c=i.chartHeight,h,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();h={left:((l||0)-p.width)/2}}else h=a==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var _=this.getBBoxSnapshot();d={top:((c||0)-_.height)/2}}else d=s==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return zo(zo({},h),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,u=i.wrapperStyle,l=i.payloadUniqBy,c=i.payload,h=zo(zo({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(u)),u);return D("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){r.wrapperNode=p},children:LZ(o,zo(zo({},this.props),{},{payload:wM(c,l,$Z)}))})}}],[{key:"getWithHeight",value:function(r,i){var o=r.props.layout;return o==="vertical"&&ee(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}]),e}(M.exports.PureComponent);gg(su,"displayName","Legend");gg(su,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var YI=$h,VZ=y1,jZ=Sn,XI=YI?YI.isConcatSpreadable:void 0;function FZ(t){return jZ(t)||VZ(t)||!!(XI&&t&&t[XI])}var UZ=FZ,BZ=lM,zZ=UZ;function EM(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=zZ),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?EM(s,e-1,n,r,i):BZ(i,s):r||(i[i.length]=s)}return i}var SM=EM;function qZ(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(n(o[u],u,o)===!1)break}return e}}var WZ=qZ,GZ=WZ,KZ=GZ(),HZ=KZ,QZ=HZ,YZ=mg;function XZ(t,e){return t&&QZ(t,e,YZ)}var IM=XZ,JZ=jh;function ZZ(t,e){return function(n,r){if(n==null)return n;if(!JZ(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var eee=ZZ,tee=IM,nee=eee,ree=nee(tee),b1=ree,iee=b1,oee=jh;function aee(t,e){var n=-1,r=oee(t)?Array(t.length):[];return iee(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var AM=aee;function see(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var uee=see,JI=ku;function lee(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=JI(t),a=e!==void 0,s=e===null,u=e===e,l=JI(e);if(!s&&!l&&!o&&t>e||o&&a&&u&&!s&&!l||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&t<e||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}var cee=lee,hee=cee;function fee(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=hee(i[r],o[r]);if(u){if(r>=s)return u;var l=n[r];return u*(l=="desc"?-1:1)}}return t.index-e.index}var dee=fee,Ky=i1,pee=o1,mee=Ro,gee=AM,yee=uee,vee=hM,_ee=dee,wee=Lu,bee=Sn;function xee(t,e,n){e.length?e=Ky(e,function(o){return bee(o)?function(a){return pee(a,o.length===1?o[0]:o)}:o}):e=[wee];var r=-1;e=Ky(e,vee(mee));var i=gee(t,function(o,a,s){var u=Ky(e,function(l){return l(o)});return{criteria:u,index:++r,value:o}});return yee(i,function(o,a){return _ee(o,a,n)})}var Tee=xee;function Eee(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var See=Eee,Iee=See,ZI=Math.max;function Aee(t,e,n){return e=ZI(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=ZI(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),Iee(t,this,s)}}var Pee=Aee;function Oee(t){return function(){return t}}var Cee=Oee,kee=za,Ree=function(){try{var t=kee(Object,"defineProperty");return t({},"",{}),t}catch{}}(),PM=Ree,Nee=Cee,eA=PM,Dee=Lu,Mee=eA?function(t,e){return eA(t,"toString",{configurable:!0,enumerable:!1,value:Nee(e),writable:!0})}:Dee,$ee=Mee,Lee=800,Vee=16,jee=Date.now;function Fee(t){var e=0,n=0;return function(){var r=jee(),i=Vee-(r-n);if(n=r,i>0){if(++e>=Lee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Uee=Fee,Bee=$ee,zee=Uee,qee=zee(Bee),Wee=qee,Gee=Lu,Kee=Pee,Hee=Wee;function Qee(t,e){return Hee(Kee(t,e,Gee),t+"")}var Yee=Qee,Xee=e1,Jee=jh,Zee=v1,ete=Un;function tte(t,e,n){if(!ete(n))return!1;var r=typeof e;return(r=="number"?Jee(n)&&Zee(e,n.length):r=="string"&&e in n)?Xee(n[e],t):!1}var yg=tte,nte=SM,rte=Tee,ite=Yee,tA=yg,ote=ite(function(t,e){if(t==null)return[];var n=e.length;return n>1&&tA(t,e[0],e[1])?e=[]:n>2&&tA(e[0],e[1],e[2])&&(e=[e[0]]),rte(t,nte(e,1),[])}),x1=ote;function Lc(t){return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function ate(t,e){return cte(t)||lte(t,e)||ute(t,e)||ste()}function ste(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ute(t,e){if(!!t){if(typeof t=="string")return nA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nA(t,e)}}function nA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function cte(t){if(Array.isArray(t))return t}function rA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rA(Object(n),!0).forEach(function(r){hte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hte(t,e,n){return e=fte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fte(t){var e=dte(t,"string");return Lc(e)=="symbol"?e:String(e)}function dte(t,e){if(Lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pte(t){return Array.isArray(t)&&Tt(t[0])&&Tt(t[1])?t.join(" ~ "):t}var mte=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,u=e.labelStyle,l=u===void 0?{}:u,c=e.payload,h=e.formatter,d=e.itemSorter,p=e.wrapperClassName,_=e.labelClassName,g=e.label,v=e.labelFormatter,b=e.accessibilityLayer,y=b===void 0?!1:b,w=function(){if(c&&c.length){var N={padding:0,margin:0},C=(d?x1(c,d):c).map(function(F,K){if(F.type==="none")return null;var z=Hy({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},s),Q=F.formatter||h||pte,V=F.value,G=F.name,Y=V,ae=G;if(Q&&Y!=null&&ae!=null){var te=Q(V,G,F,K,c);if(Array.isArray(te)){var le=ate(te,2);Y=le[0],ae=le[1]}else Y=te}return X("li",{className:"recharts-tooltip-item",style:z,children:[Tt(ae)?D("span",{className:"recharts-tooltip-item-name",children:ae}):null,Tt(ae)?D("span",{className:"recharts-tooltip-item-separator",children:r}):null,D("span",{className:"recharts-tooltip-item-value",children:Y}),D("span",{className:"recharts-tooltip-item-unit",children:F.unit||""})]},"tooltip-item-".concat(K))});return D("ul",{className:"recharts-tooltip-item-list",style:N,children:C})}return null},x=Hy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),T=Hy({margin:0},l),A=!ke(g),I=A?g:"",E=Re("recharts-default-tooltip",p),P=Re("recharts-tooltip-label",_);A&&v&&c!==void 0&&c!==null&&(I=v(g,c));var O=y?{role:"status","aria-live":"assertive"}:{};return X("div",{className:E,style:x,...O,children:[D("p",{className:P,style:T,children:Ne.isValidElement(I)?I:"".concat(I)}),w()]})};function Vc(t){return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function Lf(t,e,n){return e=gte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gte(t){var e=yte(t,"string");return Vc(e)=="symbol"?e:String(e)}function yte(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yl="recharts-tooltip-wrapper",vte={visibility:"hidden"};function _te(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Re(yl,Lf(Lf(Lf(Lf({},"".concat(yl,"-right"),ee(n)&&e&&ee(e.x)&&n>=e.x),"".concat(yl,"-left"),ee(n)&&e&&ee(e.x)&&n<e.x),"".concat(yl,"-bottom"),ee(r)&&e&&ee(e.y)&&r>=e.y),"".concat(yl,"-top"),ee(r)&&e&&ee(e.y)&&r<e.y))}function iA(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,u=t.viewBox,l=t.viewBoxDimension;if(o&&ee(o[r]))return o[r];var c=n[r]-s-i,h=n[r]+i;if(e[r])return a[r]?c:h;if(a[r]){var d=c,p=u[r];return d<p?Math.max(h,u[r]):Math.max(c,u[r])}var _=h+s,g=u[r]+l;return _>g?Math.max(c,u[r]):Math.max(h,u[r])}function wte(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function bte(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,u=t.viewBox,l,c,h;return a.height>0&&a.width>0&&n?(c=iA({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:u,viewBoxDimension:u.width}),h=iA({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:u,viewBoxDimension:u.height}),l=wte({translateX:c,translateY:h,useTranslate3d:s})):l=vte,{cssProperties:l,cssClasses:_te({translateX:c,translateY:h,coordinate:n})}}function uu(t){return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function oA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oA(Object(n),!0).forEach(function(r){l_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CM(r.key),r)}}function Tte(t,e,n){return e&&sA(t.prototype,e),n&&sA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ete(t,e,n){return e=Cp(e),Ste(t,OM()?Reflect.construct(e,n||[],Cp(t).constructor):e.apply(t,n))}function Ste(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s_(t)}function OM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OM=function(){return!!t})()}function Cp(t){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cp(t)}function s_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ite(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u_(t,e)}function u_(t,e){return u_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},u_(t,e)}function l_(t,e,n){return e=CM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CM(t){var e=Ate(t,"string");return uu(e)=="symbol"?e:String(e)}function Ate(t,e){if(uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uA=1,Pte=function(t){Ite(e,t);function e(){var n;xte(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Ete(this,e,[].concat(i)),l_(s_(n),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),l_(s_(n),"handleKeyDown",function(a){if(a.key==="Escape"){var s,u,l,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(u=n.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&s!==void 0?s:0,y:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&l!==void 0?l:0}})}}),n}return Tte(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>uA||Math.abs(r.height-this.state.lastBoundingBox.height)>uA)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),!!this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,u=i.animationEasing,l=i.children,c=i.coordinate,h=i.hasPayload,d=i.isAnimationActive,p=i.offset,_=i.position,g=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,y=i.wrapperStyle,w=bte({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:p,position:_,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),x=w.cssClasses,T=w.cssProperties,A=aA(aA({transition:d&&o?"transform ".concat(s,"ms ").concat(u):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&h?"visible":"hidden",position:"absolute",top:0,left:0},y);return D("div",{tabIndex:-1,className:x,style:A,ref:function(E){r.wrapperNode=E},children:l})}}]),e}(M.exports.PureComponent),Ote=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},fo={isSsr:Ote(),get:function(e){return fo[e]},set:function(e,n){if(typeof e=="string")fo[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){fo[i]=e[i]})}}};function lu(t){return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function lA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lA(Object(n),!0).forEach(function(r){T1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RM(r.key),r)}}function kte(t,e,n){return e&&hA(t.prototype,e),n&&hA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rte(t,e,n){return e=kp(e),Nte(t,kM()?Reflect.construct(e,n||[],kp(t).constructor):e.apply(t,n))}function Nte(t,e){if(e&&(lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dte(t)}function Dte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kM=function(){return!!t})()}function kp(t){return kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kp(t)}function Mte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c_(t,e)}function c_(t,e){return c_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},c_(t,e)}function T1(t,e,n){return e=RM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RM(t){var e=$te(t,"string");return lu(e)=="symbol"?e:String(e)}function $te(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lte(t){return t.dataKey}function Vte(t,e){return Ne.isValidElement(t)?Ne.cloneElement(t,e):typeof t=="function"?Ne.createElement(t,e):D(mte,{...e})}var Ar=function(t){Mte(e,t);function e(){return Cte(this,e),Rte(this,e,arguments)}return kte(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,u=i.animationEasing,l=i.content,c=i.coordinate,h=i.filterNull,d=i.isAnimationActive,p=i.offset,_=i.payload,g=i.payloadUniqBy,v=i.position,b=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,x=i.wrapperStyle,T=_!=null?_:[];h&&T.length&&(T=wM(_.filter(function(I){return I.value!=null&&(I.hide!==!0||r.props.includeHidden)}),g,Lte));var A=T.length>0;return D(Pte,{allowEscapeViewBox:a,animationDuration:s,animationEasing:u,isAnimationActive:d,active:o,coordinate:c,hasPayload:A,offset:p,position:v,reverseDirection:b,useTranslate3d:y,viewBox:w,wrapperStyle:x,children:Vte(l,cA(cA({},this.props),{},{payload:T}))})}}]),e}(M.exports.PureComponent);T1(Ar,"displayName","Tooltip");T1(Ar,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!fo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var jte=Wr,Fte=function(){return jte.Date.now()},Ute=Fte,Bte=/\s/;function zte(t){for(var e=t.length;e--&&Bte.test(t.charAt(e)););return e}var qte=zte,Wte=qte,Gte=/^\s+/;function Kte(t){return t&&t.slice(0,Wte(t)+1).replace(Gte,"")}var Hte=Kte,Qte=Hte,fA=Un,Yte=ku,dA=0/0,Xte=/^[-+]0x[0-9a-f]+$/i,Jte=/^0b[01]+$/i,Zte=/^0o[0-7]+$/i,ene=parseInt;function tne(t){if(typeof t=="number")return t;if(Yte(t))return dA;if(fA(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=fA(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Qte(t);var n=Jte.test(t);return n||Zte.test(t)?ene(t.slice(2),n?2:8):Xte.test(t)?dA:+t}var NM=tne,nne=Un,Qy=Ute,pA=NM,rne="Expected a function",ine=Math.max,one=Math.min;function ane(t,e,n){var r,i,o,a,s,u,l=0,c=!1,h=!1,d=!0;if(typeof t!="function")throw new TypeError(rne);e=pA(e)||0,nne(n)&&(c=!!n.leading,h="maxWait"in n,o=h?ine(pA(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function p(A){var I=r,E=i;return r=i=void 0,l=A,a=t.apply(E,I),a}function _(A){return l=A,s=setTimeout(b,e),c?p(A):a}function g(A){var I=A-u,E=A-l,P=e-I;return h?one(P,o-E):P}function v(A){var I=A-u,E=A-l;return u===void 0||I>=e||I<0||h&&E>=o}function b(){var A=Qy();if(v(A))return y(A);s=setTimeout(b,g(A))}function y(A){return s=void 0,d&&r?p(A):(r=i=void 0,a)}function w(){s!==void 0&&clearTimeout(s),l=0,r=u=i=s=void 0}function x(){return s===void 0?a:y(Qy())}function T(){var A=Qy(),I=v(A);if(r=arguments,i=this,u=A,I){if(s===void 0)return _(u);if(h)return clearTimeout(s),s=setTimeout(b,e),p(u)}return s===void 0&&(s=setTimeout(b,e)),a}return T.cancel=w,T.flush=x,T}var sne=ane,une=sne,lne=Un,cne="Expected a function";function hne(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(cne);return lne(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),une(t,e,{leading:r,maxWait:e,trailing:i})}var DM=hne;function jc(t){return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function mA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mA(Object(n),!0).forEach(function(r){fne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fne(t,e,n){return e=dne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dne(t){var e=pne(t,"string");return jc(e)=="symbol"?e:String(e)}function pne(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mne(t,e){return _ne(t)||vne(t,e)||yne(t,e)||gne()}function gne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yne(t,e){if(!!t){if(typeof t=="string")return gA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gA(t,e)}}function gA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function _ne(t){if(Array.isArray(t))return t}var wne=M.exports.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,u=s===void 0?"100%":s,l=t.minWidth,c=l===void 0?0:l,h=t.minHeight,d=t.maxHeight,p=t.children,_=t.debounce,g=_===void 0?0:_,v=t.id,b=t.className,y=t.onResize,w=t.style,x=w===void 0?{}:w,T=M.exports.useRef(null),A=M.exports.useRef();A.current=y,M.exports.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var I=M.exports.useState({containerWidth:i.width,containerHeight:i.height}),E=mne(I,2),P=E[0],O=E[1],R=M.exports.useCallback(function(C,F){O(function(K){var z=Math.round(C),Q=Math.round(F);return K.containerWidth===z&&K.containerHeight===Q?K:{containerWidth:z,containerHeight:Q}})},[]);M.exports.useEffect(function(){var C=function(G){var Y,ae=G[0].contentRect,te=ae.width,le=ae.height;R(te,le),(Y=A.current)===null||Y===void 0||Y.call(A,te,le)};g>0&&(C=DM(C,g,{trailing:!0,leading:!1}));var F=new ResizeObserver(C),K=T.current.getBoundingClientRect(),z=K.width,Q=K.height;return R(z,Q),F.observe(T.current),function(){F.disconnect()}},[R,g]);var N=M.exports.useMemo(function(){var C=P.containerWidth,F=P.containerHeight;if(C<0||F<0)return null;ci(aa(a)||aa(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,u),ci(!n||n>0,"The aspect(%s) must be greater than zero.",n);var K=aa(a)?C:a,z=aa(u)?F:u;n&&n>0&&(K?z=K/n:z&&(K=z*n),d&&z>d&&(z=d)),ci(K>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,z,a,u,c,h,n);var Q=!Array.isArray(p)&&vp.exports.isElement(p)&&li(p.type).endsWith("Chart");return Ne.Children.map(p,function(V){return vp.exports.isElement(V)?M.exports.cloneElement(V,Vf({width:K,height:z},Q?{style:Vf({height:"100%",width:"100%",maxHeight:z,maxWidth:K},V.props.style)}:{})):V})},[n,p,u,d,h,c,P,a]);return D("div",{id:v?"".concat(v):void 0,className:Re("recharts-responsive-container",b),style:Vf(Vf({},x),{},{width:a,height:u,minWidth:c,minHeight:h,maxHeight:d}),ref:T,children:N})}),MM=function(e){return null};MM.displayName="Cell";function Fc(t){return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function yA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yA(Object(n),!0).forEach(function(r){bne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bne(t,e,n){return e=xne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xne(t){var e=Tne(t,"string");return Fc(e)=="symbol"?e:String(e)}function Tne(t,e){if(Fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var is={widthCache:{},cacheCount:0},Ene=2e3,Sne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vA="recharts_measurement_span";function Ine(t){var e=h_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Zl=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||fo.isSsr)return{width:0,height:0};var r=Ine(n),i=JSON.stringify({text:e,copyStyle:r});if(is.widthCache[i])return is.widthCache[i];try{var o=document.getElementById(vA);o||(o=document.createElement("span"),o.setAttribute("id",vA),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=h_(h_({},Sne),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),u={width:s.width,height:s.height};return is.widthCache[i]=u,++is.cacheCount>Ene&&(is.cacheCount=0,is.widthCache={}),u}catch{return{width:0,height:0}}},Ane=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Uc(t){return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function Rp(t,e){return kne(t)||Cne(t,e)||One(t,e)||Pne()}function Pne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function One(t,e){if(!!t){if(typeof t=="string")return _A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _A(t,e)}}function _A(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function kne(t){if(Array.isArray(t))return t}function Rne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dne(r.key),r)}}function Nne(t,e,n){return e&&wA(t.prototype,e),n&&wA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dne(t){var e=Mne(t,"string");return Uc(e)=="symbol"?e:String(e)}function Mne(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$ne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Lne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$M={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Vne=Object.keys($M),Es="NaN";function jne(t,e){return t*$M[e]}var jf=function(){function t(e,n){Rne(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!$ne.test(n)&&(this.num=NaN,this.unit=""),Vne.includes(n)&&(this.num=jne(e,n),this.unit="px")}return Nne(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Lne.exec(n))!==null&&r!==void 0?r:[],o=Rp(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s!=null?s:"")}}]),t}();function LM(t){if(t.includes(Es))return Es;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=bA.exec(e))!==null&&n!==void 0?n:[],i=Rp(r,4),o=i[1],a=i[2],s=i[3],u=jf.parse(o!=null?o:""),l=jf.parse(s!=null?s:""),c=a==="*"?u.multiply(l):u.divide(l);if(c.isNaN())return Es;e=e.replace(bA,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,d=(h=xA.exec(e))!==null&&h!==void 0?h:[],p=Rp(d,4),_=p[1],g=p[2],v=p[3],b=jf.parse(_!=null?_:""),y=jf.parse(v!=null?v:""),w=g==="+"?b.add(y):b.subtract(y);if(w.isNaN())return Es;e=e.replace(xA,w.toString())}return e}var TA=/\(([^()]*)\)/;function Fne(t){for(var e=t;e.includes("(");){var n=TA.exec(e),r=Rp(n,2),i=r[1];e=e.replace(TA,LM(i))}return e}function Une(t){var e=t.replace(/\s+/g,"");return e=Fne(e),e=LM(e),e}function Bne(t){try{return Une(t)}catch{return Es}}function Yy(t){var e=Bne(t.slice(5,-1));return e===Es?"":e}var zne=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],qne=["dx","dy","angle","className","breakAll"];function EA(t,e){if(t==null)return{};var n=Wne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function Wne(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function SA(t,e){return Qne(t)||Hne(t,e)||Kne(t,e)||Gne()}function Gne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kne(t,e){if(!!t){if(typeof t=="string")return IA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IA(t,e)}}function IA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function Qne(t){if(Array.isArray(t))return t}var VM=/[ \f\n\r\t\v\u2028\u2029]+/,jM=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];ke(n)||(r?o=n.toString().split(""):o=n.toString().split(VM));var a=o.map(function(u){return{word:u,width:Zl(u,i).width}}),s=r?0:Zl("\xA0",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Yne=function(e,n,r,i,o){var a=e.maxLines,s=e.children,u=e.style,l=e.breakAll,c=ee(a),h=s,d=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(z,Q){var V=Q.word,G=Q.width,Y=z[z.length-1];if(Y&&(i==null||o||Y.width+G+r<Number(i)))Y.words.push(V),Y.width+=G+r;else{var ae={words:[V],width:G};z.push(ae)}return z},[])},p=d(n),_=function(K){return K.reduce(function(z,Q){return z.width>Q.width?z:Q})};if(!c)return p;for(var g="\u2026",v=function(K){var z=h.slice(0,K),Q=jM({breakAll:l,style:u,children:z+g}).wordsWithComputedWidth,V=d(Q),G=V.length>a||_(V).width>Number(i);return[G,V]},b=0,y=h.length-1,w=0,x;b<=y&&w<=h.length-1;){var T=Math.floor((b+y)/2),A=T-1,I=v(A),E=SA(I,2),P=E[0],O=E[1],R=v(T),N=SA(R,1),C=N[0];if(!P&&!C&&(b=T+1),P&&C&&(y=T-1),!P&&C){x=O;break}w++}return x||p},AA=function(e){var n=ke(e)?[]:e.toString().split(VM);return[{words:n}]},Xne=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!fo.isSsr){var u,l,c=jM({breakAll:a,children:i,style:o});if(c){var h=c.wordsWithComputedWidth,d=c.spaceWidth;u=h,l=d}else return AA(i);return Yne({breakAll:a,children:i,maxLines:s,style:o},u,l,n,r)}return AA(i)},PA="#808080",Np=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,u=e.capHeight,l=u===void 0?"0.71em":u,c=e.scaleToFit,h=c===void 0?!1:c,d=e.textAnchor,p=d===void 0?"start":d,_=e.verticalAnchor,g=_===void 0?"end":_,v=e.fill,b=v===void 0?PA:v,y=EA(e,zne),w=M.exports.useMemo(function(){return Xne({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:h,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,h,y.style,y.width]),x=y.dx,T=y.dy,A=y.angle,I=y.className,E=y.breakAll,P=EA(y,qne);if(!Tt(r)||!Tt(o))return null;var O=r+(ee(x)?x:0),R=o+(ee(T)?T:0),N;switch(g){case"start":N=Yy("calc(".concat(l,")"));break;case"middle":N=Yy("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:N=Yy("calc(".concat(w.length-1," * -").concat(s,")"));break}var C=[];if(h){var F=w[0].width,K=y.width;C.push("scale(".concat((ee(K)?K/F:1)/F,")"))}return A&&C.push("rotate(".concat(A,", ").concat(O,", ").concat(R,")")),C.length&&(P.transform=C.join(" ")),D("text",{...Oe(P,!0),x:O,y:R,className:Re("recharts-text",I),textAnchor:p,fill:b.includes("url")?PA:b,children:w.map(function(z,Q){var V=z.words.join(E?"":" ");return D("tspan",{x:O,dy:Q===0?N:s,children:V},V)})})};function po(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jne(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function E1(t){let e,n,r;t.length!==2?(e=po,n=(s,u)=>po(t(s),u),r=(s,u)=>t(s)-u):(e=t===po||t===Jne?t:Zne,n=t,r=t);function i(s,u,l=0,c=s.length){if(l<c){if(e(u,u)!==0)return c;do{const h=l+c>>>1;n(s[h],u)<0?l=h+1:c=h}while(l<c)}return l}function o(s,u,l=0,c=s.length){if(l<c){if(e(u,u)!==0)return c;do{const h=l+c>>>1;n(s[h],u)<=0?l=h+1:c=h}while(l<c)}return l}function a(s,u,l=0,c=s.length){const h=i(s,u,l,c-1);return h>l&&r(s[h-1],u)>-r(s[h],u)?h-1:h}return{left:i,center:a,right:o}}function Zne(){return 0}function FM(t){return t===null?NaN:+t}function*ere(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const tre=E1(po),nre=tre.right;E1(FM).center;const Fh=nre;class OA extends Map{constructor(e,n=ore){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(CA(this,e))}has(e){return super.has(CA(this,e))}set(e,n){return super.set(rre(this,e),n)}delete(e){return super.delete(ire(this,e))}}function CA({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function rre({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ire({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ore(t){return t!==null&&typeof t=="object"?t.valueOf():t}function are(t=po){if(t===po)return UM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function UM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const sre=Math.sqrt(50),ure=Math.sqrt(10),lre=Math.sqrt(2);function Dp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=sre?10:o>=ure?5:o>=lre?2:1;let s,u,l;return i<0?(l=Math.pow(10,-i)/a,s=Math.round(t*l),u=Math.round(e*l),s/l<t&&++s,u/l>e&&--u,l=-l):(l=Math.pow(10,i)*a,s=Math.round(t/l),u=Math.round(e/l),s*l<t&&++s,u*l>e&&--u),u<s&&.5<=n&&n<2?Dp(t,e,n*2):[s,u,l]}function f_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Dp(e,t,n):Dp(t,e,n);if(!(o>=i))return[];const s=o-i+1,u=new Array(s);if(r)if(a<0)for(let l=0;l<s;++l)u[l]=(o-l)/-a;else for(let l=0;l<s;++l)u[l]=(o-l)*a;else if(a<0)for(let l=0;l<s;++l)u[l]=(i+l)/-a;else for(let l=0;l<s;++l)u[l]=(i+l)*a;return u}function d_(t,e,n){return e=+e,t=+t,n=+n,Dp(t,e,n)[2]}function p_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?d_(e,t,n):d_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function kA(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function RA(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function BM(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?UM:are(i);r>n;){if(r-n>600){const u=r-n+1,l=e-n+1,c=Math.log(u),h=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*h*(u-h)/u)*(l-u/2<0?-1:1),p=Math.max(n,Math.floor(e-l*h/u+d)),_=Math.min(r,Math.floor(e+(u-l)*h/u+d));BM(t,e,p,_,i)}const o=t[e];let a=n,s=r;for(vl(t,n,e),i(t[r],o)>0&&vl(t,n,r);a<s;){for(vl(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?vl(t,n,s):(++s,vl(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function vl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function cre(t,e,n){if(t=Float64Array.from(ere(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return RA(t);if(e>=1)return kA(t);var r,i=(r-1)*e,o=Math.floor(i),a=kA(BM(t,o).subarray(0,o+1)),s=RA(t.subarray(o+1));return a+(s-a)*(i-o)}}function hre(t,e,n=FM){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function fre(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function tr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Oi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const m_=Symbol("implicit");function S1(){var t=new OA,e=[],n=[],r=m_;function i(o){let a=t.get(o);if(a===void 0){if(r!==m_)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new OA;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return S1(e,n).unknown(r)},tr.apply(i,arguments),i}function Bc(){var t=S1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,u=0,l=0,c=.5;delete t.unknown;function h(){var d=e().length,p=i<r,_=p?i:r,g=p?r:i;o=(g-_)/Math.max(1,d-u+l*2),s&&(o=Math.floor(o)),_+=(g-_-o*(d-u))*c,a=o*(1-u),s&&(_=Math.round(_),a=Math.round(a));var v=fre(d).map(function(b){return _+o*b});return n(p?v.reverse():v)}return t.domain=function(d){return arguments.length?(e(d),h()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(d){return arguments.length?(s=!!d,h()):s},t.padding=function(d){return arguments.length?(u=Math.min(1,l=+d),h()):u},t.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),h()):u},t.paddingOuter=function(d){return arguments.length?(l=+d,h()):l},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),h()):c},t.copy=function(){return Bc(e(),[r,i]).round(s).paddingInner(u).paddingOuter(l).align(c)},tr.apply(h(),arguments)}function zM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return zM(e())},t}function ec(){return zM(Bc.apply(null,arguments).paddingInner(1))}function I1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function qM(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Uh(){}var zc=.7,Mp=1/zc,$s="\\s*([+-]?\\d+)\\s*",qc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dre=/^#([0-9a-f]{3,8})$/,pre=new RegExp(`^rgb\\(${$s},${$s},${$s}\\)$`),mre=new RegExp(`^rgb\\(${$r},${$r},${$r}\\)$`),gre=new RegExp(`^rgba\\(${$s},${$s},${$s},${qc}\\)$`),yre=new RegExp(`^rgba\\(${$r},${$r},${$r},${qc}\\)$`),vre=new RegExp(`^hsl\\(${qc},${$r},${$r}\\)$`),_re=new RegExp(`^hsla\\(${qc},${$r},${$r},${qc}\\)$`),NA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};I1(Uh,Wc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:DA,formatHex:DA,formatHex8:wre,formatHsl:bre,formatRgb:MA,toString:MA});function DA(){return this.rgb().formatHex()}function wre(){return this.rgb().formatHex8()}function bre(){return WM(this).formatHsl()}function MA(){return this.rgb().formatRgb()}function Wc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=dre.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?$A(e):n===3?new bn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ff(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ff(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=pre.exec(t))?new bn(e[1],e[2],e[3],1):(e=mre.exec(t))?new bn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=gre.exec(t))?Ff(e[1],e[2],e[3],e[4]):(e=yre.exec(t))?Ff(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=vre.exec(t))?jA(e[1],e[2]/100,e[3]/100,1):(e=_re.exec(t))?jA(e[1],e[2]/100,e[3]/100,e[4]):NA.hasOwnProperty(t)?$A(NA[t]):t==="transparent"?new bn(NaN,NaN,NaN,0):null}function $A(t){return new bn(t>>16&255,t>>8&255,t&255,1)}function Ff(t,e,n,r){return r<=0&&(t=e=n=NaN),new bn(t,e,n,r)}function xre(t){return t instanceof Uh||(t=Wc(t)),t?(t=t.rgb(),new bn(t.r,t.g,t.b,t.opacity)):new bn}function g_(t,e,n,r){return arguments.length===1?xre(t):new bn(t,e,n,r==null?1:r)}function bn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}I1(bn,g_,qM(Uh,{brighter(t){return t=t==null?Mp:Math.pow(Mp,t),new bn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?zc:Math.pow(zc,t),new bn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new bn(pa(this.r),pa(this.g),pa(this.b),$p(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:LA,formatHex:LA,formatHex8:Tre,formatRgb:VA,toString:VA}));function LA(){return`#${sa(this.r)}${sa(this.g)}${sa(this.b)}`}function Tre(){return`#${sa(this.r)}${sa(this.g)}${sa(this.b)}${sa((isNaN(this.opacity)?1:this.opacity)*255)}`}function VA(){const t=$p(this.opacity);return`${t===1?"rgb(":"rgba("}${pa(this.r)}, ${pa(this.g)}, ${pa(this.b)}${t===1?")":`, ${t})`}`}function $p(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function pa(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function sa(t){return t=pa(t),(t<16?"0":"")+t.toString(16)}function jA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new fr(t,e,n,r)}function WM(t){if(t instanceof fr)return new fr(t.h,t.s,t.l,t.opacity);if(t instanceof Uh||(t=Wc(t)),!t)return new fr;if(t instanceof fr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new fr(a,s,u,t.opacity)}function Ere(t,e,n,r){return arguments.length===1?WM(t):new fr(t,e,n,r==null?1:r)}function fr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}I1(fr,Ere,qM(Uh,{brighter(t){return t=t==null?Mp:Math.pow(Mp,t),new fr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?zc:Math.pow(zc,t),new fr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new bn(Xy(t>=240?t-240:t+120,i,r),Xy(t,i,r),Xy(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new fr(FA(this.h),Uf(this.s),Uf(this.l),$p(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=$p(this.opacity);return`${t===1?"hsl(":"hsla("}${FA(this.h)}, ${Uf(this.s)*100}%, ${Uf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function FA(t){return t=(t||0)%360,t<0?t+360:t}function Uf(t){return Math.max(0,Math.min(1,t||0))}function Xy(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const A1=t=>()=>t;function Sre(t,e){return function(n){return t+n*e}}function Ire(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Are(t){return(t=+t)==1?GM:function(e,n){return n-e?Ire(e,n,t):A1(isNaN(e)?n:e)}}function GM(t,e){var n=e-t;return n?Sre(t,n):A1(isNaN(t)?e:t)}const UA=function t(e){var n=Are(e);function r(i,o){var a=n((i=g_(i)).r,(o=g_(o)).r),s=n(i.g,o.g),u=n(i.b,o.b),l=GM(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function Pre(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Ore(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Cre(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Vu(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function kre(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Lp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Rre(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Vu(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var y_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jy=new RegExp(y_.source,"g");function Nre(t){return function(){return t}}function Dre(t){return function(e){return t(e)+""}}function Mre(t,e){var n=y_.lastIndex=Jy.lastIndex=0,r,i,o,a=-1,s=[],u=[];for(t=t+"",e=e+"";(r=y_.exec(t))&&(i=Jy.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:Lp(r,i)})),n=Jy.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?Dre(u[0].x):Nre(e):(e=u.length,function(l){for(var c=0,h;c<e;++c)s[(h=u[c]).i]=h.x(l);return s.join("")})}function Vu(t,e){var n=typeof e,r;return e==null||n==="boolean"?A1(e):(n==="number"?Lp:n==="string"?(r=Wc(e))?(e=r,UA):Mre:e instanceof Wc?UA:e instanceof Date?kre:Ore(e)?Pre:Array.isArray(e)?Cre:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Rre:Lp)(t,e)}function P1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function $re(t,e){e===void 0&&(e=t,t=Vu);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Lre(t){return function(){return t}}function Vp(t){return+t}var BA=[0,1];function ln(t){return t}function v_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Lre(isNaN(e)?NaN:.5)}function Vre(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function jre(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=v_(i,r),o=n(a,o)):(r=v_(r,i),o=n(o,a)),function(s){return o(r(s))}}function Fre(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=v_(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var u=Fh(t,s,1,r)-1;return o[u](i[u](s))}}function Bh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function vg(){var t=BA,e=BA,n=Vu,r,i,o,a=ln,s,u,l;function c(){var d=Math.min(t.length,e.length);return a!==ln&&(a=Vre(t[0],t[d-1])),s=d>2?Fre:jre,u=l=null,h}function h(d){return d==null||isNaN(d=+d)?o:(u||(u=s(t.map(r),e,n)))(r(a(d)))}return h.invert=function(d){return a(i((l||(l=s(e,t.map(r),Lp)))(d)))},h.domain=function(d){return arguments.length?(t=Array.from(d,Vp),c()):t.slice()},h.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},h.rangeRound=function(d){return e=Array.from(d),n=P1,c()},h.clamp=function(d){return arguments.length?(a=d?!0:ln,c()):a!==ln},h.interpolate=function(d){return arguments.length?(n=d,c()):n},h.unknown=function(d){return arguments.length?(o=d,h):o},function(d,p){return r=d,i=p,c()}}function O1(){return vg()(ln,ln)}function Ure(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function jp(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function cu(t){return t=jp(Math.abs(t)),t?t[1]:NaN}function Bre(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function zre(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var qre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gc(t){if(!(e=qre.exec(t)))throw new Error("invalid format: "+t);var e;return new C1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Gc.prototype=C1.prototype;function C1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}C1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Wre(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var KM;function Gre(t,e){var n=jp(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(KM=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+jp(t,Math.max(0,e+o-1))[0]}function zA(t,e){var n=jp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const qA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ure,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>zA(t*100,e),r:zA,s:Gre,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function WA(t){return t}var GA=Array.prototype.map,KA=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Kre(t){var e=t.grouping===void 0||t.thousands===void 0?WA:Bre(GA.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?WA:zre(GA.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"\u2212":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(h){h=Gc(h);var d=h.fill,p=h.align,_=h.sign,g=h.symbol,v=h.zero,b=h.width,y=h.comma,w=h.precision,x=h.trim,T=h.type;T==="n"?(y=!0,T="g"):qA[T]||(w===void 0&&(w=12),x=!0,T="g"),(v||d==="0"&&p==="=")&&(v=!0,d="0",p="=");var A=g==="$"?n:g==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",I=g==="$"?r:/[%p]/.test(T)?a:"",E=qA[T],P=/[defgprs%]/.test(T);w=w===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function O(R){var N=A,C=I,F,K,z;if(T==="c")C=E(R)+C,R="";else{R=+R;var Q=R<0||1/R<0;if(R=isNaN(R)?u:E(Math.abs(R),w),x&&(R=Wre(R)),Q&&+R==0&&_!=="+"&&(Q=!1),N=(Q?_==="("?_:s:_==="-"||_==="("?"":_)+N,C=(T==="s"?KA[8+KM/3]:"")+C+(Q&&_==="("?")":""),P){for(F=-1,K=R.length;++F<K;)if(z=R.charCodeAt(F),48>z||z>57){C=(z===46?i+R.slice(F+1):R.slice(F))+C,R=R.slice(0,F);break}}}y&&!v&&(R=e(R,1/0));var V=N.length+R.length+C.length,G=V<b?new Array(b-V+1).join(d):"";switch(y&&v&&(R=e(G+R,G.length?b-C.length:1/0),G=""),p){case"<":R=N+R+C+G;break;case"=":R=N+G+R+C;break;case"^":R=G.slice(0,V=G.length>>1)+N+R+C+G.slice(V);break;default:R=G+N+R+C;break}return o(R)}return O.toString=function(){return h+""},O}function c(h,d){var p=l((h=Gc(h),h.type="f",h)),_=Math.max(-8,Math.min(8,Math.floor(cu(d)/3)))*3,g=Math.pow(10,-_),v=KA[8+_/3];return function(b){return p(g*b)+v}}return{format:l,formatPrefix:c}}var Bf,k1,HM;Hre({thousands:",",grouping:[3],currency:["$",""]});function Hre(t){return Bf=Kre(t),k1=Bf.format,HM=Bf.formatPrefix,Bf}function Qre(t){return Math.max(0,-cu(Math.abs(t)))}function Yre(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cu(e)/3)))*3-cu(Math.abs(t)))}function Xre(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,cu(e)-cu(t))+1}function QM(t,e,n,r){var i=p_(t,e,n),o;switch(r=Gc(r==null?",f":r),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Yre(i,a))&&(r.precision=o),HM(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Xre(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Qre(i))&&(r.precision=o-(r.type==="%")*2);break}}return k1(r)}function No(t){var e=t.domain;return t.ticks=function(n){var r=e();return f_(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var i=e();return QM(i[0],i[i.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],u,l,c=10;for(s<a&&(l=a,a=s,s=l,l=i,i=o,o=l);c-- >0;){if(l=d_(a,s,n),l===u)return r[i]=a,r[o]=s,e(r);if(l>0)a=Math.floor(a/l)*l,s=Math.ceil(s/l)*l;else if(l<0)a=Math.ceil(a*l)/l,s=Math.floor(s*l)/l;else break;u=l}return t},t}function Fp(){var t=O1();return t.copy=function(){return Bh(t,Fp())},tr.apply(t,arguments),No(t)}function YM(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Vp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return YM(t).unknown(e)},t=arguments.length?Array.from(t,Vp):[0,1],No(n)}function XM(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function HA(t){return Math.log(t)}function QA(t){return Math.exp(t)}function Jre(t){return-Math.log(-t)}function Zre(t){return-Math.exp(-t)}function eie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function tie(t){return t===10?eie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function nie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function YA(t){return(e,n)=>-t(-e,n)}function R1(t){const e=t(HA,QA),n=e.domain;let r=10,i,o;function a(){return i=nie(r),o=tie(r),n()[0]<0?(i=YA(i),o=YA(o),t(Jre,Zre)):t(HA,QA),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const u=n();let l=u[0],c=u[u.length-1];const h=c<l;h&&([l,c]=[c,l]);let d=i(l),p=i(c),_,g;const v=s==null?10:+s;let b=[];if(!(r%1)&&p-d<v){if(d=Math.floor(d),p=Math.ceil(p),l>0){for(;d<=p;++d)for(_=1;_<r;++_)if(g=d<0?_/o(-d):_*o(d),!(g<l)){if(g>c)break;b.push(g)}}else for(;d<=p;++d)for(_=r-1;_>=1;--_)if(g=d>0?_/o(-d):_*o(d),!(g<l)){if(g>c)break;b.push(g)}b.length*2<v&&(b=f_(l,c,v))}else b=f_(d,p,Math.min(p-d,v)).map(o);return h?b.reverse():b},e.tickFormat=(s,u)=>{if(s==null&&(s=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Gc(u)).precision==null&&(u.trim=!0),u=k1(u)),s===1/0)return u;const l=Math.max(1,r*s/e.ticks().length);return c=>{let h=c/o(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=l?u(c):""}},e.nice=()=>n(XM(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function JM(){const t=R1(vg()).domain([1,10]);return t.copy=()=>Bh(t,JM()).base(t.base()),tr.apply(t,arguments),t}function XA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function JA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function N1(t){var e=1,n=t(XA(e),JA(e));return n.constant=function(r){return arguments.length?t(XA(e=+r),JA(e)):e},No(n)}function ZM(){var t=N1(vg());return t.copy=function(){return Bh(t,ZM()).constant(t.constant())},tr.apply(t,arguments)}function ZA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function rie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function iie(t){return t<0?-t*t:t*t}function D1(t){var e=t(ln,ln),n=1;function r(){return n===1?t(ln,ln):n===.5?t(rie,iie):t(ZA(n),ZA(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},No(e)}function M1(){var t=D1(vg());return t.copy=function(){return Bh(t,M1()).exponent(t.exponent())},tr.apply(t,arguments),t}function oie(){return M1.apply(null,arguments).exponent(.5)}function eP(t){return Math.sign(t)*t*t}function aie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function e$(){var t=O1(),e=[0,1],n=!1,r;function i(o){var a=aie(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(eP(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Vp)).map(eP)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return e$(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},tr.apply(i,arguments),No(i)}function t$(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=hre(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Fh(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(po),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return t$().domain(t).range(e).unknown(r)},tr.apply(o,arguments)}function n$(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(u){return u!=null&&u<=u?i[Fh(r,u,0,n)]:o}function s(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return a}return a.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,s()):[t,e]},a.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,s()):i.slice()},a.invertExtent=function(u){var l=i.indexOf(u);return l<0?[NaN,NaN]:l<1?[t,r[0]]:l>=n?[r[n-1],e]:[r[l-1],r[l]]},a.unknown=function(u){return arguments.length&&(o=u),a},a.thresholds=function(){return r.slice()},a.copy=function(){return n$().domain([t,e]).range(i).unknown(o)},tr.apply(No(a),arguments)}function r$(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Fh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return r$().domain(t).range(e).unknown(n)},tr.apply(i,arguments)}const Zy=new Date,ev=new Date;function St(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const u=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return u;let l;do u.push(l=new Date(+o)),e(o,s),t(o);while(l<o&&o<a);return u},i.filter=o=>St(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Zy.setTime(+o),ev.setTime(+a),t(Zy),t(ev),Math.floor(n(Zy,ev))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Up=St(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Up.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?St(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Up);Up.range;const ii=1e3,Yn=ii*60,oi=Yn*60,bi=oi*24,$1=bi*7,tP=bi*30,tv=bi*365,ua=St(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ii)},(t,e)=>(e-t)/ii,t=>t.getUTCSeconds());ua.range;const L1=St(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ii)},(t,e)=>{t.setTime(+t+e*Yn)},(t,e)=>(e-t)/Yn,t=>t.getMinutes());L1.range;const V1=St(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Yn)},(t,e)=>(e-t)/Yn,t=>t.getUTCMinutes());V1.range;const j1=St(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ii-t.getMinutes()*Yn)},(t,e)=>{t.setTime(+t+e*oi)},(t,e)=>(e-t)/oi,t=>t.getHours());j1.range;const F1=St(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*oi)},(t,e)=>(e-t)/oi,t=>t.getUTCHours());F1.range;const zh=St(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Yn)/bi,t=>t.getDate()-1);zh.range;const _g=St(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/bi,t=>t.getUTCDate()-1);_g.range;const i$=St(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/bi,t=>Math.floor(t/bi));i$.range;function qa(t){return St(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Yn)/$1)}const wg=qa(0),Bp=qa(1),sie=qa(2),uie=qa(3),hu=qa(4),lie=qa(5),cie=qa(6);wg.range;Bp.range;sie.range;uie.range;hu.range;lie.range;cie.range;function Wa(t){return St(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/$1)}const bg=Wa(0),zp=Wa(1),hie=Wa(2),fie=Wa(3),fu=Wa(4),die=Wa(5),pie=Wa(6);bg.range;zp.range;hie.range;fie.range;fu.range;die.range;pie.range;const U1=St(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());U1.range;const B1=St(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());B1.range;const xi=St(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());xi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:St(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});xi.range;const Ti=St(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ti.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:St(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ti.range;function o$(t,e,n,r,i,o){const a=[[ua,1,ii],[ua,5,5*ii],[ua,15,15*ii],[ua,30,30*ii],[o,1,Yn],[o,5,5*Yn],[o,15,15*Yn],[o,30,30*Yn],[i,1,oi],[i,3,3*oi],[i,6,6*oi],[i,12,12*oi],[r,1,bi],[r,2,2*bi],[n,1,$1],[e,1,tP],[e,3,3*tP],[t,1,tv]];function s(l,c,h){const d=c<l;d&&([l,c]=[c,l]);const p=h&&typeof h.range=="function"?h:u(l,c,h),_=p?p.range(l,+c+1):[];return d?_.reverse():_}function u(l,c,h){const d=Math.abs(c-l)/h,p=E1(([,,v])=>v).right(a,d);if(p===a.length)return t.every(p_(l/tv,c/tv,h));if(p===0)return Up.every(Math.max(p_(l,c,h),1));const[_,g]=a[d/a[p-1][2]<a[p][2]/d?p-1:p];return _.every(g)}return[s,u]}const[mie,gie]=o$(Ti,B1,bg,i$,F1,V1),[yie,vie]=o$(xi,U1,wg,zh,j1,L1);function nv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function rv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function _l(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function _ie(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,l=wl(i),c=bl(i),h=wl(o),d=bl(o),p=wl(a),_=bl(a),g=wl(s),v=bl(s),b=wl(u),y=bl(u),w={a:Q,A:V,b:G,B:Y,c:null,d:sP,e:sP,f:Bie,g:Jie,G:eoe,H:jie,I:Fie,j:Uie,L:a$,m:zie,M:qie,p:ae,q:te,Q:cP,s:hP,S:Wie,u:Gie,U:Kie,V:Hie,w:Qie,W:Yie,x:null,X:null,y:Xie,Y:Zie,Z:toe,"%":lP},x={a:le,A:je,b:Je,B:$t,c:null,d:uP,e:uP,f:ooe,g:moe,G:yoe,H:noe,I:roe,j:ioe,L:u$,m:aoe,M:soe,p:We,q:nr,Q:cP,s:hP,S:uoe,u:loe,U:coe,V:hoe,w:foe,W:doe,x:null,X:null,y:poe,Y:goe,Z:voe,"%":lP},T={a:O,A:R,b:N,B:C,c:F,d:oP,e:oP,f:Mie,g:iP,G:rP,H:aP,I:aP,j:kie,L:Die,m:Cie,M:Rie,p:P,q:Oie,Q:Lie,s:Vie,S:Nie,u:Eie,U:Sie,V:Iie,w:Tie,W:Aie,x:K,X:z,y:iP,Y:rP,Z:Pie,"%":$ie};w.x=A(n,w),w.X=A(r,w),w.c=A(e,w),x.x=A(n,x),x.X=A(r,x),x.c=A(e,x);function A(re,fe){return function(me){var q=[],Ge=-1,we=0,tt=re.length,nt,qt,rr;for(me instanceof Date||(me=new Date(+me));++Ge<tt;)re.charCodeAt(Ge)===37&&(q.push(re.slice(we,Ge)),(qt=nP[nt=re.charAt(++Ge)])!=null?nt=re.charAt(++Ge):qt=nt==="e"?" ":"0",(rr=fe[nt])&&(nt=rr(me,qt)),q.push(nt),we=Ge+1);return q.push(re.slice(we,Ge)),q.join("")}}function I(re,fe){return function(me){var q=_l(1900,void 0,1),Ge=E(q,re,me+="",0),we,tt;if(Ge!=me.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(fe&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(we=rv(_l(q.y,0,1)),tt=we.getUTCDay(),we=tt>4||tt===0?zp.ceil(we):zp(we),we=_g.offset(we,(q.V-1)*7),q.y=we.getUTCFullYear(),q.m=we.getUTCMonth(),q.d=we.getUTCDate()+(q.w+6)%7):(we=nv(_l(q.y,0,1)),tt=we.getDay(),we=tt>4||tt===0?Bp.ceil(we):Bp(we),we=zh.offset(we,(q.V-1)*7),q.y=we.getFullYear(),q.m=we.getMonth(),q.d=we.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),tt="Z"in q?rv(_l(q.y,0,1)).getUTCDay():nv(_l(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(tt+5)%7:q.w+q.U*7-(tt+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,rv(q)):nv(q)}}function E(re,fe,me,q){for(var Ge=0,we=fe.length,tt=me.length,nt,qt;Ge<we;){if(q>=tt)return-1;if(nt=fe.charCodeAt(Ge++),nt===37){if(nt=fe.charAt(Ge++),qt=T[nt in nP?fe.charAt(Ge++):nt],!qt||(q=qt(re,me,q))<0)return-1}else if(nt!=me.charCodeAt(q++))return-1}return q}function P(re,fe,me){var q=l.exec(fe.slice(me));return q?(re.p=c.get(q[0].toLowerCase()),me+q[0].length):-1}function O(re,fe,me){var q=p.exec(fe.slice(me));return q?(re.w=_.get(q[0].toLowerCase()),me+q[0].length):-1}function R(re,fe,me){var q=h.exec(fe.slice(me));return q?(re.w=d.get(q[0].toLowerCase()),me+q[0].length):-1}function N(re,fe,me){var q=b.exec(fe.slice(me));return q?(re.m=y.get(q[0].toLowerCase()),me+q[0].length):-1}function C(re,fe,me){var q=g.exec(fe.slice(me));return q?(re.m=v.get(q[0].toLowerCase()),me+q[0].length):-1}function F(re,fe,me){return E(re,e,fe,me)}function K(re,fe,me){return E(re,n,fe,me)}function z(re,fe,me){return E(re,r,fe,me)}function Q(re){return a[re.getDay()]}function V(re){return o[re.getDay()]}function G(re){return u[re.getMonth()]}function Y(re){return s[re.getMonth()]}function ae(re){return i[+(re.getHours()>=12)]}function te(re){return 1+~~(re.getMonth()/3)}function le(re){return a[re.getUTCDay()]}function je(re){return o[re.getUTCDay()]}function Je(re){return u[re.getUTCMonth()]}function $t(re){return s[re.getUTCMonth()]}function We(re){return i[+(re.getUTCHours()>=12)]}function nr(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var fe=A(re+="",w);return fe.toString=function(){return re},fe},parse:function(re){var fe=I(re+="",!1);return fe.toString=function(){return re},fe},utcFormat:function(re){var fe=A(re+="",x);return fe.toString=function(){return re},fe},utcParse:function(re){var fe=I(re+="",!0);return fe.toString=function(){return re},fe}}}var nP={"-":"",_:" ",0:"0"},Mt=/^\s*\d+/,wie=/^%/,bie=/[\\^$*+?|[\]().{}]/g;function Pe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function xie(t){return t.replace(bie,"\\$&")}function wl(t){return new RegExp("^(?:"+t.map(xie).join("|")+")","i")}function bl(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Tie(t,e,n){var r=Mt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Eie(t,e,n){var r=Mt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Sie(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Iie(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Aie(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function rP(t,e,n){var r=Mt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function iP(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Pie(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Oie(t,e,n){var r=Mt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Cie(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function oP(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function kie(t,e,n){var r=Mt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function aP(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Rie(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Nie(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Die(t,e,n){var r=Mt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Mie(t,e,n){var r=Mt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $ie(t,e,n){var r=wie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Lie(t,e,n){var r=Mt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Vie(t,e,n){var r=Mt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function sP(t,e){return Pe(t.getDate(),e,2)}function jie(t,e){return Pe(t.getHours(),e,2)}function Fie(t,e){return Pe(t.getHours()%12||12,e,2)}function Uie(t,e){return Pe(1+zh.count(xi(t),t),e,3)}function a$(t,e){return Pe(t.getMilliseconds(),e,3)}function Bie(t,e){return a$(t,e)+"000"}function zie(t,e){return Pe(t.getMonth()+1,e,2)}function qie(t,e){return Pe(t.getMinutes(),e,2)}function Wie(t,e){return Pe(t.getSeconds(),e,2)}function Gie(t){var e=t.getDay();return e===0?7:e}function Kie(t,e){return Pe(wg.count(xi(t)-1,t),e,2)}function s$(t){var e=t.getDay();return e>=4||e===0?hu(t):hu.ceil(t)}function Hie(t,e){return t=s$(t),Pe(hu.count(xi(t),t)+(xi(t).getDay()===4),e,2)}function Qie(t){return t.getDay()}function Yie(t,e){return Pe(Bp.count(xi(t)-1,t),e,2)}function Xie(t,e){return Pe(t.getFullYear()%100,e,2)}function Jie(t,e){return t=s$(t),Pe(t.getFullYear()%100,e,2)}function Zie(t,e){return Pe(t.getFullYear()%1e4,e,4)}function eoe(t,e){var n=t.getDay();return t=n>=4||n===0?hu(t):hu.ceil(t),Pe(t.getFullYear()%1e4,e,4)}function toe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Pe(e/60|0,"0",2)+Pe(e%60,"0",2)}function uP(t,e){return Pe(t.getUTCDate(),e,2)}function noe(t,e){return Pe(t.getUTCHours(),e,2)}function roe(t,e){return Pe(t.getUTCHours()%12||12,e,2)}function ioe(t,e){return Pe(1+_g.count(Ti(t),t),e,3)}function u$(t,e){return Pe(t.getUTCMilliseconds(),e,3)}function ooe(t,e){return u$(t,e)+"000"}function aoe(t,e){return Pe(t.getUTCMonth()+1,e,2)}function soe(t,e){return Pe(t.getUTCMinutes(),e,2)}function uoe(t,e){return Pe(t.getUTCSeconds(),e,2)}function loe(t){var e=t.getUTCDay();return e===0?7:e}function coe(t,e){return Pe(bg.count(Ti(t)-1,t),e,2)}function l$(t){var e=t.getUTCDay();return e>=4||e===0?fu(t):fu.ceil(t)}function hoe(t,e){return t=l$(t),Pe(fu.count(Ti(t),t)+(Ti(t).getUTCDay()===4),e,2)}function foe(t){return t.getUTCDay()}function doe(t,e){return Pe(zp.count(Ti(t)-1,t),e,2)}function poe(t,e){return Pe(t.getUTCFullYear()%100,e,2)}function moe(t,e){return t=l$(t),Pe(t.getUTCFullYear()%100,e,2)}function goe(t,e){return Pe(t.getUTCFullYear()%1e4,e,4)}function yoe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?fu(t):fu.ceil(t),Pe(t.getUTCFullYear()%1e4,e,4)}function voe(){return"+0000"}function lP(){return"%"}function cP(t){return+t}function hP(t){return Math.floor(+t/1e3)}var os,c$,h$;_oe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _oe(t){return os=_ie(t),c$=os.format,os.parse,h$=os.utcFormat,os.utcParse,os}function woe(t){return new Date(t)}function boe(t){return t instanceof Date?+t:+new Date(+t)}function z1(t,e,n,r,i,o,a,s,u,l){var c=O1(),h=c.invert,d=c.domain,p=l(".%L"),_=l(":%S"),g=l("%I:%M"),v=l("%I %p"),b=l("%a %d"),y=l("%b %d"),w=l("%B"),x=l("%Y");function T(A){return(u(A)<A?p:s(A)<A?_:a(A)<A?g:o(A)<A?v:r(A)<A?i(A)<A?b:y:n(A)<A?w:x)(A)}return c.invert=function(A){return new Date(h(A))},c.domain=function(A){return arguments.length?d(Array.from(A,boe)):d().map(woe)},c.ticks=function(A){var I=d();return t(I[0],I[I.length-1],A==null?10:A)},c.tickFormat=function(A,I){return I==null?T:l(I)},c.nice=function(A){var I=d();return(!A||typeof A.range!="function")&&(A=e(I[0],I[I.length-1],A==null?10:A)),A?d(XM(I,A)):c},c.copy=function(){return Bh(c,z1(t,e,n,r,i,o,a,s,u,l))},c}function xoe(){return tr.apply(z1(yie,vie,xi,U1,wg,zh,j1,L1,ua,c$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Toe(){return tr.apply(z1(mie,gie,Ti,B1,bg,_g,F1,V1,ua,h$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xg(){var t=0,e=1,n,r,i,o,a=ln,s=!1,u;function l(h){return h==null||isNaN(h=+h)?u:a(i===0?.5:(h=(o(h)-n)*i,s?Math.max(0,Math.min(1,h)):h))}l.domain=function(h){return arguments.length?([t,e]=h,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),l):[t,e]},l.clamp=function(h){return arguments.length?(s=!!h,l):s},l.interpolator=function(h){return arguments.length?(a=h,l):a};function c(h){return function(d){var p,_;return arguments.length?([p,_]=d,a=h(p,_),l):[a(0),a(1)]}}return l.range=c(Vu),l.rangeRound=c(P1),l.unknown=function(h){return arguments.length?(u=h,l):u},function(h){return o=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),l}}function Do(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function f$(){var t=No(xg()(ln));return t.copy=function(){return Do(t,f$())},Oi.apply(t,arguments)}function d$(){var t=R1(xg()).domain([1,10]);return t.copy=function(){return Do(t,d$()).base(t.base())},Oi.apply(t,arguments)}function p$(){var t=N1(xg());return t.copy=function(){return Do(t,p$()).constant(t.constant())},Oi.apply(t,arguments)}function q1(){var t=D1(xg());return t.copy=function(){return Do(t,q1()).exponent(t.exponent())},Oi.apply(t,arguments)}function Eoe(){return q1.apply(null,arguments).exponent(.5)}function m$(){var t=[],e=ln;function n(r){if(r!=null&&!isNaN(r=+r))return e((Fh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(po),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>cre(t,o/r))},n.copy=function(){return m$(e).domain(t)},Oi.apply(n,arguments)}function Tg(){var t=0,e=.5,n=1,r=1,i,o,a,s,u,l=ln,c,h=!1,d;function p(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-o)*(r*g<r*o?s:u),l(h?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(h=!!g,p):h},p.interpolator=function(g){return arguments.length?(l=g,p):l};function _(g){return function(v){var b,y,w;return arguments.length?([b,y,w]=v,l=$re(g,[b,y,w]),p):[l(0),l(.5),l(1)]}}return p.range=_(Vu),p.rangeRound=_(P1),p.unknown=function(g){return arguments.length?(d=g,p):d},function(g){return c=g,i=g(t),o=g(e),a=g(n),s=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function g$(){var t=No(Tg()(ln));return t.copy=function(){return Do(t,g$())},Oi.apply(t,arguments)}function y$(){var t=R1(Tg()).domain([.1,1,10]);return t.copy=function(){return Do(t,y$()).base(t.base())},Oi.apply(t,arguments)}function v$(){var t=N1(Tg());return t.copy=function(){return Do(t,v$()).constant(t.constant())},Oi.apply(t,arguments)}function W1(){var t=D1(Tg());return t.copy=function(){return Do(t,W1()).exponent(t.exponent())},Oi.apply(t,arguments)}function Soe(){return W1.apply(null,arguments).exponent(.5)}const fP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Bc,scalePoint:ec,scaleIdentity:YM,scaleLinear:Fp,scaleLog:JM,scaleSymlog:ZM,scaleOrdinal:S1,scaleImplicit:m_,scalePow:M1,scaleSqrt:oie,scaleRadial:e$,scaleQuantile:t$,scaleQuantize:n$,scaleThreshold:r$,scaleTime:xoe,scaleUtc:Toe,scaleSequential:f$,scaleSequentialLog:d$,scaleSequentialPow:q1,scaleSequentialSqrt:Eoe,scaleSequentialSymlog:p$,scaleSequentialQuantile:m$,scaleDiverging:g$,scaleDivergingLog:y$,scaleDivergingPow:W1,scaleDivergingSqrt:Soe,scaleDivergingSymlog:v$,tickFormat:QM},Symbol.toStringTag,{value:"Module"}));var Ioe=ku;function Aoe(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!Ioe(a):n(a,s)))var s=a,u=o}return u}var _$=Aoe;function Poe(t,e){return t>e}var Ooe=Poe,Coe=_$,koe=Ooe,Roe=Lu;function Noe(t){return t&&t.length?Coe(t,Roe,koe):void 0}var Eg=Noe;function Doe(t,e){return t<e}var Moe=Doe,$oe=_$,Loe=Moe,Voe=Lu;function joe(t){return t&&t.length?$oe(t,Voe,Loe):void 0}var Sg=joe,Foe=i1,Uoe=Ro,Boe=AM,zoe=Sn;function qoe(t,e){var n=zoe(t)?Foe:Boe;return n(t,Uoe(e))}var Woe=qoe,Goe=SM,Koe=Woe;function Hoe(t,e){return Goe(Koe(t,e),1)}var Qoe=Hoe,Yoe=w1;function Xoe(t,e){return Yoe(t,e)}var G1=Xoe,ju=1e9,Joe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},H1,et=!0,er="[DecimalError] ",ma=er+"Invalid argument: ",K1=er+"Exponent out of range: ",Fu=Math.floor,Yo=Math.pow,Zoe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cn,Pt=1e7,Ye=7,w$=9007199254740991,qp=Fu(w$/Ye),oe={};oe.absoluteValue=oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};oe.comparedTo=oe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};oe.decimalPlaces=oe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ye;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};oe.dividedBy=oe.div=function(t){return hi(this,new this.constructor(t))};oe.dividedToIntegerBy=oe.idiv=function(t){var e=this,n=e.constructor;return Ue(hi(e,new n(t),0,1),n.precision)};oe.equals=oe.eq=function(t){return!this.cmp(t)};oe.exponent=function(){return vt(this)};oe.greaterThan=oe.gt=function(t){return this.cmp(t)>0};oe.greaterThanOrEqualTo=oe.gte=function(t){return this.cmp(t)>=0};oe.isInteger=oe.isint=function(){return this.e>this.d.length-2};oe.isNegative=oe.isneg=function(){return this.s<0};oe.isPositive=oe.ispos=function(){return this.s>0};oe.isZero=function(){return this.s===0};oe.lessThan=oe.lt=function(t){return this.cmp(t)<0};oe.lessThanOrEqualTo=oe.lte=function(t){return this.cmp(t)<1};oe.logarithm=oe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Cn))throw Error(er+"NaN");if(n.s<1)throw Error(er+(n.s?"NaN":"-Infinity"));return n.eq(Cn)?new r(0):(et=!1,e=hi(Kc(n,o),Kc(t,o),o),et=!0,Ue(e,i))};oe.minus=oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?T$(e,t):b$(e,(t.s=-t.s,t))};oe.modulo=oe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(er+"NaN");return n.s?(et=!1,e=hi(n,t,0,1).times(t),et=!0,n.minus(e)):Ue(new r(n),i)};oe.naturalExponential=oe.exp=function(){return x$(this)};oe.naturalLogarithm=oe.ln=function(){return Kc(this)};oe.negated=oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};oe.plus=oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?b$(e,t):T$(e,(t.s=-t.s,t))};oe.precision=oe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ma+t);if(e=vt(i)+1,r=i.d.length-1,n=r*Ye+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};oe.squareRoot=oe.sqrt=function(){var t,e,n,r,i,o,a,s=this,u=s.constructor;if(s.s<1){if(!s.s)return new u(0);throw Error(er+"NaN")}for(t=vt(s),et=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=kr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Fu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=a=n+3;;)if(o=r,r=o.plus(hi(s,o,a+2)).times(.5),kr(o.d).slice(0,a)===(e=kr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ue(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return et=!0,Ue(r,n)};oe.times=oe.mul=function(t){var e,n,r,i,o,a,s,u,l,c=this,h=c.constructor,d=c.d,p=(t=new h(t)).d;if(!c.s||!t.s)return new h(0);for(t.s*=c.s,n=c.e+t.e,u=d.length,l=p.length,u<l&&(o=d,d=p,p=o,a=u,u=l,l=a),o=[],a=u+l,r=a;r--;)o.push(0);for(r=l;--r>=0;){for(e=0,i=u+r;i>r;)s=o[i]+p[r]*d[i-r-1]+e,o[i--]=s%Pt|0,e=s/Pt|0;o[i]=(o[i]+e)%Pt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,et?Ue(t,h.precision):t};oe.toDecimalPlaces=oe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ur(t,0,ju),e===void 0?e=r.rounding:Ur(e,0,8),Ue(n,t+vt(n)+1,e))};oe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Na(r,!0):(Ur(t,0,ju),e===void 0?e=i.rounding:Ur(e,0,8),r=Ue(new i(r),t+1,e),n=Na(r,!0,t+1)),n};oe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Na(i):(Ur(t,0,ju),e===void 0?e=o.rounding:Ur(e,0,8),r=Ue(new o(i),t+vt(i)+1,e),n=Na(r.abs(),!1,t+vt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};oe.toInteger=oe.toint=function(){var t=this,e=t.constructor;return Ue(new e(t),vt(t)+1,e.rounding)};oe.toNumber=function(){return+this};oe.toPower=oe.pow=function(t){var e,n,r,i,o,a,s=this,u=s.constructor,l=12,c=+(t=new u(t));if(!t.s)return new u(Cn);if(s=new u(s),!s.s){if(t.s<1)throw Error(er+"Infinity");return s}if(s.eq(Cn))return s;if(r=u.precision,t.eq(Cn))return Ue(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=w$){for(i=new u(Cn),e=Math.ceil(r/Ye+4),et=!1;n%2&&(i=i.times(s),pP(i.d,e)),n=Fu(n/2),n!==0;)s=s.times(s),pP(s.d,e);return et=!0,t.s<0?new u(Cn).div(i):Ue(i,r)}}else if(o<0)throw Error(er+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,et=!1,i=t.times(Kc(s,r+l)),et=!0,i=x$(i),i.s=o,i};oe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=vt(i),r=Na(i,n<=o.toExpNeg||n>=o.toExpPos)):(Ur(t,1,ju),e===void 0?e=o.rounding:Ur(e,0,8),i=Ue(new o(i),t,e),n=vt(i),r=Na(i,t<=n||n<=o.toExpNeg,t)),r};oe.toSignificantDigits=oe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ur(t,1,ju),e===void 0?e=r.rounding:Ur(e,0,8)),Ue(new r(n),t,e)};oe.toString=oe.valueOf=oe.val=oe.toJSON=oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=vt(t),n=t.constructor;return Na(t,e<=n.toExpNeg||e>=n.toExpPos)};function b$(t,e){var n,r,i,o,a,s,u,l,c=t.constructor,h=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),et?Ue(e,h):e;if(u=t.d,l=e.d,a=t.e,i=e.e,u=u.slice(),o=a-i,o){for(o<0?(r=u,o=-o,s=l.length):(r=l,i=a,s=u.length),a=Math.ceil(h/Ye),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=u.length,o=l.length,s-o<0&&(o=s,r=l,l=u,u=r),n=0;o;)n=(u[--o]=u[o]+l[o]+n)/Pt|0,u[o]%=Pt;for(n&&(u.unshift(n),++i),s=u.length;u[--s]==0;)u.pop();return e.d=u,e.e=i,et?Ue(e,h):e}function Ur(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ma+t)}function kr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Ye-r.length,n&&(o+=Fi(n)),o+=r;a=t[e],r=a+"",n=Ye-r.length,n&&(o+=Fi(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var hi=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Pt|0,a=o/Pt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,u;if(o!=a)u=o>a?1:-1;else for(s=u=0;s<o;s++)if(r[s]!=i[s]){u=r[s]>i[s]?1:-1;break}return u}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Pt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,u,l,c,h,d,p,_,g,v,b,y,w,x,T,A,I,E,P=r.constructor,O=r.s==i.s?1:-1,R=r.d,N=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(er+"Division by zero");for(u=r.e-i.e,I=N.length,T=R.length,p=new P(O),_=p.d=[],l=0;N[l]==(R[l]||0);)++l;if(N[l]>(R[l]||0)&&--u,o==null?y=o=P.precision:a?y=o+(vt(r)-vt(i))+1:y=o,y<0)return new P(0);if(y=y/Ye+2|0,l=0,I==1)for(c=0,N=N[0],y++;(l<T||c)&&y--;l++)w=c*Pt+(R[l]||0),_[l]=w/N|0,c=w%N|0;else{for(c=Pt/(N[0]+1)|0,c>1&&(N=t(N,c),R=t(R,c),I=N.length,T=R.length),x=I,g=R.slice(0,I),v=g.length;v<I;)g[v++]=0;E=N.slice(),E.unshift(0),A=N[0],N[1]>=Pt/2&&++A;do c=0,s=e(N,g,I,v),s<0?(b=g[0],I!=v&&(b=b*Pt+(g[1]||0)),c=b/A|0,c>1?(c>=Pt&&(c=Pt-1),h=t(N,c),d=h.length,v=g.length,s=e(h,g,d,v),s==1&&(c--,n(h,I<d?E:N,d))):(c==0&&(s=c=1),h=N.slice()),d=h.length,d<v&&h.unshift(0),n(g,h,v),s==-1&&(v=g.length,s=e(N,g,I,v),s<1&&(c++,n(g,I<v?E:N,v))),v=g.length):s===0&&(c++,g=[0]),_[l++]=c,s&&g[0]?g[v++]=R[x]||0:(g=[R[x]],v=1);while((x++<T||g[0]!==void 0)&&y--)}return _[0]||_.shift(),p.e=u,Ue(p,a?o+vt(p)+1:o)}}();function x$(t,e){var n,r,i,o,a,s,u=0,l=0,c=t.constructor,h=c.precision;if(vt(t)>16)throw Error(K1+vt(t));if(!t.s)return new c(Cn);for(e==null?(et=!1,s=h):s=e,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),l+=5;for(r=Math.log(Yo(2,l))/Math.LN10*2+5|0,s+=r,n=i=o=new c(Cn),c.precision=s;;){if(i=Ue(i.times(t),s),n=n.times(++u),a=o.plus(hi(i,n,s)),kr(a.d).slice(0,s)===kr(o.d).slice(0,s)){for(;l--;)o=Ue(o.times(o),s);return c.precision=h,e==null?(et=!0,Ue(o,h)):o}o=a}}function vt(t){for(var e=t.e*Ye,n=t.d[0];n>=10;n/=10)e++;return e}function iv(t,e,n){if(e>t.LN10.sd())throw et=!0,n&&(t.precision=n),Error(er+"LN10 precision limit exceeded");return Ue(new t(t.LN10),e)}function Fi(t){for(var e="";t--;)e+="0";return e}function Kc(t,e){var n,r,i,o,a,s,u,l,c,h=1,d=10,p=t,_=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(er+(p.s?"NaN":"-Infinity"));if(p.eq(Cn))return new g(0);if(e==null?(et=!1,l=v):l=e,p.eq(10))return e==null&&(et=!0),iv(g,l);if(l+=d,g.precision=l,n=kr(_),r=n.charAt(0),o=vt(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=kr(p.d),r=n.charAt(0),h++;o=vt(p),r>1?(p=new g("0."+n),o++):p=new g(r+"."+n.slice(1))}else return u=iv(g,l+2,v).times(o+""),p=Kc(new g(r+"."+n.slice(1)),l-d).plus(u),g.precision=v,e==null?(et=!0,Ue(p,v)):p;for(s=a=p=hi(p.minus(Cn),p.plus(Cn),l),c=Ue(p.times(p),l),i=3;;){if(a=Ue(a.times(c),l),u=s.plus(hi(a,new g(i),l)),kr(u.d).slice(0,l)===kr(s.d).slice(0,l))return s=s.times(2),o!==0&&(s=s.plus(iv(g,l+2,v).times(o+""))),s=hi(s,new g(h),l),g.precision=v,e==null?(et=!0,Ue(s,v)):s;s=u,i+=2}}function dP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Fu(n/Ye),t.d=[],r=(n+1)%Ye,n<0&&(r+=Ye),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ye;r<i;)t.d.push(+e.slice(r,r+=Ye));e=e.slice(r),r=Ye-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),et&&(t.e>qp||t.e<-qp))throw Error(K1+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ue(t,e,n){var r,i,o,a,s,u,l,c,h=t.d;for(a=1,o=h[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Ye,i=e,l=h[c=0];else{if(c=Math.ceil((r+1)/Ye),o=h.length,c>=o)return t;for(l=o=h[c],a=1;o>=10;o/=10)a++;r%=Ye,i=r-Ye+a}if(n!==void 0&&(o=Yo(10,a-i-1),s=l/o%10|0,u=e<0||h[c+1]!==void 0||l%o,u=n<4?(s||u)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||u||n==6&&(r>0?i>0?l/Yo(10,a-i):0:h[c-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return u?(o=vt(t),h.length=1,e=e-o-1,h[0]=Yo(10,(Ye-e%Ye)%Ye),t.e=Fu(-e/Ye)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=c,o=1,c--):(h.length=c+1,o=Yo(10,Ye-r),h[c]=i>0?(l/Yo(10,a-i)%Yo(10,i)|0)*o:0),u)for(;;)if(c==0){(h[0]+=o)==Pt&&(h[0]=1,++t.e);break}else{if(h[c]+=o,h[c]!=Pt)break;h[c--]=0,o=1}for(r=h.length;h[--r]===0;)h.pop();if(et&&(t.e>qp||t.e<-qp))throw Error(K1+vt(t));return t}function T$(t,e){var n,r,i,o,a,s,u,l,c,h,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),et?Ue(e,p):e;if(u=t.d,h=e.d,r=e.e,l=t.e,u=u.slice(),a=l-r,a){for(c=a<0,c?(n=u,a=-a,s=h.length):(n=h,r=l,s=u.length),i=Math.max(Math.ceil(p/Ye),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=u.length,s=h.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(u[i]!=h[i]){c=u[i]<h[i];break}a=0}for(c&&(n=u,u=h,h=n,e.s=-e.s),s=u.length,i=h.length-s;i>0;--i)u[s++]=0;for(i=h.length;i>a;){if(u[--i]<h[i]){for(o=i;o&&u[--o]===0;)u[o]=Pt-1;--u[o],u[i]+=Pt}u[i]-=h[i]}for(;u[--s]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,et?Ue(e,p):e):new d(0)}function Na(t,e,n){var r,i=vt(t),o=kr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Fi(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Fi(-i-1)+o,n&&(r=n-a)>0&&(o+=Fi(r))):i>=a?(o+=Fi(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Fi(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Fi(r))),t.s<0?"-"+o:o}function pP(t,e){if(t.length>e)return t.length=e,!0}function E$(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ma+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return dP(a,o.toString())}else if(typeof o!="string")throw Error(ma+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Zoe.test(o))dP(a,o);else throw Error(ma+o)}if(i.prototype=oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=E$,i.config=i.set=eae,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function eae(t){if(!t||typeof t!="object")throw Error(er+"Object expected");var e,n,r,i=["precision",1,ju,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Fu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ma+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ma+n+": "+r);return this}var H1=E$(Joe);Cn=new H1(1);const Le=H1;function tae(t){return oae(t)||iae(t)||rae(t)||nae()}function nae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rae(t,e){if(!!t){if(typeof t=="string")return __(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return __(t,e)}}function iae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function oae(t){if(Array.isArray(t))return __(t)}function __(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var aae=function(e){return e},S$={"@@functional/placeholder":!0},I$=function(e){return e===S$},mP=function(e){return function n(){return arguments.length===0||arguments.length===1&&I$(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},sae=function t(e,n){return e===1?n:mP(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==S$}).length;return a>=e?n.apply(void 0,i):t(e-a,mP(function(){for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];var c=i.map(function(h){return I$(h)?u.shift():h});return n.apply(void 0,tae(c).concat(u))}))})},Ig=function(e){return sae(e.length,e)},w_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},uae=Ig(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),lae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return aae;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,u){return u(s)},o.apply(void 0,arguments))}},b_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},A$=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,u){return s===n[u]})||(n=o,r=e.apply(void 0,o)),r}};function cae(t){var e;return t===0?e=1:e=Math.floor(new Le(t).abs().log(10).toNumber())+1,e}function hae(t,e,n){for(var r=new Le(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var fae=Ig(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),dae=Ig(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),pae=Ig(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Ag={rangeStep:hae,getDigitCount:cae,interpolateNumber:fae,uninterpolateNumber:dae,uninterpolateTruncation:pae};function x_(t){return yae(t)||gae(t)||P$(t)||mae()}function mae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function yae(t){if(Array.isArray(t))return T_(t)}function Hc(t,e){return wae(t)||_ae(t,e)||P$(t,e)||vae()}function vae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P$(t,e){if(!!t){if(typeof t=="string")return T_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T_(t,e)}}function T_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _ae(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(u){i=!0,o=u}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function wae(t){if(Array.isArray(t))return t}function O$(t){var e=Hc(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function C$(t,e,n){if(t.lte(0))return new Le(0);var r=Ag.getDigitCount(t.toNumber()),i=new Le(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Le(Math.ceil(o.div(a).toNumber())).add(n).mul(a),u=s.mul(i);return e?u:new Le(Math.ceil(u))}function bae(t,e,n){var r=1,i=new Le(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Le(10).pow(Ag.getDigitCount(t)-1),i=new Le(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Le(Math.floor(t)))}else t===0?i=new Le(Math.floor((e-1)/2)):n||(i=new Le(Math.floor(t)));var a=Math.floor((e-1)/2),s=lae(uae(function(u){return i.add(new Le(u-a).mul(r)).toNumber()}),w_);return s(0,e)}function k$(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Le(0),tickMin:new Le(0),tickMax:new Le(0)};var o=C$(new Le(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Le(0):(a=new Le(t).add(e).div(2),a=a.sub(new Le(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),u=Math.ceil(new Le(e).sub(a).div(o).toNumber()),l=s+u+1;return l>n?k$(t,e,n,r,i+1):(l<n&&(u=e>0?u+(n-l):u,s=e>0?s:s+(n-l)),{step:o,tickMin:a.sub(new Le(s).mul(o)),tickMax:a.add(new Le(u).mul(o))})}function xae(t){var e=Hc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=O$([n,r]),u=Hc(s,2),l=u[0],c=u[1];if(l===-1/0||c===1/0){var h=c===1/0?[l].concat(x_(w_(0,i-1).map(function(){return 1/0}))):[].concat(x_(w_(0,i-1).map(function(){return-1/0})),[c]);return n>r?b_(h):h}if(l===c)return bae(l,i,o);var d=k$(l,c,a,o),p=d.step,_=d.tickMin,g=d.tickMax,v=Ag.rangeStep(_,g.add(new Le(.1).mul(p)),p);return n>r?b_(v):v}function Tae(t,e){var n=Hc(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=O$([r,i]),s=Hc(a,2),u=s[0],l=s[1];if(u===-1/0||l===1/0)return[r,i];if(u===l)return[u];var c=Math.max(e,2),h=C$(new Le(l).sub(u).div(c-1),o,0),d=[].concat(x_(Ag.rangeStep(new Le(u),new Le(l).sub(new Le(.99).mul(h)),h)),[l]);return r>i?b_(d):d}var Eae=A$(xae),Sae=A$(Tae),Iae=!0,ov="Invariant failed";function Da(t,e){if(!t){if(Iae)throw new Error(ov);var n=typeof e=="function"?e():e,r=n?"".concat(ov,": ").concat(n):ov;throw new Error(r)}}var Aae=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Pae(t,e){return Rae(t)||kae(t,e)||Cae(t,e)||Oae()}function Oae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cae(t,e){if(!!t){if(typeof t=="string")return gP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gP(t,e)}}function gP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function Rae(t){if(Array.isArray(t))return t}function Nae(t,e){if(t==null)return{};var n=Dae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function Dae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Pg(t){var e=t.offset,n=t.layout,r=t.width,i=t.dataKey,o=t.data,a=t.dataPointFormatter,s=t.xAxis,u=t.yAxis,l=Nae(t,Aae),c=Oe(l,!1);t.direction==="x"&&s.type!=="number"&&Da(!1);var h=o.map(function(d){var p=a(d,i),_=p.x,g=p.y,v=p.value,b=p.errorVal;if(!b)return null;var y=[],w,x;if(Array.isArray(b)){var T=Pae(b,2);w=T[0],x=T[1]}else w=x=b;if(n==="vertical"){var A=s.scale,I=g+e,E=I+r,P=I-r,O=A(v-w),R=A(v+x);y.push({x1:R,y1:E,x2:R,y2:P}),y.push({x1:O,y1:I,x2:R,y2:I}),y.push({x1:O,y1:E,x2:O,y2:P})}else if(n==="horizontal"){var N=u.scale,C=_+e,F=C-r,K=C+r,z=N(v-w),Q=N(v+x);y.push({x1:F,y1:Q,x2:K,y2:Q}),y.push({x1:C,y1:z,x2:C,y2:Q}),y.push({x1:F,y1:z,x2:K,y2:z})}return D(kt,{className:"recharts-errorBar",...c,children:y.map(function(V){return M.exports.createElement("line",{...V,key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)})})},"bar-".concat(y.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)})))});return D(kt,{className:"recharts-errorBars",children:h})}Pg.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};Pg.displayName="ErrorBar";function Qc(t){return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function yP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function av(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(n),!0).forEach(function(r){Mae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mae(t,e,n){return e=$ae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ae(t){var e=Lae(t,"string");return Qc(e)=="symbol"?e:String(e)}function Lae(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var R$=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=On(n,su);if(!a)return null;var s;return a.props&&a.props.payload?s=a.props&&a.props.payload:o==="children"?s=(r||[]).reduce(function(u,l){var c=l.item,h=l.props,d=h.sectors||h.data||[];return u.concat(d.map(function(p){return{type:a.props.iconType||c.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):s=(r||[]).map(function(u){var l=u.item,c=l.props,h=c.dataKey,d=c.name,p=c.legendType,_=c.hide;return{inactive:_,dataKey:h,type:a.props.iconType||p||"square",color:Q1(l),value:d||h,payload:l.props}}),av(av(av({},a.props),su.getWithHeight(a,i)),{},{payload:s,item:a})};function Yc(t){return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function vP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vP(Object(n),!0).forEach(function(r){Ls(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ls(t,e,n){return e=Vae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vae(t){var e=jae(t,"string");return Yc(e)=="symbol"?e:String(e)}function jae(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _P(t){return zae(t)||Bae(t)||Uae(t)||Fae()}function Fae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uae(t,e){if(!!t){if(typeof t=="string")return E_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E_(t,e)}}function Bae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zae(t){if(Array.isArray(t))return E_(t)}function E_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Br(t,e,n){return ke(t)||ke(e)?n:Tt(e)?$n(t,e,n):_e(e)?e(t):n}function tc(t,e,n,r){var i=Qoe(t,function(s){return Br(s,e)});if(n==="number"){var o=i.filter(function(s){return ee(s)||parseFloat(s)});return o.length?[Sg(o),Eg(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!ke(s)}):i;return a.map(function(s){return Tt(s)||s instanceof Date?s:""})}var qae=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var u=o.range,l=0;l<s;l++){var c=l>0?i[l-1].coordinate:i[s-1].coordinate,h=i[l].coordinate,d=l>=s-1?i[0].coordinate:i[l+1].coordinate,p=void 0;if(pr(h-c)!==pr(d-h)){var _=[];if(pr(d-h)===pr(u[1]-u[0])){p=d;var g=h+u[1]-u[0];_[0]=Math.min(g,(g+c)/2),_[1]=Math.max(g,(g+c)/2)}else{p=c;var v=d+u[1]-u[0];_[0]=Math.min(h,(v+h)/2),_[1]=Math.max(h,(v+h)/2)}var b=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(e>b[0]&&e<=b[1]||e>=_[0]&&e<=_[1]){a=i[l].index;break}}else{var y=Math.min(c,d),w=Math.max(c,d);if(e>(y+h)/2&&e<=(w+h)/2){a=i[l].index;break}}}else for(var x=0;x<s;x++)if(x===0&&e<=(r[x].coordinate+r[x+1].coordinate)/2||x>0&&x<s-1&&e>(r[x].coordinate+r[x-1].coordinate)/2&&e<=(r[x].coordinate+r[x+1].coordinate)/2||x===s-1&&e>(r[x].coordinate+r[x-1].coordinate)/2){a=r[x].index;break}return a},Q1=function(e){var n=e,r=n.type.displayName,i=e.props,o=i.stroke,a=i.fill,s;switch(r){case"Line":s=o;break;case"Area":case"Radar":s=o&&o!=="none"?o:a;break;default:s=a;break}return s},Wae=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),u=0,l=s.length;u<l;u++)for(var c=o[s[u]].stackGroups,h=Object.keys(c),d=0,p=h.length;d<p;d++){var _=c[h[d]],g=_.items,v=_.cateAxisId,b=g.filter(function(T){return li(T.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].props.barSize,w=b[0].props[v];a[w]||(a[w]=[]);var x=ke(y)?n:y;a[w].push({item:b[0],stackList:b.slice(1),barSize:ke(x)?void 0:Ra(x,r,0)})}}return a},Gae=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,u=a.length;if(u<1)return null;var l=Ra(n,i,0,!0),c,h=[];if(a[0].barSize===+a[0].barSize){var d=!1,p=i/u,_=a.reduce(function(x,T){return x+T.barSize||0},0);_+=(u-1)*l,_>=i&&(_-=(u-1)*l,l=0),_>=i&&p>0&&(d=!0,p*=.9,_=u*p);var g=(i-_)/2>>0,v={offset:g-l,size:0};c=a.reduce(function(x,T){var A={item:T.item,position:{offset:v.offset+v.size+l,size:d?p:T.barSize}},I=[].concat(_P(x),[A]);return v=I[I.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){I.push({item:E,position:v})}),I},h)}else{var b=Ra(r,i,0,!0);i-2*b-(u-1)*l<=0&&(l=0);var y=(i-2*b-(u-1)*l)/u;y>1&&(y>>=0);var w=s===+s?Math.min(y,s):y;c=a.reduce(function(x,T,A){var I=[].concat(_P(x),[{item:T.item,position:{offset:b+(y+l)*A+(y-w)/2,size:w}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){I.push({item:E,position:I[I.length-1].position})}),I},h)}return c},Kae=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,u=a-(s.left||0)-(s.right||0),l=R$({children:o,legendWidth:u});if(l){var c=i||{},h=c.width,d=c.height,p=l.align,_=l.verticalAlign,g=l.layout;if((g==="vertical"||g==="horizontal"&&_==="middle")&&p!=="center"&&ee(e[p]))return Hn(Hn({},e),{},Ls({},p,e[p]+(h||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&_!=="middle"&&ee(e[_]))return Hn(Hn({},e),{},Ls({},_,e[_]+(d||0)))}return e},Hae=function(e,n,r){return ke(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},N$=function(e,n,r,i,o){var a=n.props.children,s=_r(a,Pg).filter(function(l){return Hae(i,o,l.props.direction)});if(s&&s.length){var u=s.map(function(l){return l.props.dataKey});return e.reduce(function(l,c){var h=Br(c,r);if(ke(h))return l;var d=Array.isArray(h)?[Sg(h),Eg(h)]:[h,h],p=u.reduce(function(_,g){var v=Br(c,g,0),b=d[0]-Math.abs(Array.isArray(v)?v[0]:v),y=d[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,_[0]),Math.max(y,_[1])]},[1/0,-1/0]);return[Math.min(p[0],l[0]),Math.max(p[1],l[1])]},[1/0,-1/0])}return null},Qae=function(e,n,r,i,o){var a=n.map(function(s){return N$(e,s,r,o,i)}).filter(function(s){return!ke(s)});return a&&a.length?a.reduce(function(s,u){return[Math.min(s[0],u[0]),Math.max(s[1],u[1])]},[1/0,-1/0]):null},D$=function(e,n,r,i,o){var a=n.map(function(u){var l=u.props.dataKey;return r==="number"&&l&&N$(e,u,l,i)||tc(e,l,r,o)});if(r==="number")return a.reduce(function(u,l){return[Math.min(u[0],l[0]),Math.max(u[1],l[1])]},[1/0,-1/0]);var s={};return a.reduce(function(u,l){for(var c=0,h=l.length;c<h;c++)s[l[c]]||(s[l[c]]=!0,u.push(l[c]));return u},[])},M$=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},$$=function(e,n,r,i){if(i)return e.map(function(u){return u.coordinate});var o,a,s=e.map(function(u){return u.coordinate===n&&(o=!0),u.coordinate===r&&(a=!0),u.coordinate});return o||s.push(n),a||s.push(r),s},ai=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,u=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,l=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/u:0;if(l=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?pr(s[0]-s[1])*2*l:l,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(h){var d=o?o.indexOf(h):h;return{coordinate:i(d)+l,value:h,offset:l}});return c.filter(function(h){return!Vh(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,d){return{coordinate:i(h)+l,value:h,index:d,offset:l}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+l,value:h,offset:l}}):i.domain().map(function(h,d){return{coordinate:i(h)+l,value:o?o[h]:h,index:d,offset:l}})},sv=new WeakMap,zf=function(e,n){if(typeof n!="function")return e;sv.has(e)||sv.set(e,new WeakMap);var r=sv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Yae=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Bc(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Fp(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ec(),realScaleType:"point"}:o==="category"?{scale:Bc(),realScaleType:"band"}:{scale:Fp(),realScaleType:"linear"};if(Lh(i)){var u="scale".concat(hg(i));return{scale:(fP[u]||ec)(),realScaleType:fP[u]?u:"point"}}return _e(i)?{scale:i}:{scale:ec(),realScaleType:"point"}},wP=1e-4,Xae=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-wP,a=Math.max(i[0],i[1])+wP,s=e(n[0]),u=e(n[r-1]);(s<o||s>a||u<o||u>a)&&e.domain([n[0],n[r-1]])}},Jae=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Zae=function(e,n){if(!n||n.length!==2||!ee(n[0])||!ee(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ee(e[0])||e[0]<r)&&(o[0]=r),(!ee(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},ese=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var u=Vh(e[s][r][1])?e[s][r][0]:e[s][r][1];u>=0?(e[s][r][0]=o,e[s][r][1]=o+u,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+u,a=e[s][r][1])}},tse=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Vh(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},nse={sign:ese,expand:MH,none:iu,silhouette:$H,wiggle:LH,positive:tse},rse=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=nse[r],a=DH().keys(i).value(function(s,u){return+Br(s,u,0)}).order(J0).offset(o);return a(e)},ise=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,u={},l=s.reduce(function(h,d){var p=d.props,_=p.stackId,g=p.hide;if(g)return h;var v=d.props[r],b=h[v]||{hasStack:!1,stackGroups:{}};if(Tt(_)){var y=b.stackGroups[_]||{numericAxisId:r,cateAxisId:i,items:[]};y.items.push(d),b.hasStack=!0,b.stackGroups[_]=y}else b.stackGroups[cg("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return Hn(Hn({},h),{},Ls({},v,b))},u),c={};return Object.keys(l).reduce(function(h,d){var p=l[d];if(p.hasStack){var _={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var b=p.stackGroups[v];return Hn(Hn({},g),{},Ls({},v,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:rse(e,b.items,o)}))},_)}return Hn(Hn({},h),{},Ls({},d,p))},c)},ose=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,u=r||n.scale;if(u!=="auto"&&u!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var l=e.domain();if(!l.length)return null;var c=Eae(l,o,s);return e.domain([Sg(c),Eg(c)]),{niceTicks:c}}if(o&&i==="number"){var h=e.domain(),d=Sae(h,o,s);return{niceTicks:d}}return null},bP=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var u=Br(a,n.dataKey,n.domain[s]);return ke(u)?null:n.scale(u)-o/2+i},ase=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},sse=function(e,n){var r=e.props.stackId;if(Tt(r)){var i=n[r];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null},use=function(e){return e.reduce(function(n,r){return[Sg(r.concat([n[0]]).filter(ee)),Eg(r.concat([n[1]]).filter(ee))]},[1/0,-1/0])},L$=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,u=s.reduce(function(l,c){var h=use(c.slice(n,r+1));return[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},xP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,S_=function(e,n,r){if(_e(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ee(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(xP.test(e[0])){var o=+xP.exec(e[0])[1];i[0]=n[0]-o}else _e(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ee(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(TP.test(e[1])){var a=+TP.exec(e[1])[1];i[1]=n[1]+a}else _e(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Wp=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=x1(n,function(h){return h.coordinate}),a=1/0,s=1,u=o.length;s<u;s++){var l=o[s],c=o[s-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},EP=function(e,n,r){return!e||!e.length||G1(e,$n(r,"type.defaultProps.domain"))?n:e},V$=function(e,n){var r=e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,u=r.tooltipType,l=r.chartType,c=r.hide;return Hn(Hn({},Oe(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:Q1(e),value:Br(n,i),type:u,payload:n,chartType:l,hide:c})};function Xc(t){return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){lse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lse(t,e,n){return e=cse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cse(t){var e=hse(t,"string");return Xc(e)=="symbol"?e:String(e)}function hse(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gp=Math.PI/180,fse=function(e){return e*180/Math.PI},Ut=function(e,n,r,i){return{x:e+Math.cos(-Gp*i)*r,y:n+Math.sin(-Gp*i)*r}},dse=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},pse=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=dse({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var u=(r-o)/s,l=Math.acos(u);return i>a&&(l=2*Math.PI-l),{radius:s,angle:fse(l),angleInRadian:l}},mse=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},gse=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},AP=function(e,n){var r=e.x,i=e.y,o=pse({x:r,y:i},n),a=o.radius,s=o.angle,u=n.innerRadius,l=n.outerRadius;if(a<u||a>l)return!1;if(a===0)return!0;var c=mse(n),h=c.startAngle,d=c.endAngle,p=s,_;if(h<=d){for(;p>d;)p-=360;for(;p<h;)p+=360;_=p>=h&&p<=d}else{for(;p>h;)p-=360;for(;p<d;)p+=360;_=p>=d&&p<=h}return _?IP(IP({},n),{},{radius:a,angle:gse(p,n)}):null};function Jc(t){return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}var yse=["offset"];function vse(t){return xse(t)||bse(t)||wse(t)||_se()}function _se(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wse(t,e){if(!!t){if(typeof t=="string")return I_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I_(t,e)}}function bse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xse(t){if(Array.isArray(t))return I_(t)}function I_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tse(t,e){if(t==null)return{};var n=Ese(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function Ese(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function PP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(n),!0).forEach(function(r){Sse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sse(t,e,n){return e=Ise(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ise(t){var e=Ase(t,"string");return Jc(e)=="symbol"?e:String(e)}function Ase(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pse=function(e){var n=e.value,r=e.formatter,i=ke(e.children)?n:e.children;return _e(r)?r(i):i},Ose=function(e,n){var r=pr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Cse=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,u=o,l=u.cx,c=u.cy,h=u.innerRadius,d=u.outerRadius,p=u.startAngle,_=u.endAngle,g=u.clockWise,v=(h+d)/2,b=Ose(p,_),y=b>=0?1:-1,w,x;i==="insideStart"?(w=p+y*a,x=g):i==="insideEnd"?(w=_-y*a,x=!g):i==="end"&&(w=_+y*a,x=g),x=b<=0?x:!x;var T=Ut(l,c,v,w),A=Ut(l,c,v,w+(x?1:-1)*359),I="M".concat(T.x,",").concat(T.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(x?0:1,`,
    `).concat(A.x,",").concat(A.y),E=ke(e.id)?cg("recharts-radial-line-"):e.id;return X("text",{...r,dominantBaseline:"central",className:Re("recharts-radial-bar-label",s),children:[D("defs",{children:D("path",{id:E,d:I})}),D("textPath",{xlinkHref:"#".concat(E),children:n})]})},kse=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,u=o.innerRadius,l=o.outerRadius,c=o.startAngle,h=o.endAngle,d=(c+h)/2;if(i==="outside"){var p=Ut(a,s,l+r,d),_=p.x,g=p.y;return{x:_,y:g,textAnchor:_>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(u+l)/2,b=Ut(a,s,v,d),y=b.x,w=b.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Rse=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,u=a.y,l=a.width,c=a.height,h=c>=0?1:-1,d=h*i,p=h>0?"end":"start",_=h>0?"start":"end",g=l>=0?1:-1,v=g*i,b=g>0?"end":"start",y=g>0?"start":"end";if(o==="top"){var w={x:s+l/2,y:u-h*i,textAnchor:"middle",verticalAnchor:p};return wt(wt({},w),r?{height:Math.max(u-r.y,0),width:l}:{})}if(o==="bottom"){var x={x:s+l/2,y:u+c+d,textAnchor:"middle",verticalAnchor:_};return wt(wt({},x),r?{height:Math.max(r.y+r.height-(u+c),0),width:l}:{})}if(o==="left"){var T={x:s-v,y:u+c/2,textAnchor:b,verticalAnchor:"middle"};return wt(wt({},T),r?{width:Math.max(T.x-r.x,0),height:c}:{})}if(o==="right"){var A={x:s+l+v,y:u+c/2,textAnchor:y,verticalAnchor:"middle"};return wt(wt({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:c}:{})}var I=r?{width:l,height:c}:{};return o==="insideLeft"?wt({x:s+v,y:u+c/2,textAnchor:y,verticalAnchor:"middle"},I):o==="insideRight"?wt({x:s+l-v,y:u+c/2,textAnchor:b,verticalAnchor:"middle"},I):o==="insideTop"?wt({x:s+l/2,y:u+d,textAnchor:"middle",verticalAnchor:_},I):o==="insideBottom"?wt({x:s+l/2,y:u+c-d,textAnchor:"middle",verticalAnchor:p},I):o==="insideTopLeft"?wt({x:s+v,y:u+d,textAnchor:y,verticalAnchor:_},I):o==="insideTopRight"?wt({x:s+l-v,y:u+d,textAnchor:b,verticalAnchor:_},I):o==="insideBottomLeft"?wt({x:s+v,y:u+c-d,textAnchor:y,verticalAnchor:p},I):o==="insideBottomRight"?wt({x:s+l-v,y:u+c-d,textAnchor:b,verticalAnchor:p},I):Un(o)&&(ee(o.x)||aa(o.x))&&(ee(o.y)||aa(o.y))?wt({x:s+Ra(o.x,l),y:u+Ra(o.y,c),textAnchor:"end",verticalAnchor:"end"},I):wt({x:s+l/2,y:u+c/2,textAnchor:"middle",verticalAnchor:"middle"},I)},Nse=function(e){return"cx"in e&&ee(e.cx)};function Zt(t){var e=t.offset,n=e===void 0?5:e,r=Tse(t,yse),i=wt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,u=i.children,l=i.content,c=i.className,h=c===void 0?"":c,d=i.textBreakAll;if(!o||ke(s)&&ke(u)&&!M.exports.isValidElement(l)&&!_e(l))return null;if(M.exports.isValidElement(l))return M.exports.cloneElement(l,i);var p;if(_e(l)){if(p=M.exports.createElement(l,i),M.exports.isValidElement(p))return p}else p=Pse(i);var _=Nse(o),g=Oe(i,!0);if(_&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Cse(i,p,g);var v=_?kse(i):Rse(i);return D(Np,{className:Re("recharts-label",h),...g,...v,breakAll:d,children:p})}Zt.displayName="Label";var j$=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,u=e.radius,l=e.innerRadius,c=e.outerRadius,h=e.x,d=e.y,p=e.top,_=e.left,g=e.width,v=e.height,b=e.clockWise,y=e.labelViewBox;if(y)return y;if(ee(g)&&ee(v)){if(ee(h)&&ee(d))return{x:h,y:d,width:g,height:v};if(ee(p)&&ee(_))return{x:p,y:_,width:g,height:v}}return ee(h)&&ee(d)?{x:h,y:d,width:0,height:0}:ee(n)&&ee(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:l||0,outerRadius:c||u||s||0,clockWise:b}:e.viewBox?e.viewBox:{}},Dse=function(e,n){return e?e===!0?D(Zt,{viewBox:n},"label-implicit"):Tt(e)?D(Zt,{viewBox:n,value:e},"label-implicit"):M.exports.isValidElement(e)?e.type===Zt?M.exports.cloneElement(e,{key:"label-implicit",viewBox:n}):D(Zt,{content:e,viewBox:n},"label-implicit"):_e(e)?D(Zt,{content:e,viewBox:n},"label-implicit"):Un(e)?M.exports.createElement(Zt,{viewBox:n,...e,key:"label-implicit"}):null:null},Mse=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=j$(e),a=_r(i,Zt).map(function(u,l){return M.exports.cloneElement(u,{viewBox:n||o,key:"label-".concat(l)})});if(!r)return a;var s=Dse(e.label,n||o);return[s].concat(vse(a))};Zt.parseViewBox=j$;Zt.renderCallByParent=Mse;function $se(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Lse=$se;function Zc(t){return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}var Vse=["valueAccessor"],jse=["data","dataKey","clockWise","id","textBreakAll"];function Fse(t){return qse(t)||zse(t)||Bse(t)||Use()}function Use(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bse(t,e){if(!!t){if(typeof t=="string")return A_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A_(t,e)}}function zse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qse(t){if(Array.isArray(t))return A_(t)}function A_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(n),!0).forEach(function(r){Wse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wse(t,e,n){return e=Gse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gse(t){var e=Kse(t,"string");return Zc(e)=="symbol"?e:String(e)}function Kse(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kP(t,e){if(t==null)return{};var n=Hse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function Hse(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Qse=function(e){return Array.isArray(e.value)?Lse(e.value):e.value};function ga(t){var e=t.valueAccessor,n=e===void 0?Qse:e,r=kP(t,Vse),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,u=r.textBreakAll,l=kP(r,jse);return!i||!i.length?null:D(kt,{className:"recharts-label-list",children:i.map(function(c,h){var d=ke(o)?n(c,h):Br(c&&c.payload,o),p=ke(s)?{}:{id:"".concat(s,"-").concat(h)};return M.exports.createElement(Zt,{...Oe(c,!0),...l,...p,parentViewBox:c.parentViewBox,value:d,textBreakAll:u,viewBox:Zt.parseViewBox(ke(a)?c:CP(CP({},c),{},{clockWise:a})),key:"label-".concat(h),index:h})})})}ga.displayName="LabelList";function Yse(t,e){return t?t===!0?D(ga,{data:e},"labelList-implicit"):Ne.isValidElement(t)||_e(t)?D(ga,{data:e,content:t},"labelList-implicit"):Un(t)?M.exports.createElement(ga,{data:e,...t,key:"labelList-implicit"}):null:null}function Xse(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=_r(r,ga).map(function(a,s){return M.exports.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=Yse(t.label,e);return[o].concat(Fse(i))}ga.renderCallByParent=Xse;function eh(t){return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}function RP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(n),!0).forEach(function(r){Jse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jse(t,e,n){return e=Zse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zse(t){var e=eue(t,"string");return eh(e)=="symbol"?e:String(e)}function eue(t,e){if(eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tue=function(e,n){var r=pr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},qf=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,u=e.cornerRadius,l=e.cornerIsExternal,c=u*(s?1:-1)+i,h=Math.asin(u/c)/Gp,d=l?o:o+a*h,p=Ut(n,r,c,d),_=Ut(n,r,i,d),g=l?o-a*h:o,v=Ut(n,r,c*Math.cos(h*Gp),g);return{center:p,circleTangency:_,lineTangency:v,theta:h}},F$=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,u=tue(a,s),l=a+u,c=Ut(n,r,o,a),h=Ut(n,r,o,l),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>l),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var p=Ut(n,r,i,a),_=Ut(n,r,i,l);d+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=l),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},nue=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,u=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,h=pr(c-l),d=qf({cx:n,cy:r,radius:o,angle:l,sign:h,cornerRadius:a,cornerIsExternal:u}),p=d.circleTangency,_=d.lineTangency,g=d.theta,v=qf({cx:n,cy:r,radius:o,angle:c,sign:-h,cornerRadius:a,cornerIsExternal:u}),b=v.circleTangency,y=v.lineTangency,w=v.theta,x=u?Math.abs(l-c):Math.abs(l-c)-g-w;if(x<0)return s?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):F$({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c});var T="M ".concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(x>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var A=qf({cx:n,cy:r,radius:i,angle:l,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),I=A.circleTangency,E=A.lineTangency,P=A.theta,O=qf({cx:n,cy:r,radius:i,angle:c,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),R=O.circleTangency,N=O.lineTangency,C=O.theta,F=u?Math.abs(l-c):Math.abs(l-c)-P-C;if(F<0&&a===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(h>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},rue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},U$=function(e){var n=NP(NP({},rue),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,u=n.forceCornerRadius,l=n.cornerIsExternal,c=n.startAngle,h=n.endAngle,d=n.className;if(a<o||c===h)return null;var p=Re("recharts-sector",d),_=a-o,g=Ra(s,_,0,!0),v;return g>0&&Math.abs(c-h)<360?v=nue({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,_/2),forceCornerRadius:u,cornerIsExternal:l,startAngle:c,endAngle:h}):v=F$({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:h}),D("path",{...Oe(n,!0),className:p,d:v,role:"img"})};function th(t){return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(n),!0).forEach(function(r){iue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iue(t,e,n){return e=oue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oue(t){var e=aue(t,"string");return th(e)=="symbol"?e:String(e)}function aue(t,e){if(th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $P={curveBasisClosed:TH,curveBasisOpen:EH,curveBasis:xH,curveBumpX:uH,curveBumpY:lH,curveLinearClosed:SH,curveLinear:dg,curveMonotoneX:IH,curveMonotoneY:AH,curveNatural:PH,curveStep:OH,curveStepAfter:kH,curveStepBefore:CH},Wf=function(e){return e.x===+e.x&&e.y===+e.y},xl=function(e){return e.x},Tl=function(e){return e.y},sue=function(e,n){if(_e(e))return e;var r="curve".concat(hg(e));return(r==="curveMonotone"||r==="curveBump")&&n?$P["".concat(r).concat(n==="vertical"?"Y":"X")]:$P[r]||dg},uue=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,u=e.connectNulls,l=u===void 0?!1:u,c=sue(r,s),h=l?o.filter(function(g){return Wf(g)}):o,d;if(Array.isArray(a)){var p=l?a.filter(function(g){return Wf(g)}):a,_=h.map(function(g,v){return MP(MP({},g),{},{base:p[v]})});return s==="vertical"?d=Mf().y(Tl).x1(xl).x0(function(g){return g.base.x}):d=Mf().x(xl).y1(Tl).y0(function(g){return g.base.y}),d.defined(Wf).curve(c),d(_)}return s==="vertical"&&ee(a)?d=Mf().y(Tl).x1(xl).x0(a):ee(a)?d=Mf().x(xl).y1(Tl).y0(a):d=q2().x(xl).y(Tl),d.defined(Wf).curve(c),d(h)},LP=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?uue(e):i;return D("path",{...Oe(e,!1),..._p(e),className:Re("recharts-curve",n),d:a,ref:o})},ye={exports:{}},lue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",cue=lue,hue=cue;function B$(){}function z$(){}z$.resetWarningCache=B$;var fue=function(){function t(r,i,o,a,s,u){if(u!==hue){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:z$,resetWarningCache:B$};return n.PropTypes=n,n};ye.exports=fue();var due=Object.getOwnPropertyNames,pue=Object.getOwnPropertySymbols,mue=Object.prototype.hasOwnProperty;function VP(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Gf(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var u=t(n,r,i);return o.delete(n),o.delete(r),u}}function jP(t){return due(t).concat(pue(t))}var q$=Object.hasOwn||function(t,e){return mue.call(t,e)};function Uu(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var W$="_owner",FP=Object.getOwnPropertyDescriptor,UP=Object.keys;function gue(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function yue(t,e){return Uu(t.getTime(),e.getTime())}function BP(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),o=0,a,s;(a=i.next())&&!a.done;){for(var u=e.entries(),l=!1,c=0;(s=u.next())&&!s.done;){var h=a.value,d=h[0],p=h[1],_=s.value,g=_[0],v=_[1];!l&&!r[c]&&(l=n.equals(d,g,o,c,t,e,n)&&n.equals(p,v,d,g,t,e,n))&&(r[c]=!0),c++}if(!l)return!1;o++}return!0}function vue(t,e,n){var r=UP(t),i=r.length;if(UP(e).length!==i)return!1;for(var o;i-- >0;)if(o=r[i],o===W$&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!q$(e,o)||!n.equals(t[o],e[o],o,o,t,e,n))return!1;return!0}function El(t,e,n){var r=jP(t),i=r.length;if(jP(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],o===W$&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!q$(e,o)||!n.equals(t[o],e[o],o,o,t,e,n)||(a=FP(t,o),s=FP(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function _ue(t,e){return Uu(t.valueOf(),e.valueOf())}function wue(t,e){return t.source===e.source&&t.flags===e.flags}function zP(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),o,a;(o=i.next())&&!o.done;){for(var s=e.values(),u=!1,l=0;(a=s.next())&&!a.done;)!u&&!r[l]&&(u=n.equals(o.value,a.value,o.value,a.value,t,e,n))&&(r[l]=!0),l++;if(!u)return!1}return!0}function bue(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var xue="[object Arguments]",Tue="[object Boolean]",Eue="[object Date]",Sue="[object Map]",Iue="[object Number]",Aue="[object Object]",Pue="[object RegExp]",Oue="[object Set]",Cue="[object String]",kue=Array.isArray,qP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,WP=Object.assign,Rue=Object.prototype.toString.call.bind(Object.prototype.toString);function Nue(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,o=t.arePrimitiveWrappersEqual,a=t.areRegExpsEqual,s=t.areSetsEqual,u=t.areTypedArraysEqual;return function(c,h,d){if(c===h)return!0;if(c==null||h==null||typeof c!="object"||typeof h!="object")return c!==c&&h!==h;var p=c.constructor;if(p!==h.constructor)return!1;if(p===Object)return i(c,h,d);if(kue(c))return e(c,h,d);if(qP!=null&&qP(c))return u(c,h,d);if(p===Date)return n(c,h,d);if(p===RegExp)return a(c,h,d);if(p===Map)return r(c,h,d);if(p===Set)return s(c,h,d);var _=Rue(c);return _===Eue?n(c,h,d):_===Pue?a(c,h,d):_===Sue?r(c,h,d):_===Oue?s(c,h,d):_===Aue?typeof c.then!="function"&&typeof h.then!="function"&&i(c,h,d):_===xue?i(c,h,d):_===Tue||_===Iue||_===Cue?o(c,h,d):!1}}function Due(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?El:gue,areDatesEqual:yue,areMapsEqual:r?VP(BP,El):BP,areObjectsEqual:r?El:vue,arePrimitiveWrappersEqual:_ue,areRegExpsEqual:wue,areSetsEqual:r?VP(zP,El):zP,areTypedArraysEqual:r?El:bue};if(n&&(i=WP({},i,n(i))),e){var o=Gf(i.areArraysEqual),a=Gf(i.areMapsEqual),s=Gf(i.areObjectsEqual),u=Gf(i.areSetsEqual);i=WP({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:u})}return i}function Mue(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function $ue(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(u,l){var c=r(),h=c.cache,d=h===void 0?e?new WeakMap:void 0:h,p=c.meta;return n(u,l,{cache:d,equals:i,meta:p,strict:o})};if(e)return function(u,l){return n(u,l,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(u,l){return n(u,l,a)}}var Lue=Mo();Mo({strict:!0});Mo({circular:!0});Mo({circular:!0,strict:!0});Mo({createInternalComparator:function(){return Uu}});Mo({strict:!0,createInternalComparator:function(){return Uu}});Mo({circular:!0,createInternalComparator:function(){return Uu}});Mo({circular:!0,createInternalComparator:function(){return Uu},strict:!0});function Mo(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=Due(t),u=Nue(s),l=r?r(u):Mue(u);return $ue({circular:n,comparator:u,createState:i,equals:l,strict:a})}function Vue(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function GP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Vue(i)};requestAnimationFrame(r)}function P_(t){return P_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P_(t)}function jue(t){return zue(t)||Bue(t)||Uue(t)||Fue()}function Fue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uue(t,e){if(!!t){if(typeof t=="string")return KP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KP(t,e)}}function KP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zue(t){if(Array.isArray(t))return t}function que(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=jue(a),u=s[0],l=s.slice(1);if(typeof u=="number"){GP(i.bind(null,l),u);return}i(u),GP(i.bind(null,l));return}P_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function nh(t){return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){G$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G$(t,e,n){return e=Wue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wue(t){var e=Gue(t,"string");return nh(e)==="symbol"?e:String(e)}function Gue(t,e){if(nh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kue=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},Hue=function(e){return e},Que=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},nc=function(e,n){return Object.keys(n).reduce(function(r,i){return QP(QP({},r),{},G$({},i,e(i,n[i])))},{})},YP=function(e,n,r){return e.map(function(i){return"".concat(Que(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Yue(t,e){return Zue(t)||Jue(t,e)||K$(t,e)||Xue()}function Xue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function Zue(t){if(Array.isArray(t))return t}function ele(t){return rle(t)||nle(t)||K$(t)||tle()}function tle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K$(t,e){if(!!t){if(typeof t=="string")return O_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O_(t,e)}}function nle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rle(t){if(Array.isArray(t))return O_(t)}function O_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Kp=1e-4,H$=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},Q$=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},XP=function(e,n){return function(r){var i=H$(e,n);return Q$(i,r)}},ile=function(e,n){return function(r){var i=H$(e,n),o=[].concat(ele(i.map(function(a,s){return a*s}).slice(1)),[0]);return Q$(o,r)}},JP=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var u=n[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var l=u[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),c=Yue(l,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var h=XP(i,a),d=XP(o,s),p=ile(i,a),_=function(b){return b>1?1:b<0?0:b},g=function(b){for(var y=b>1?1:b,w=y,x=0;x<8;++x){var T=h(w)-y,A=p(w);if(Math.abs(T-y)<Kp||A<Kp)return d(w);w=_(w-T/A)}return d(w)};return g.isStepper=!1,g},ole=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,u=function(c,h,d){var p=-(c-h)*r,_=d*o,g=d+(p-_)*s/1e3,v=d*s/1e3+c;return Math.abs(v-h)<Kp&&Math.abs(g)<Kp?[h,0]:[v,g]};return u.isStepper=!0,u.dt=s,u},ale=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return JP(i);case"spring":return ole();default:if(i.split("(")[0]==="cubic-bezier")return JP(i)}return typeof i=="function"?i:null};function rh(t){return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function ZP(t){return lle(t)||ule(t)||Y$(t)||sle()}function sle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ule(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lle(t){if(Array.isArray(t))return k_(t)}function eO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(n),!0).forEach(function(r){C_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C_(t,e,n){return e=cle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cle(t){var e=hle(t,"string");return rh(e)==="symbol"?e:String(e)}function hle(t,e){if(rh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fle(t,e){return mle(t)||ple(t,e)||Y$(t,e)||dle()}function dle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y$(t,e){if(!!t){if(typeof t=="string")return k_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k_(t,e)}}function k_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ple(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function mle(t){if(Array.isArray(t))return t}var Hp=function(e,n,r){return e+(n-e)*r},R_=function(e){var n=e.from,r=e.to;return n!==r},gle=function t(e,n,r){var i=nc(function(o,a){if(R_(a)){var s=e(a.from,a.to,a.velocity),u=fle(s,2),l=u[0],c=u[1];return Vt(Vt({},a),{},{from:l,velocity:c})}return a},n);return r<1?nc(function(o,a){return R_(a)?Vt(Vt({},a),{},{velocity:Hp(a.velocity,i[o].velocity,r),from:Hp(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const yle=function(t,e,n,r,i){var o=Kue(t,e),a=o.reduce(function(v,b){return Vt(Vt({},v),{},C_({},b,[t[b],e[b]]))},{}),s=o.reduce(function(v,b){return Vt(Vt({},v),{},C_({},b,{from:t[b],velocity:0,to:e[b]}))},{}),u=-1,l,c,h=function(){return null},d=function(){return nc(function(b,y){return y.from},s)},p=function(){return!Object.values(s).filter(R_).length},_=function(b){l||(l=b);var y=b-l,w=y/n.dt;s=gle(n,s,w),i(Vt(Vt(Vt({},t),e),d())),l=b,p()||(u=requestAnimationFrame(h))},g=function(b){c||(c=b);var y=(b-c)/r,w=nc(function(T,A){return Hp.apply(void 0,ZP(A).concat([n(y)]))},a);if(i(Vt(Vt(Vt({},t),e),w)),y<1)u=requestAnimationFrame(h);else{var x=nc(function(T,A){return Hp.apply(void 0,ZP(A).concat([n(1)]))},a);i(Vt(Vt(Vt({},t),e),x))}};return h=n.isStepper?_:g,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(u)}}};function du(t){return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}var vle=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _le(t,e){if(t==null)return{};var n=wle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function wle(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function uv(t){return Ele(t)||Tle(t)||xle(t)||ble()}function ble(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xle(t,e){if(!!t){if(typeof t=="string")return N_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N_(t,e)}}function Tle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ele(t){if(Array.isArray(t))return N_(t)}function N_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(n),!0).forEach(function(r){Ml(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ml(t,e,n){return e=X$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X$(r.key),r)}}function Ile(t,e,n){return e&&nO(t.prototype,e),n&&nO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function X$(t){var e=Ale(t,"string");return du(e)==="symbol"?e:String(e)}function Ale(t,e){if(du(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(du(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ple(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D_(t,e)}function D_(t,e){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D_(t,e)}function Ole(t){var e=Cle();return function(){var r=Qp(t),i;if(e){var o=Qp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return M_(this,i)}}function M_(t,e){if(e&&(du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $_(t)}function $_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cle(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qp(t){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qp(t)}var xo=function(t){Ple(n,t);var e=Ole(n);function n(r,i){var o;Sle(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,u=a.attributeName,l=a.from,c=a.to,h=a.steps,d=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind($_(o)),o.changeStyle=o.changeStyle.bind($_(o)),!s||p<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:c}),M_(o);if(h&&h.length)o.state={style:h[0].style};else if(l){if(typeof d=="function")return o.state={style:l},M_(o);o.state={style:u?Ml({},u,l):l}}else o.state={style:{}};return o}return Ile(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,u=o.attributeName,l=o.shouldReAnimate,c=o.to,h=o.from,d=this.state.style;if(!!s){if(!a){var p={style:u?Ml({},u,c):c};this.state&&d&&(u&&d[u]!==c||!u&&d!==c)&&this.setState(p);return}if(!(Lue(i.to,c)&&i.canBegin&&i.isActive)){var _=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=_||l?h:i.to;if(this.state&&d){var v={style:u?Ml({},u,g):g};(u&&d[u]!==g||!u&&d!==g)&&this.setState(v)}this.runAnimation(sr(sr({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,u=i.duration,l=i.easing,c=i.begin,h=i.onAnimationEnd,d=i.onAnimationStart,p=yle(a,s,ale(l),u,this.changeStyle),_=function(){o.stopJSAnimation=p()};this.manager.start([d,c,_,u,h])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,u=i.onAnimationStart,l=a[0],c=l.style,h=l.duration,d=h===void 0?0:h,p=function(g,v,b){if(b===0)return g;var y=v.duration,w=v.easing,x=w===void 0?"ease":w,T=v.style,A=v.properties,I=v.onAnimationEnd,E=b>0?a[b-1]:v,P=A||Object.keys(T);if(typeof x=="function"||x==="spring")return[].concat(uv(g),[o.runJSAnimation.bind(o,{from:E.style,to:T,duration:y,easing:x}),y]);var O=YP(P,y,x),R=sr(sr(sr({},E.style),T),{},{transition:O});return[].concat(uv(g),[R,y,I]).filter(Hue)};return this.manager.start([u].concat(uv(a.reduce(p,[c,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=que());var o=i.begin,a=i.duration,s=i.attributeName,u=i.to,l=i.easing,c=i.onAnimationStart,h=i.onAnimationEnd,d=i.steps,p=i.children,_=this.manager;if(this.unSubscribe=_.subscribe(this.handleStyleChange),typeof l=="function"||typeof p=="function"||l==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var g=s?Ml({},s,u):u,v=YP(Object.keys(g),a,l);_.start([c,o,sr(sr({},g),{},{transition:v}),a,h])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var u=_le(i,vle),l=M.exports.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||l===0||a<=0)return o;var h=function(p){var _=p.props,g=_.style,v=g===void 0?{}:g,b=_.className,y=M.exports.cloneElement(p,sr(sr({},u),{},{style:sr(sr({},v),c),className:b}));return y};return l===1?h(M.exports.Children.only(o)):D("div",{children:M.exports.Children.map(o,function(d){return h(d)})})}}]),n}(M.exports.PureComponent);xo.displayName="Animate";xo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};xo.propTypes={from:ye.exports.oneOfType([ye.exports.object,ye.exports.string]),to:ye.exports.oneOfType([ye.exports.object,ye.exports.string]),attributeName:ye.exports.string,duration:ye.exports.number,begin:ye.exports.number,easing:ye.exports.oneOfType([ye.exports.string,ye.exports.func]),steps:ye.exports.arrayOf(ye.exports.shape({duration:ye.exports.number.isRequired,style:ye.exports.object.isRequired,easing:ye.exports.oneOfType([ye.exports.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ye.exports.func]),properties:ye.exports.arrayOf("string"),onAnimationEnd:ye.exports.func})),children:ye.exports.oneOfType([ye.exports.node,ye.exports.func]),isActive:ye.exports.bool,canBegin:ye.exports.bool,onAnimationEnd:ye.exports.func,shouldReAnimate:ye.exports.bool,onAnimationStart:ye.exports.func,onAnimationReStart:ye.exports.func};ye.exports.object,ye.exports.object,ye.exports.object,ye.exports.element;ye.exports.object,ye.exports.object,ye.exports.object,ye.exports.oneOfType([ye.exports.array,ye.exports.element]),ye.exports.any;function ih(t){return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function kle(t,e){return Mle(t)||Dle(t,e)||Nle(t,e)||Rle()}function Rle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nle(t,e){if(!!t){if(typeof t=="string")return rO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rO(t,e)}}function rO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function Mle(t){if(Array.isArray(t))return t}function iO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(n),!0).forEach(function(r){$le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $le(t,e,n){return e=Lle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lle(t){var e=Vle(t,"string");return ih(e)=="symbol"?e:String(e)}function Vle(t,e){if(ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aO=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,u=r>=0?1:-1,l=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var h=[0,0,0,0],d=0,p=4;d<p;d++)h[d]=o[d]>a?a:o[d];c="M".concat(e,",").concat(n+s*h[0]),h[0]>0&&(c+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(l,",").concat(e+u*h[0],",").concat(n)),c+="L ".concat(e+r-u*h[1],",").concat(n),h[1]>0&&(c+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(n+s*h[1])),c+="L ".concat(e+r,",").concat(n+i-s*h[2]),h[2]>0&&(c+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(l,`,
        `).concat(e+r-u*h[2],",").concat(n+i)),c+="L ".concat(e+u*h[3],",").concat(n+i),h[3]>0&&(c+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(n+i-s*h[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var _=Math.min(a,o);c="M ".concat(e,",").concat(n+s*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(l,",").concat(e+u*_,",").concat(n,`
            L `).concat(e+r-u*_,",").concat(n,`
            A `).concat(_,",").concat(_,",0,0,").concat(l,",").concat(e+r,",").concat(n+s*_,`
            L `).concat(e+r,",").concat(n+i-s*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(l,",").concat(e+r-u*_,",").concat(n+i,`
            L `).concat(e+u*_,",").concat(n+i,`
            A `).concat(_,",").concat(_,",0,0,").concat(l,",").concat(e,",").concat(n+i-s*_," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},jle=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,u=n.height;if(Math.abs(s)>0&&Math.abs(u)>0){var l=Math.min(o,o+s),c=Math.max(o,o+s),h=Math.min(a,a+u),d=Math.max(a,a+u);return r>=l&&r<=c&&i>=h&&i<=d}return!1},Fle={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Y1=function(e){var n=oO(oO({},Fle),e),r=M.exports.useRef(),i=M.exports.useState(-1),o=kle(i,2),a=o[0],s=o[1];M.exports.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var u=n.x,l=n.y,c=n.width,h=n.height,d=n.radius,p=n.className,_=n.animationEasing,g=n.animationDuration,v=n.animationBegin,b=n.isAnimationActive,y=n.isUpdateAnimationActive;if(u!==+u||l!==+l||c!==+c||h!==+h||c===0||h===0)return null;var w=Re("recharts-rectangle",p);return y?D(xo,{canBegin:a>0,from:{width:c,height:h,x:u,y:l},to:{width:c,height:h,x:u,y:l},duration:g,animationEasing:_,isActive:y,children:function(x){var T=x.width,A=x.height,I=x.x,E=x.y;return D(xo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:b,easing:_,children:D("path",{...Oe(n,!0),className:w,d:aO(I,E,T,A,d),ref:r})})}}):D("path",{...Oe(n,!0),className:w,d:aO(u,l,c,h,d)})},J$=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Re("recharts-dot",o);return n===+n&&r===+r&&i===+i?D("circle",{...Oe(e,!1),..._p(e),className:a,cx:n,cy:r,r:i}):null};function oh(t){return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}var Ule=["x","y","top","left","width","height","className"];function sO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ble(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(n),!0).forEach(function(r){zle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zle(t,e,n){return e=qle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qle(t){var e=Wle(t,"string");return oh(e)=="symbol"?e:String(e)}function Wle(t,e){if(oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gle(t,e){if(t==null)return{};var n=Kle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function Kle(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Hle=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},Qle=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,u=e.left,l=u===void 0?0:u,c=e.width,h=c===void 0?0:c,d=e.height,p=d===void 0?0:d,_=e.className,g=Gle(e,Ule),v=Ble({x:r,y:o,top:s,left:l,width:h,height:p},g);return!ee(r)||!ee(o)||!ee(h)||!ee(p)||!ee(s)||!ee(l)?null:D("path",{...Oe(v,!0),className:Re("recharts-cross",_),d:Hle(r,o,h,p,s,l)})},Yle=dM,Xle=Yle(Object.getPrototypeOf,Object),Jle=Xle,Zle=Ai,ece=Jle,tce=Pi,nce="[object Object]",rce=Function.prototype,ice=Object.prototype,Z$=rce.toString,oce=ice.hasOwnProperty,ace=Z$.call(Object);function sce(t){if(!tce(t)||Zle(t)!=nce)return!1;var e=ece(t);if(e===null)return!0;var n=oce.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Z$.call(n)==ace}var uce=sce,lce=Ai,cce=Pi,hce="[object Boolean]";function fce(t){return t===!0||t===!1||cce(t)&&lce(t)==hce}var dce=fce;function ah(t){return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function pce(t,e){return vce(t)||yce(t,e)||gce(t,e)||mce()}function mce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gce(t,e){if(!!t){if(typeof t=="string")return uO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uO(t,e)}}function uO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function vce(t){if(Array.isArray(t))return t}function lO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(n),!0).forEach(function(r){_ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ce(t,e,n){return e=wce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wce(t){var e=bce(t,"string");return ah(e)=="symbol"?e:String(e)}function bce(t,e){if(ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hO=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},xce={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Tce=function(e){var n=cO(cO({},xce),e),r=M.exports.useRef(),i=M.exports.useState(-1),o=pce(i,2),a=o[0],s=o[1];M.exports.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&s(w)}catch{}},[]);var u=n.x,l=n.y,c=n.upperWidth,h=n.lowerWidth,d=n.height,p=n.className,_=n.animationEasing,g=n.animationDuration,v=n.animationBegin,b=n.isUpdateAnimationActive;if(u!==+u||l!==+l||c!==+c||h!==+h||d!==+d||c===0&&h===0||d===0)return null;var y=Re("recharts-trapezoid",p);return b?D(xo,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:u,y:l},to:{upperWidth:c,lowerWidth:h,height:d,x:u,y:l},duration:g,animationEasing:_,isActive:b,children:function(w){var x=w.upperWidth,T=w.lowerWidth,A=w.height,I=w.x,E=w.y;return D(xo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:_,children:D("path",{...Oe(n,!0),className:y,d:hO(I,E,x,T,A),ref:r})})}}):D("g",{children:D("path",{...Oe(n,!0),className:y,d:hO(u,l,c,h,d)})})},Ece=["option","shapeType","propTransformer","activeClassName","isActive"];function sh(t){return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function Sce(t,e){if(t==null)return{};var n=Ice(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function Ice(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(n),!0).forEach(function(r){Ace(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ace(t,e,n){return e=Pce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pce(t){var e=Oce(t,"string");return sh(e)=="symbol"?e:String(e)}function Oce(t,e){if(sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cce(t,e){return Yp(Yp({},e),t)}function kce(t,e){return t==="symbols"}function dO(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return D(Y1,{...n});case"trapezoid":return D(Tce,{...n});case"sector":return D(U$,{...n});case"symbols":if(kce(e))return D(p1,{...n});break;default:return null}}function Rce(t){return M.exports.isValidElement(t)?t.props:t}function Nce(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Cce:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,u=Sce(t,Ece),l;if(M.exports.isValidElement(e))l=M.exports.cloneElement(e,Yp(Yp({},u),Rce(e)));else if(_e(e))l=e(u);else if(uce(e)&&!dce(e)){var c=i(e,u);l=D(dO,{shapeType:n,elementProps:c})}else{var h=u;l=D(dO,{shapeType:n,elementProps:h})}return s?D(kt,{className:a,children:l}):l}function Og(t,e){return e!=null&&"trapezoids"in t.props}function Cg(t,e){return e!=null&&"sectors"in t.props}function uh(t,e){return e!=null&&"points"in t.props}function Dce(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Mce(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function $ce(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Lce(t,e){var n;return Og(t,e)?n=Dce:Cg(t,e)?n=Mce:uh(t,e)&&(n=$ce),n}function Vce(t,e){var n;return Og(t,e)?n="trapezoids":Cg(t,e)?n="sectors":uh(t,e)&&(n="points"),n}function jce(t,e){if(Og(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Cg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return uh(t,e)?e.payload:{}}function Fce(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Vce(n,e),o=jce(n,e),a=r.filter(function(u,l){var c=G1(o,u),h=n.props[i].filter(function(_){var g=Lce(n,e);return g(_,e)}),d=n.props[i].indexOf(h[h.length-1]),p=l===d;return c&&p}),s=r.indexOf(a[a.length-1]);return s}var Uce=Math.ceil,Bce=Math.max;function zce(t,e,n,r){for(var i=-1,o=Bce(Uce((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var qce=zce,Wce=NM,pO=1/0,Gce=17976931348623157e292;function Kce(t){if(!t)return t===0?t:0;if(t=Wce(t),t===pO||t===-pO){var e=t<0?-1:1;return e*Gce}return t===t?t:0}var eL=Kce,Hce=qce,Qce=yg,lv=eL;function Yce(t){return function(e,n,r){return r&&typeof r!="number"&&Qce(e,n,r)&&(n=r=void 0),e=lv(e),n===void 0?(n=e,e=0):n=lv(n),r=r===void 0?e<n?1:-1:lv(r),Hce(e,n,r,t)}}var Xce=Yce,Jce=Xce,Zce=Jce(),Xp=Zce;function lh(t){return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function mO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(n),!0).forEach(function(r){tL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tL(t,e,n){return e=ehe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ehe(t){var e=the(t,"string");return lh(e)=="symbol"?e:String(e)}function the(t,e){if(lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nhe=["Webkit","Moz","O","ms"],rhe=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=nhe.reduce(function(o,a){return gO(gO({},o),{},tL({},a+r,n))},{});return i[e]=n,i};function pu(t){return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function yO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(n),!0).forEach(function(r){An(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ihe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rL(r.key),r)}}function ohe(t,e,n){return e&&vO(t.prototype,e),n&&vO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ahe(t,e,n){return e=Jp(e),she(t,nL()?Reflect.construct(e,n||[],Jp(t).constructor):e.apply(t,n))}function she(t,e){if(e&&(pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sr(t)}function nL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nL=function(){return!!t})()}function Jp(t){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jp(t)}function Sr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L_(t,e)}function L_(t,e){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},L_(t,e)}function An(t,e,n){return e=rL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rL(t){var e=lhe(t,"string");return pu(e)=="symbol"?e:String(e)}function lhe(t,e){if(pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var che=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var u=n.length,l=ec().domain(Xp(0,u)).range([o,o+a-s]),c=l.domain().map(function(h){return l(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(r),endX:l(i),scale:l,scaleValues:c}},_O=function(e){return e.changedTouches&&!!e.changedTouches.length},mu=function(t){uhe(e,t);function e(n){var r;return ihe(this,e),r=ahe(this,e,[n]),An(Sr(r),"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),An(Sr(r),"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),An(Sr(r),"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),An(Sr(r),"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),An(Sr(r),"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),An(Sr(r),"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),An(Sr(r),"handleSlideDragStart",function(i){var o=_O(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(Sr(r),"startX"),endX:r.handleTravellerDragStart.bind(Sr(r),"endX")},r.state={},r}return ohe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,u=s.gap,l=s.data,c=l.length-1,h=Math.min(i,o),d=Math.max(i,o),p=e.getIndexInRange(a,h),_=e.getIndexInRange(a,d);return{startIndex:p-p%u,endIndex:_===c?c:_-_%u}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,u=Br(o[r],s,r);return _e(a)?a(u,r):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,u=this.props,l=u.x,c=u.width,h=u.travellerWidth,d=u.startIndex,p=u.endIndex,_=u.onChange,g=r.pageX-o;g>0?g=Math.min(g,l+c-h-s,l+c-h-a):g<0&&(g=Math.max(g,l-a,l-s));var v=this.getIndex({startX:a+g,endX:s+g});(v.startIndex!==d||v.endIndex!==p)&&_&&_(v),this.setState({startX:a+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=_O(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,u=i.startX,l=this.state[a],c=this.props,h=c.x,d=c.width,p=c.travellerWidth,_=c.onChange,g=c.gap,v=c.data,b={startX:this.state.startX,endX:this.state.endX},y=r.pageX-o;y>0?y=Math.min(y,h+d-p-l):y<0&&(y=Math.max(y,h-l)),b[a]=l+y;var w=this.getIndex(b),x=w.startIndex,T=w.endIndex,A=function(){var E=v.length-1;return a==="startX"&&(s>u?x%g===0:T%g===0)||s<u&&T===E||a==="endX"&&(s>u?T%g===0:x%g===0)||s>u&&T===E};this.setState(An(An({},a,l+y),"brushMoveStartX",r.pageX),function(){_&&A()&&_(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,u=a.startX,l=a.endX,c=this.state[i],h=s.indexOf(c);if(h!==-1){var d=h+r;if(!(d===-1||d>=s.length)){var p=s[d];i==="startX"&&p>=l||i==="endX"&&p<=u||this.setState(An({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,u=r.fill,l=r.stroke;return D("rect",{stroke:l,fill:u,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,u=r.data,l=r.children,c=r.padding,h=M.exports.Children.only(l);return h?Ne.cloneElement(h,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,u=this.props,l=u.y,c=u.travellerWidth,h=u.height,d=u.traveller,p=u.ariaLabel,_=u.data,g=u.startIndex,v=u.endIndex,b=Math.max(r,this.props.x),y=cv(cv({},Oe(this.props,!1)),{},{x:b,y:l,width:c,height:h}),w=p||"Min value: ".concat((o=_[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=_[v])===null||a===void 0?void 0:a.name);return D(kt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){!["ArrowLeft","ArrowRight"].includes(T.key)||(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"},children:e.renderTraveller(d,y)})}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,u=o.stroke,l=o.travellerWidth,c=Math.min(r,i)+l,h=Math.max(Math.abs(i-r)-l,0);return D("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:c,y:a,width:h,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,u=r.travellerWidth,l=r.stroke,c=this.state,h=c.startX,d=c.endX,p=5,_={pointerEvents:"none",fill:l};return X(kt,{className:"recharts-brush-texts",children:[D(Np,{textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,d)-p,y:a+s/2,..._,children:this.getTextOfTick(i)}),D(Np,{textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,d)+u+p,y:a+s/2,..._,children:this.getTextOfTick(o)})]})}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,u=r.y,l=r.width,c=r.height,h=r.alwaysShowText,d=this.state,p=d.startX,_=d.endX,g=d.isTextActive,v=d.isSlideMoving,b=d.isTravellerMoving,y=d.isTravellerFocused;if(!i||!i.length||!ee(s)||!ee(u)||!ee(l)||!ee(c)||l<=0||c<=0)return null;var w=Re("recharts-brush",o),x=Ne.Children.count(a)===1,T=rhe("userSelect","none");return X(kt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T,children:[this.renderBackground(),x&&this.renderPanorama(),this.renderSlide(p,_),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(_,"endX"),(g||v||b||y||h)&&this.renderText()]})}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,u=r.stroke,l=Math.floor(o+s/2)-1;return X(bm,{children:[D("rect",{x:i,y:o,width:a,height:s,fill:u,stroke:"none"}),D("line",{x1:i+1,y1:l,x2:i+a-1,y2:l,fill:"none",stroke:"#fff"}),D("line",{x1:i+1,y1:l+2,x2:i+a-1,y2:l+2,fill:"none",stroke:"#fff"})]})}},{key:"renderTraveller",value:function(r,i){var o;return Ne.isValidElement(r)?o=Ne.cloneElement(r,i):_e(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,u=r.travellerWidth,l=r.updateId,c=r.startIndex,h=r.endIndex;if(o!==i.prevData||l!==i.prevUpdateId)return cv({prevData:o,prevTravellerWidth:u,prevUpdateId:l,prevX:s,prevWidth:a},o&&o.length?che({data:o,width:a,x:s,travellerWidth:u,startIndex:c,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||u!==i.prevTravellerWidth)){i.scale.range([s,s+a-u]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:u,prevUpdateId:l,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var u=Math.floor((a+s)/2);r[u]>i?s=u:a=u}return i>=r[s]?s:a}}]),e}(M.exports.PureComponent);An(mu,"displayName","Brush");An(mu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var hhe=b1;function fhe(t,e){var n;return hhe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var dhe=fhe,phe=aM,mhe=Ro,ghe=dhe,yhe=Sn,vhe=yg;function _he(t,e,n){var r=yhe(t)?phe:ghe;return n&&vhe(t,e,n)&&(e=void 0),r(t,mhe(e))}var whe=_he,Lr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},wO=PM;function bhe(t,e,n){e=="__proto__"&&wO?wO(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var xhe=bhe,The=xhe,Ehe=IM,She=Ro;function Ihe(t,e){var n={};return e=She(e),Ehe(t,function(r,i,o){The(n,i,e(r,i,o))}),n}var Ahe=Ihe;function Phe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Ohe=Phe,Che=b1;function khe(t,e){var n=!0;return Che(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Rhe=khe,Nhe=Ohe,Dhe=Rhe,Mhe=Ro,$he=Sn,Lhe=yg;function Vhe(t,e,n){var r=$he(t)?Nhe:Dhe;return n&&Lhe(t,e,n)&&(e=void 0),r(t,Mhe(e))}var iL=Vhe,jhe=["x","y"];function ch(t){return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function bO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(n),!0).forEach(function(r){Fhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fhe(t,e,n){return e=Uhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uhe(t){var e=Bhe(t,"string");return ch(e)=="symbol"?e:String(e)}function Bhe(t,e){if(ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zhe(t,e){if(t==null)return{};var n=qhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function qhe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Whe(t,e){var n=t.x,r=t.y,i=zhe(t,jhe),o="".concat(n),a=parseInt(o,10),s="".concat(r),u=parseInt(s,10),l="".concat(e.height||i.height),c=parseInt(l,10),h="".concat(e.width||i.width),d=parseInt(h,10);return Sl(Sl(Sl(Sl(Sl({},e),i),a?{x:a}:{}),u?{y:u}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function xO(t){return D(Nce,{shapeType:"rectangle",propTransformer:Whe,activeClassName:"recharts-active-bar",...t})}var Ghe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=typeof r=="number";return o?e(r,i):(o||Da(!1),n)}},Khe=["value","background"],oL;function gu(t){return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function Hhe(t,e){if(t==null)return{};var n=Qhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function Qhe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(n),!0).forEach(function(r){Ji(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sL(r.key),r)}}function Xhe(t,e,n){return e&&EO(t.prototype,e),n&&EO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jhe(t,e,n){return e=Zp(e),Zhe(t,aL()?Reflect.construct(e,n||[],Zp(t).constructor):e.apply(t,n))}function Zhe(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $l(t)}function aL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aL=function(){return!!t})()}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zp(t)}function $l(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function efe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V_(t,e)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V_(t,e)}function Ji(t,e,n){return e=sL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sL(t){var e=tfe(t,"string");return gu(e)=="symbol"?e:String(e)}function tfe(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fi=function(t){efe(e,t);function e(){var n;Yhe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Jhe(this,e,[].concat(i)),Ji($l(n),"state",{isAnimationFinished:!1}),Ji($l(n),"id",cg("recharts-bar-")),Ji($l(n),"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Ji($l(n),"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Xhe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,u=o.activeIndex,l=o.activeBar,c=Oe(this.props,!1);return r&&r.map(function(h,d){var p=d===u,_=p?l:a,g=It(It(It({},c),h),{},{isActive:p,option:_,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.exports.createElement(kt,{className:"recharts-bar-rectangle",...wp(i.props,h,d),key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value)},D(xO,{...g}))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,u=i.animationBegin,l=i.animationDuration,c=i.animationEasing,h=i.animationId,d=this.state.prevData;return D(xo,{begin:u,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart,children:function(p){var _=p.t,g=o.map(function(v,b){var y=d&&d[b];if(y){var w=rs(y.x,v.x),x=rs(y.y,v.y),T=rs(y.width,v.width),A=rs(y.height,v.height);return It(It({},v),{},{x:w(_),y:x(_),width:T(_),height:A(_)})}if(a==="horizontal"){var I=rs(0,v.height),E=I(_);return It(It({},v),{},{y:v.y+v.height-E,height:E})}var P=rs(0,v.width),O=P(_);return It(It({},v),{},{width:O})});return D(kt,{children:r.renderRectanglesStatically(g)})}},"bar-".concat(h))}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!G1(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,u=Oe(this.props.background,!1);return o.map(function(l,c){l.value;var h=l.background,d=Hhe(l,Khe);if(!h)return null;var p=It(It(It(It(It({},d),{},{fill:"#eee"},h),u),wp(r.props,l,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,key:"background-bar-".concat(c),className:"recharts-bar-background-rectangle"});return D(xO,{option:r.props.background,isActive:c===s,...p})})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,u=o.yAxis,l=o.layout,c=o.children,h=_r(c,Pg);if(!h)return null;var d=l==="vertical"?a[0].height/2:a[0].width/2,p=function(v,b){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:Br(v,b)}},_={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D(kt,{..._,children:h.map(function(g){return Ne.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:a,xAxis:s,yAxis:u,layout:l,offset:d,dataPointFormatter:p})})})}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,u=r.yAxis,l=r.left,c=r.top,h=r.width,d=r.height,p=r.isAnimationActive,_=r.background,g=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,b=Re("recharts-bar",a),y=s&&s.allowDataOverflow,w=u&&u.allowDataOverflow,x=y||w,T=ke(g)?this.id:g;return X(kt,{className:b,children:[y||w?D("defs",{children:D("clipPath",{id:"clipPath-".concat(T),children:D("rect",{x:y?l:l-h/2,y:w?c:c-d/2,width:y?h:h*2,height:w?d:d*2})})}):null,X(kt,{className:"recharts-bar-rectangles",clipPath:x?"url(#clipPath-".concat(T,")"):null,children:[_?this.renderBackground():null,this.renderRectangles()]}),this.renderErrorBar(x,T),(!p||v)&&ga.renderCallByParent(this.props,o)]})}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}]),e}(M.exports.PureComponent);oL=fi;Ji(fi,"displayName","Bar");Ji(fi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!fo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ji(fi,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,u=t.yAxisTicks,l=t.stackedData,c=t.dataStartIndex,h=t.displayedData,d=t.offset,p=Jae(r,n);if(!p)return null;var _=e.layout,g=n.props,v=g.dataKey,b=g.children,y=g.minPointSize,w=_==="horizontal"?a:o,x=l?w.scale.domain():null,T=ase({numericAxis:w}),A=_r(b,MM),I=h.map(function(E,P){var O,R,N,C,F,K;l?O=Zae(l[c+P],x):(O=Br(E,v),Array.isArray(O)||(O=[T,O]));var z=Ghe(y,oL.defaultProps.minPointSize)(O[1],P);if(_==="horizontal"){var Q,V=[a.scale(O[0]),a.scale(O[1])],G=V[0],Y=V[1];R=bP({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:E,index:P}),N=(Q=Y!=null?Y:G)!==null&&Q!==void 0?Q:void 0,C=p.size;var ae=G-Y;if(F=Number.isNaN(ae)?0:ae,K={x:R,y:a.y,width:C,height:a.height},Math.abs(z)>0&&Math.abs(F)<Math.abs(z)){var te=pr(F||z)*(Math.abs(z)-Math.abs(F));N-=te,F+=te}}else{var le=[o.scale(O[0]),o.scale(O[1])],je=le[0],Je=le[1];if(R=je,N=bP({axis:a,ticks:u,bandSize:i,offset:p.offset,entry:E,index:P}),C=Je-je,F=p.size,K={x:o.x,y:N,width:o.width,height:F},Math.abs(z)>0&&Math.abs(C)<Math.abs(z)){var $t=pr(C||z)*(Math.abs(z)-Math.abs(C));C+=$t}}return It(It(It({},E),{},{x:R,y:N,width:C,height:F,value:l?O:O[1],payload:E,background:K},A&&A[P]&&A[P].props),{},{tooltipPayload:[V$(n,E)],tooltipPosition:{x:R+C/2,y:N+F/2}})});return It({data:I,layout:_},d)});function hh(t){return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function nfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uL(r.key),r)}}function rfe(t,e,n){return e&&SO(t.prototype,e),n&&SO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){kg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kg(t,e,n){return e=uL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uL(t){var e=ife(t,"string");return hh(e)=="symbol"?e:String(e)}function ife(t,e){if(hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ofe=function(e,n,r,i,o){var a=e.width,s=e.height,u=e.layout,l=e.children,c=Object.keys(n),h={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!On(l,fi);return c.reduce(function(p,_){var g=n[_],v=g.orientation,b=g.domain,y=g.padding,w=y===void 0?{}:y,x=g.mirror,T=g.reversed,A="".concat(v).concat(x?"Mirror":""),I,E,P,O,R;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var N=b[1]-b[0],C=1/0,F=g.categoricalDomain.sort();if(F.forEach(function(je,Je){Je>0&&(C=Math.min((je||0)-(F[Je-1]||0),C))}),Number.isFinite(C)){var K=C/N,z=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(I=K*z/2),g.padding==="no-gap"){var Q=Ra(e.barCategoryGap,K*z),V=K*z/2;I=V-Q-(V-Q)/z*Q}}}i==="xAxis"?E=[r.left+(w.left||0)+(I||0),r.left+r.width-(w.right||0)-(I||0)]:i==="yAxis"?E=u==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(I||0),r.top+r.height-(w.bottom||0)-(I||0)]:E=g.range,T&&(E=[E[1],E[0]]);var G=Yae(g,o,d),Y=G.scale,ae=G.realScaleType;Y.domain(b).range(E),Xae(Y);var te=ose(Y,cr(cr({},g),{},{realScaleType:ae}));i==="xAxis"?(R=v==="top"&&!x||v==="bottom"&&x,P=r.left,O=h[A]-R*g.height):i==="yAxis"&&(R=v==="left"&&!x||v==="right"&&x,P=h[A]-R*g.width,O=r.top);var le=cr(cr(cr({},g),te),{},{realScaleType:ae,x:P,y:O,scale:Y,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return le.bandSize=Wp(le,te),!g.hide&&i==="xAxis"?h[A]+=(R?-1:1)*le.height:g.hide||(h[A]+=(R?-1:1)*le.width),cr(cr({},p),{},kg({},_,le))},{})},lL=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},afe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return lL({x:n,y:r},{x:i,y:o})},cL=function(){function t(e){nfe(this,t),this.scale=e}return rfe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+u}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}]),t}();kg(cL,"EPS",1e-4);var X1=function(e){var n=Object.keys(e).reduce(function(r,i){return cr(cr({},r),{},kg({},i,cL.create(e[i])))},{});return cr(cr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Ahe(i,function(u,l){return n[l].apply(u,{bandAware:a,position:s})})},isInRange:function(i){return iL(i,function(o,a){return n[a].isInRange(o)})}})};function sfe(t){return(t%180+180)%180}var ufe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=sfe(i),a=o*Math.PI/180,s=Math.atan(r/n),u=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(u)},lfe=Ro,cfe=jh,hfe=mg;function ffe(t){return function(e,n,r){var i=Object(e);if(!cfe(e)){var o=lfe(n);e=hfe(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var dfe=ffe,pfe=eL;function mfe(t){var e=pfe(t),n=e%1;return e===e?n?e-n:e:0}var gfe=mfe,yfe=_M,vfe=Ro,_fe=gfe,wfe=Math.max;function bfe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:_fe(n);return i<0&&(i=wfe(r+i,0)),yfe(t,vfe(e),i)}var xfe=bfe,Tfe=dfe,Efe=xfe,Sfe=Tfe(Efe),Ife=Sfe,Afe=I2(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),J1=M.exports.createContext(void 0),Z1=M.exports.createContext(void 0),hL=M.exports.createContext(void 0),fL=M.exports.createContext({}),dL=M.exports.createContext(void 0),pL=M.exports.createContext(0),mL=M.exports.createContext(0),AO=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,u=e.width,l=e.height,c=Afe(o);return D(J1.Provider,{value:r,children:D(Z1.Provider,{value:i,children:D(fL.Provider,{value:o,children:D(hL.Provider,{value:c,children:D(dL.Provider,{value:a,children:D(pL.Provider,{value:l,children:D(mL.Provider,{value:u,children:s})})})})})})})},Pfe=function(){return M.exports.useContext(dL)},gL=function(e){var n=M.exports.useContext(J1);n==null&&Da(!1);var r=n[e];return r==null&&Da(!1),r},Ofe=function(){var e=M.exports.useContext(J1);return Ki(e)},Cfe=function(){var e=M.exports.useContext(Z1),n=Ife(e,function(r){return iL(r.domain,Number.isFinite)});return n||Ki(e)},yL=function(e){var n=M.exports.useContext(Z1);n==null&&Da(!1);var r=n[e];return r==null&&Da(!1),r},kfe=function(){var e=M.exports.useContext(hL);return e},Rfe=function(){return M.exports.useContext(fL)},ex=function(){return M.exports.useContext(mL)},tx=function(){return M.exports.useContext(pL)};function fh(t){return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(r){Nfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nfe(t,e,n){return e=Dfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dfe(t){var e=Mfe(t,"string");return fh(e)=="symbol"?e:String(e)}function Mfe(t,e){if(fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $fe(t,e){return Ffe(t)||jfe(t,e)||Vfe(t,e)||Lfe()}function Lfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vfe(t,e){if(!!t){if(typeof t=="string")return CO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CO(t,e)}}function CO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function Ffe(t){if(Array.isArray(t))return t}var Ufe=function(e,n){var r;return Ne.isValidElement(e)?r=Ne.cloneElement(e,n):_e(e)?r=e(n):r=D("line",{...n,className:"recharts-reference-line-line"}),r},Bfe=function(e,n,r,i,o,a,s,u,l){var c=o.x,h=o.y,d=o.width,p=o.height;if(r){var _=l.y,g=e.y.apply(_,{position:a});if(Lr(l,"discard")&&!e.y.isInRange(g))return null;var v=[{x:c+d,y:g},{x:c,y:g}];return u==="left"?v.reverse():v}if(n){var b=l.x,y=e.x.apply(b,{position:a});if(Lr(l,"discard")&&!e.x.isInRange(y))return null;var w=[{x:y,y:h+p},{x:y,y:h}];return s==="top"?w.reverse():w}if(i){var x=l.segment,T=x.map(function(A){return e.apply(A,{position:a})});return Lr(l,"discard")&&whe(T,function(A){return!e.isInRange(A)})?null:T}return null};function nx(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,u=t.alwaysShow,l=Pfe(),c=gL(i),h=yL(o),d=kfe();if(!l||!d)return null;ci(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=X1({x:c.scale,y:h.scale}),_=Tt(e),g=Tt(n),v=r&&r.length===2,b=Bfe(p,_,g,v,d,t.position,c.orientation,h.orientation,t);if(!b)return null;var y=$fe(b,2),w=y[0],x=w.x,T=w.y,A=y[1],I=A.x,E=A.y,P=Lr(t,"hidden")?"url(#".concat(l,")"):void 0,O=OO(OO({clipPath:P},Oe(t,!0)),{},{x1:x,y1:T,x2:I,y2:E});return X(kt,{className:Re("recharts-reference-line",s),children:[Ufe(a,O),Zt.renderCallByParent(t,afe({x1:x,y1:T,x2:I,y2:E}))]})}nx.displayName="ReferenceLine";nx.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function dh(t){return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(n),!0).forEach(function(r){zfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zfe(t,e,n){return e=qfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qfe(t){var e=Wfe(t,"string");return dh(e)=="symbol"?e:String(e)}function Wfe(t,e){if(dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gfe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=X1({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Lr(e,"discard")&&!a.isInRange(s)?null:s};function qh(t){var e=t.x,n=t.y,r=t.r,i=t.alwaysShow,o=t.clipPathId,a=Tt(e),s=Tt(n);if(ci(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!a||!s)return null;var u=Gfe(t);if(!u)return null;var l=u.x,c=u.y,h=t.shape,d=t.className,p=Lr(t,"hidden")?"url(#".concat(o,")"):void 0,_=RO(RO({clipPath:p},Oe(t,!0)),{},{cx:l,cy:c});return X(kt,{className:Re("recharts-reference-dot",d),children:[qh.renderDot(h,_),Zt.renderCallByParent(t,{x:l-r,y:c-r,width:2*r,height:2*r})]})}qh.displayName="ReferenceDot";qh.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};qh.renderDot=function(t,e){var n;return Ne.isValidElement(t)?n=Ne.cloneElement(t,e):_e(t)?n=t(e):n=D(J$,{...e,cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"}),n};function ph(t){return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function NO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(n),!0).forEach(function(r){Kfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kfe(t,e,n){return e=Hfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hfe(t){var e=Qfe(t,"string");return ph(e)=="symbol"?e:String(e)}function Qfe(t,e){if(ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yfe=function(e,n,r,i,o){var a=o.x1,s=o.x2,u=o.y1,l=o.y2,c=o.xAxis,h=o.yAxis;if(!c||!h)return null;var d=X1({x:c.scale,y:h.scale}),p={x:e?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(u,{position:"start"}):d.y.rangeMin},_={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(l,{position:"end"}):d.y.rangeMax};return Lr(o,"discard")&&(!d.isInRange(p)||!d.isInRange(_))?null:lL(p,_)};function Wh(t){var e=t.x1,n=t.x2,r=t.y1,i=t.y2,o=t.className,a=t.alwaysShow,s=t.clipPathId;ci(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Tt(e),l=Tt(n),c=Tt(r),h=Tt(i),d=t.shape;if(!u&&!l&&!c&&!h&&!d)return null;var p=Yfe(u,l,c,h,t);if(!p&&!d)return null;var _=Lr(t,"hidden")?"url(#".concat(s,")"):void 0;return X(kt,{className:Re("recharts-reference-area",o),children:[Wh.renderRect(d,DO(DO({clipPath:_},Oe(t,!0)),p)),Zt.renderCallByParent(t,p)]})}Wh.displayName="ReferenceArea";Wh.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};Wh.renderRect=function(t,e){var n;return Ne.isValidElement(t)?n=Ne.cloneElement(t,e):_e(t)?n=t(e):n=D(Y1,{...e,className:"recharts-reference-area-rect"}),n};function vL(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)if(n===void 0||n(t[i])===!0)r.push(t[i]);else return;return r}function Xfe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return ufe(r,n)}function Jfe(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function em(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Zfe(t,e){return vL(t,e+1)}function ede(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,u=0,l=1,c=a,h=function(){var _=r==null?void 0:r[u];if(_===void 0)return{v:vL(r,l)};var g=u,v,b=function(){return v===void 0&&(v=n(_,g)),v},y=_.coordinate,w=u===0||em(t,y,b,c,s);w||(u=0,c=a,l+=1),w&&(c=y+t*(b()/2+i),u+=l)},d;l<=o.length;)if(d=h(),d)return d.v;return[]}function mh(t){return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function MO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(n),!0).forEach(function(r){tde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tde(t,e,n){return e=nde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nde(t){var e=rde(t,"string");return mh(e)=="symbol"?e:String(e)}function rde(t,e){if(mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ide(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,u=e.end,l=function(d){var p=o[d],_,g=function(){return _===void 0&&(_=n(p,d)),_};if(d===a-1){var v=t*(p.coordinate+t*g()/2-u);o[d]=p=Xt(Xt({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else o[d]=p=Xt(Xt({},p),{},{tickCoord:p.coordinate});var b=em(t,p.tickCoord,g,s,u);b&&(u=p.tickCoord-t*(g()/2+i),o[d]=Xt(Xt({},p),{},{isShow:!0}))},c=a-1;c>=0;c--)l(c);return o}function ode(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,u=e.start,l=e.end;if(o){var c=r[s-1],h=n(c,s-1),d=t*(c.coordinate+t*h/2-l);a[s-1]=c=Xt(Xt({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var p=em(t,c.tickCoord,function(){return h},u,l);p&&(l=c.tickCoord-t*(h/2+i),a[s-1]=Xt(Xt({},c),{},{isShow:!0}))}for(var _=o?s-1:s,g=function(y){var w=a[y],x,T=function(){return x===void 0&&(x=n(w,y)),x};if(y===0){var A=t*(w.coordinate-t*T()/2-u);a[y]=w=Xt(Xt({},w),{},{tickCoord:A<0?w.coordinate-A*t:w.coordinate})}else a[y]=w=Xt(Xt({},w),{},{tickCoord:w.coordinate});var I=em(t,w.tickCoord,T,u,l);I&&(u=w.tickCoord+t*(T()/2+i),a[y]=Xt(Xt({},w),{},{isShow:!0}))},v=0;v<_;v++)g(v);return a}function rx(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,u=t.interval,l=t.tickFormatter,c=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(ee(u)||fo.isSsr)return Zfe(i,typeof u=="number"&&ee(u)?u:0);var d=[],p=s==="top"||s==="bottom"?"width":"height",_=c&&p==="width"?Zl(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(w,x){var T=_e(l)?l(w.value,x):w.value;return p==="width"?Xfe(Zl(T,{fontSize:e,letterSpacing:n}),_,h):Zl(T,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?pr(i[1].coordinate-i[0].coordinate):1,b=Jfe(o,v,p);return u==="equidistantPreserveStart"?ede(v,b,g,i,a):(u==="preserveStart"||u==="preserveStartEnd"?d=ode(v,b,g,i,a,u==="preserveStartEnd"):d=ide(v,b,g,i,a),d.filter(function(y){return y.isShow}))}var ade=["viewBox"],sde=["viewBox"],ude=["ticks"];function yu(t){return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function $O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(n),!0).forEach(function(r){ix(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hv(t,e){if(t==null)return{};var n=lde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function lde(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function cde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wL(r.key),r)}}function hde(t,e,n){return e&&LO(t.prototype,e),n&&LO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fde(t,e,n){return e=tm(e),dde(t,_L()?Reflect.construct(e,n||[],tm(t).constructor):e.apply(t,n))}function dde(t,e){if(e&&(yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pde(t)}function pde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _L(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_L=function(){return!!t})()}function tm(t){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tm(t)}function mde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j_(t,e)}function j_(t,e){return j_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j_(t,e)}function ix(t,e,n){return e=wL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wL(t){var e=gde(t,"string");return yu(e)=="symbol"?e:String(e)}function gde(t,e){if(yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bu=function(t){mde(e,t);function e(n){var r;return cde(this,e),r=fde(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return hde(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=hv(r,ade),s=this.props,u=s.viewBox,l=hv(s,sde);return!Ms(o,u)||!Ms(a,l)||!Ms(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(!!r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,u=i.height,l=i.orientation,c=i.tickSize,h=i.mirror,d=i.tickMargin,p,_,g,v,b,y,w=h?-1:1,x=r.tickSize||c,T=ee(r.tickCoord)?r.tickCoord:r.coordinate;switch(l){case"top":p=_=r.coordinate,v=a+ +!h*u,g=v-w*x,y=g-w*d,b=T;break;case"left":g=v=r.coordinate,_=o+ +!h*s,p=_-w*x,b=p-w*d,y=T;break;case"right":g=v=r.coordinate,_=o+ +h*s,p=_+w*x,b=p+w*d,y=T;break;default:p=_=r.coordinate,v=a+ +h*u,g=v+w*x,y=g+w*d,b=T;break}return{line:{x1:p,y1:g,x2:_,y2:v},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,u=r.orientation,l=r.mirror,c=r.axisLine,h=an(an(an({},Oe(this.props,!1)),Oe(c,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var d=+(u==="top"&&!l||u==="bottom"&&l);h=an(an({},h),{},{x1:i,y1:o+d*s,x2:i+a,y2:o+d*s})}else{var p=+(u==="left"&&!l||u==="right"&&l);h=an(an({},h),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return D("line",{...h,className:Re("recharts-cartesian-axis-line",$n(c,"className"))})}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,u=s.tickLine,l=s.stroke,c=s.tick,h=s.tickFormatter,d=s.unit,p=rx(an(an({},this.props),{},{ticks:r}),i,o),_=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Oe(this.props,!1),b=Oe(c,!1),y=an(an({},v),{},{fill:"none"},Oe(u,!1)),w=p.map(function(x,T){var A=a.getTickLineCoord(x),I=A.line,E=A.tick,P=an(an(an(an({textAnchor:_,verticalAnchor:g},v),{},{stroke:"none",fill:l},b),E),{},{index:T,payload:x,visibleTicksCount:p.length,tickFormatter:h});return X(kt,{className:"recharts-cartesian-axis-tick",...wp(a.props,x,T),children:[u&&D("line",{...y,...I,className:Re("recharts-cartesian-axis-tick-line",$n(u,"className"))}),c&&e.renderTickItem(c,P,"".concat(_e(h)?h(x.value,T):x.value).concat(d||""))]},"tick-".concat(x.value,"-").concat(x.coordinate,"-").concat(x.tickCoord))});return D("g",{className:"recharts-cartesian-axis-ticks",children:w})}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,u=i.ticksGenerator,l=i.className,c=i.hide;if(c)return null;var h=this.props,d=h.ticks,p=hv(h,ude),_=d;return _e(u)&&(_=d&&d.length>0?u(this.props):u(p)),a<=0||s<=0||!_||!_.length?null:X(kt,{className:Re("recharts-cartesian-axis",l),ref:function(v){r.layerReference=v},children:[o&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),Zt.renderCallByParent(this.props)]})}}],[{key:"renderTickItem",value:function(r,i,o){var a;return Ne.isValidElement(r)?a=Ne.cloneElement(r,i):_e(r)?a=r(i):a=D(Np,{...i,className:"recharts-cartesian-axis-tick-value",children:o}),a}}]),e}(M.exports.Component);ix(Bu,"displayName","CartesianAxis");ix(Bu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var yde=["x1","y1","x2","y2","key"],vde=["offset"];function Ma(t){return Ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ma(t)}function VO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(n),!0).forEach(function(r){_de(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _de(t,e,n){return e=wde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wde(t){var e=bde(t,"string");return Ma(e)=="symbol"?e:String(e)}function bde(t,e){if(Ma(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ma(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jO(t,e){if(t==null)return{};var n=xde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function xde(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Tde=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height;return D("rect",{x:i,y:o,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function bL(t,e){var n;if(Ne.isValidElement(t))n=Ne.cloneElement(t,e);else if(_e(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,u=jO(e,yde),l=Oe(u,!1);l.offset;var c=jO(l,vde);n=M.exports.createElement("line",{...c,x1:r,y1:i,x2:o,y2:a,fill:"none",key:s})}return n}function Ede(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,u){var l=en(en({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(u),index:u});return bL(i,l)});return D("g",{className:"recharts-cartesian-grid-horizontal",children:a})}function Sde(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,u){var l=en(en({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(u),index:u});return bL(i,l)});return D("g",{className:"recharts-cartesian-grid-vertical",children:a})}function Ide(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,u=t.horizontal,l=u===void 0?!0:u;if(!l||!e||!e.length)return null;var c=s.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==c[0]&&c.unshift(0);var h=c.map(function(d,p){var _=!c[p+1],g=_?i+a-d:c[p+1]-d;if(g<=0)return null;var v=p%e.length;return D("rect",{y:d,x:r,height:g,width:o,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"},"react-".concat(p))});return D("g",{className:"recharts-cartesian-gridstripes-horizontal",children:h})}function Ade(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,u=t.height,l=t.verticalPoints;if(!n||!r||!r.length)return null;var c=l.map(function(d){return Math.round(d+o-o)}).sort(function(d,p){return d-p});o!==c[0]&&c.unshift(0);var h=c.map(function(d,p){var _=!c[p+1],g=_?o+s-d:c[p+1]-d;if(g<=0)return null;var v=p%r.length;return D("rect",{x:d,y:a,width:g,height:u,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"},"react-".concat(p))});return D("g",{className:"recharts-cartesian-gridstripes-vertical",children:h})}var Pde=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return $$(rx(en(en(en({},Bu.defaultProps),r),{},{ticks:ai(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},Ode=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return $$(rx(en(en(en({},Bu.defaultProps),r),{},{ticks:ai(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},as={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function xL(t){var e,n,r,i,o,a,s=ex(),u=tx(),l=Rfe(),c=en(en({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:as.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:as.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:as.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:as.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:as.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:as.verticalFill,x:ee(t.x)?t.x:l.left,y:ee(t.y)?t.y:l.top,width:ee(t.width)?t.width:l.width,height:ee(t.height)?t.height:l.height}),h=c.x,d=c.y,p=c.width,_=c.height,g=c.syncWithTicks,v=c.horizontalValues,b=c.verticalValues,y=Ofe(),w=Cfe();if(!ee(p)||p<=0||!ee(_)||_<=0||!ee(h)||h!==+h||!ee(d)||d!==+d)return null;var x=c.verticalCoordinatesGenerator||Pde,T=c.horizontalCoordinatesGenerator||Ode,A=c.horizontalPoints,I=c.verticalPoints;if((!A||!A.length)&&_e(T)){var E=v&&v.length,P=T({yAxis:w?en(en({},w),{},{ticks:E?v:w.ticks}):void 0,width:s,height:u,offset:l},E?!0:g);ci(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ma(P),"]")),Array.isArray(P)&&(A=P)}if((!I||!I.length)&&_e(x)){var O=b&&b.length,R=x({xAxis:y?en(en({},y),{},{ticks:O?b:y.ticks}):void 0,width:s,height:u,offset:l},O?!0:g);ci(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ma(R),"]")),Array.isArray(R)&&(I=R)}return X("g",{className:"recharts-cartesian-grid",children:[D(Tde,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height}),D(Ede,{...c,offset:l,horizontalPoints:A,xAxis:y,yAxis:w}),D(Sde,{...c,offset:l,verticalPoints:I,xAxis:y,yAxis:w}),D(Ide,{...c,horizontalPoints:A}),D(Ade,{...c,verticalPoints:I})]})}xL.displayName="CartesianGrid";var Rg=function(e){var n=e.xAxisId,r=ex(),i=tx(),o=gL(n);return o==null?null:D(Bu,{...o,className:Re("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return ai(s,!0)}})};Rg.displayName="XAxis";Rg.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var Ng=function(e){var n=e.yAxisId,r=ex(),i=tx(),o=yL(n);return o==null?null:D(Bu,{...o,className:Re("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return ai(s,!0)}})};Ng.displayName="YAxis";Ng.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function FO(t){return Nde(t)||Rde(t)||kde(t)||Cde()}function Cde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kde(t,e){if(!!t){if(typeof t=="string")return F_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F_(t,e)}}function Rde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nde(t){if(Array.isArray(t))return F_(t)}function F_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var U_=function(e,n,r,i,o){var a=_r(e,nx),s=_r(e,qh),u=[].concat(FO(a),FO(s)),l=_r(e,Wh),c="".concat(i,"Id"),h=i[0],d=n;if(u.length&&(d=u.reduce(function(g,v){if(v.props[c]===r&&Lr(v.props,"extendDomain")&&ee(v.props[h])){var b=v.props[h];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},d)),l.length){var p="".concat(h,"1"),_="".concat(h,"2");d=l.reduce(function(g,v){if(v.props[c]===r&&Lr(v.props,"extendDomain")&&ee(v.props[p])&&ee(v.props[_])){var b=v.props[p],y=v.props[_];return[Math.min(g[0],b,y),Math.max(g[1],b,y)]}return g},d)}return o&&o.length&&(d=o.reduce(function(g,v){return ee(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},d)),d},TL={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,l,c){this.fn=u,this.context=l,this.once=c||!1}function o(u,l,c,h,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,h||u,d),_=n?n+l:l;return u._events[_]?u._events[_].fn?u._events[_]=[u._events[_],p]:u._events[_].push(p):(u._events[_]=p,u._eventsCount++),u}function a(u,l){--u._eventsCount===0?u._events=new r:delete u._events[l]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],c,h;if(this._eventsCount===0)return l;for(h in c=this._events)e.call(c,h)&&l.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},s.prototype.listeners=function(l){var c=n?n+l:l,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,p=h.length,_=new Array(p);d<p;d++)_[d]=h[d].fn;return _},s.prototype.listenerCount=function(l){var c=n?n+l:l,h=this._events[c];return h?h.fn?1:h.length:0},s.prototype.emit=function(l,c,h,d,p,_){var g=n?n+l:l;if(!this._events[g])return!1;var v=this._events[g],b=arguments.length,y,w;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,h),!0;case 4:return v.fn.call(v.context,c,h,d),!0;case 5:return v.fn.call(v.context,c,h,d,p),!0;case 6:return v.fn.call(v.context,c,h,d,p,_),!0}for(w=1,y=new Array(b-1);w<b;w++)y[w-1]=arguments[w];v.fn.apply(v.context,y)}else{var x=v.length,T;for(w=0;w<x;w++)switch(v[w].once&&this.removeListener(l,v[w].fn,void 0,!0),b){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,c);break;case 3:v[w].fn.call(v[w].context,c,h);break;case 4:v[w].fn.call(v[w].context,c,h,d);break;default:if(!y)for(T=1,y=new Array(b-1);T<b;T++)y[T-1]=arguments[T];v[w].fn.apply(v[w].context,y)}}return!0},s.prototype.on=function(l,c,h){return o(this,l,c,h,!1)},s.prototype.once=function(l,c,h){return o(this,l,c,h,!0)},s.prototype.removeListener=function(l,c,h,d){var p=n?n+l:l;if(!this._events[p])return this;if(!c)return a(this,p),this;var _=this._events[p];if(_.fn)_.fn===c&&(!d||_.once)&&(!h||_.context===h)&&a(this,p);else{for(var g=0,v=[],b=_.length;g<b;g++)(_[g].fn!==c||d&&!_[g].once||h&&_[g].context!==h)&&v.push(_[g]);v.length?this._events[p]=v.length===1?v[0]:v:a(this,p)}return this},s.prototype.removeAllListeners=function(l){var c;return l?(c=n?n+l:l,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(TL);const Dde=TL.exports;var fv=new Dde,dv="recharts.syncMouseEvents";function gh(t){return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function Mde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EL(r.key),r)}}function $de(t,e,n){return e&&UO(t.prototype,e),n&&UO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pv(t,e,n){return e=EL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EL(t){var e=Lde(t,"string");return gh(e)=="symbol"?e:String(e)}function Lde(t,e){if(gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vde=function(){function t(){Mde(this,t),pv(this,"activeIndex",0),pv(this,"coordinateList",[]),pv(this,"layout","horizontal")}return $de(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,u=n.layout,l=u===void 0?null:u,c=n.offset,h=c===void 0?null:c,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=o!=null?o:this.coordinateList)!==null&&r!==void 0?r:[],this.container=s!=null?s:this.container,this.layout=l!=null?l:this.layout,this.offset=h!=null?h:this.offset,this.mouseHandlerCallback=p!=null?p:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,u=this.coordinateList[this.activeIndex].coordinate,l=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=o+u+l,d=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:h,pageY:d})}}}]),t}();function jde(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(!!r&&!!i&&ee(r)&&ee(i))return!0}return!1}function Fde(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function SL(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Ut(e,n,r,i),s=Ut(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Ude(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,u=e.cy,l=e.innerRadius,c=e.outerRadius,h=e.angle,d=Ut(s,u,l,h),p=Ut(s,u,c,h);r=d.x,i=d.y,o=p.x,a=p.y}else return SL(e);return[{x:r,y:i},{x:o,y:a}]}function yh(t){return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function BO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(n),!0).forEach(function(r){Bde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bde(t,e,n){return e=zde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zde(t){var e=qde(t,"string");return yh(e)=="symbol"?e:String(e)}function qde(t,e){if(yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wde(t){var e=t.element,n=t.tooltipEventType,r=t.isActive,i=t.activeCoordinate,o=t.activePayload,a=t.offset,s=t.activeTooltipIndex,u=t.tooltipAxisBandSize,l=t.layout,c=t.chartName;if(!e||!e.props.cursor||!r||!i||c!=="ScatterChart"&&n!=="axis")return null;var h,d=LP;if(c==="ScatterChart")h=i,d=Qle;else if(c==="BarChart")h=Fde(l,i,a,u),d=Y1;else if(l==="radial"){var p=SL(i),_=p.cx,g=p.cy,v=p.radius,b=p.startAngle,y=p.endAngle;h={cx:_,cy:g,startAngle:b,endAngle:y,innerRadius:v,outerRadius:v},d=U$}else h={points:Ude(l,i,a)},d=LP;var w=Kf(Kf(Kf(Kf({stroke:"#ccc",pointerEvents:"none"},a),h),Oe(e.props.cursor,!1)),{},{payload:o,payloadIndex:s,className:Re("recharts-tooltip-cursor",e.props.cursor.className)});return M.exports.isValidElement(e.props.cursor)?M.exports.cloneElement(e.props.cursor,w):M.exports.createElement(d,w)}var Gde=["item"],Kde=["children","className","width","height","style","compact","title","desc"];function vu(t){return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function zO(t,e){return Yde(t)||Qde(t,e)||AL(t,e)||Hde()}function Hde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function Yde(t){if(Array.isArray(t))return t}function qO(t,e){if(t==null)return{};var n=Xde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function Xde(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Jde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PL(r.key),r)}}function Zde(t,e,n){return e&&WO(t.prototype,e),n&&WO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function epe(t,e,n){return e=nm(e),tpe(t,IL()?Reflect.construct(e,n||[],nm(t).constructor):e.apply(t,n))}function tpe(t,e){if(e&&(vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Se(t)}function IL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IL=function(){return!!t})()}function nm(t){return nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nm(t)}function Se(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function npe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B_(t,e)}function B_(t,e){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B_(t,e)}function _u(t){return ope(t)||ipe(t)||AL(t)||rpe()}function rpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AL(t,e){if(!!t){if(typeof t=="string")return z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z_(t,e)}}function ipe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ope(t){if(Array.isArray(t))return z_(t)}function z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){de(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function de(t,e,n){return e=PL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PL(t){var e=ape(t,"string");return vu(e)=="symbol"?e:String(e)}function ape(t,e){if(vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var spe={xAxis:["bottom","top"],yAxis:["left","right"]},upe={width:"100%",height:"100%"},OL={x:0,y:0};function Hf(t){return t}var lpe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},cpe=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return B(B(B({},i),Ut(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var u=o.coordinate,l=i.angle;return B(B(B({},i),Ut(i.cx,i.cy,u,l)),{},{angle:l,radius:u})}return OL},Dg=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r!=null?r:[]).reduce(function(s,u){var l=u.props.data;return l&&l.length?[].concat(_u(s),_u(l)):s},[]);return a.length>0?a:e&&e.length&&ee(i)&&ee(o)?e.slice(i,o+1):[]};function CL(t){return t==="number"?[0,"auto"]:void 0}var q_=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Dg(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(u,l){var c,h=(c=l.props.data)!==null&&c!==void 0?c:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(a.dataKey&&!a.allowDuplicatedCategory){var p=h===void 0?s:h;d=z0(p,a.dataKey,i)}else d=h&&h[r]||s[r];return d?[].concat(_u(u),[V$(l,d)]):u},[])},KO=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=lpe(o,r),s=e.orderedTooltipTicks,u=e.tooltipAxis,l=e.tooltipTicks,c=qae(a,s,l,u);if(c>=0&&l){var h=l[c]&&l[c].value,d=q_(e,n,c,h),p=cpe(r,s,c,o);return{activeTooltipIndex:c,activeLabel:h,activePayload:d,activeCoordinate:p}}return null},hpe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,u=n.dataStartIndex,l=n.dataEndIndex,c=e.layout,h=e.children,d=e.stackOffset,p=M$(c,o);return r.reduce(function(_,g){var v,b=g.props,y=b.type,w=b.dataKey,x=b.allowDataOverflow,T=b.allowDuplicatedCategory,A=b.scale,I=b.ticks,E=b.includeHidden,P=g.props[a];if(_[P])return _;var O=Dg(e.data,{graphicalItems:i.filter(function(te){return te.props[a]===P}),dataStartIndex:u,dataEndIndex:l}),R=O.length,N,C,F;jde(g.props.domain,x,y)&&(N=S_(g.props.domain,null,x),p&&(y==="number"||A!=="auto")&&(F=tc(O,w,"category")));var K=CL(y);if(!N||N.length===0){var z,Q=(z=g.props.domain)!==null&&z!==void 0?z:K;if(w){if(N=tc(O,w,y),y==="category"&&p){var V=JG(N);T&&V?(C=N,N=Xp(0,R)):T||(N=EP(Q,N,g).reduce(function(te,le){return te.indexOf(le)>=0?te:[].concat(_u(te),[le])},[]))}else if(y==="category")T?N=N.filter(function(te){return te!==""&&!ke(te)}):N=EP(Q,N,g).reduce(function(te,le){return te.indexOf(le)>=0||le===""||ke(le)?te:[].concat(_u(te),[le])},[]);else if(y==="number"){var G=Qae(O,i.filter(function(te){return te.props[a]===P&&(E||!te.props.hide)}),w,o,c);G&&(N=G)}p&&(y==="number"||A!=="auto")&&(F=tc(O,w,"category"))}else p?N=Xp(0,R):s&&s[P]&&s[P].hasStack&&y==="number"?N=d==="expand"?[0,1]:L$(s[P].stackGroups,u,l):N=D$(O,i.filter(function(te){return te.props[a]===P&&(E||!te.props.hide)}),y,c,!0);if(y==="number")N=U_(h,N,P,o,I),Q&&(N=S_(Q,N,x));else if(y==="category"&&Q){var Y=Q,ae=N.every(function(te){return Y.indexOf(te)>=0});ae&&(N=Y)}}return B(B({},_),{},de({},P,B(B({},g.props),{},{axisType:o,domain:N,categoricalDomain:F,duplicateDomain:C,originalDomain:(v=g.props.domain)!==null&&v!==void 0?v:K,isCategorical:p,layout:c})))},{})},fpe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,u=n.dataStartIndex,l=n.dataEndIndex,c=e.layout,h=e.children,d=Dg(e.data,{graphicalItems:r,dataStartIndex:u,dataEndIndex:l}),p=d.length,_=M$(c,o),g=-1;return r.reduce(function(v,b){var y=b.props[a],w=CL("number");if(!v[y]){g++;var x;return _?x=Xp(0,p):s&&s[y]&&s[y].hasStack?(x=L$(s[y].stackGroups,u,l),x=U_(h,x,y,o)):(x=S_(w,D$(d,r.filter(function(T){return T.props[a]===y&&!T.props.hide}),"number",c),i.defaultProps.allowDataOverflow),x=U_(h,x,y,o)),B(B({},v),{},de({},y,B(B({axisType:o},i.defaultProps),{},{hide:!0,orientation:$n(spe,"".concat(o,".").concat(g%2),null),domain:x,originalDomain:w,isCategorical:_,layout:c})))}return v},{})},dpe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,u=n.dataStartIndex,l=n.dataEndIndex,c=e.children,h="".concat(i,"Id"),d=_r(c,o),p={};return d&&d.length?p=hpe(e,{axes:d,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:s,dataStartIndex:u,dataEndIndex:l}):a&&a.length&&(p=fpe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:s,dataStartIndex:u,dataEndIndex:l})),p},ppe=function(e){var n=Ki(e),r=ai(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:x1(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Wp(n,r)}},HO=function(e){var n=e.children,r=e.defaultShowTooltip,i=On(n,mu),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:Boolean(r)}},mpe=function(e){return!e||!e.length?!1:e.some(function(n){var r=li(n&&n.type);return r&&r.indexOf("Bar")>=0})},QO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},gpe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,u=s===void 0?{}:s,l=r.width,c=r.height,h=r.children,d=r.margin||{},p=On(h,mu),_=On(h,su),g=Object.keys(u).reduce(function(T,A){var I=u[A],E=I.orientation;return!I.mirror&&!I.hide?B(B({},T),{},de({},E,T[E]+I.width)):T},{left:d.left||0,right:d.right||0}),v=Object.keys(a).reduce(function(T,A){var I=a[A],E=I.orientation;return!I.mirror&&!I.hide?B(B({},T),{},de({},E,$n(T,"".concat(E))+I.height)):T},{top:d.top||0,bottom:d.bottom||0}),b=B(B({},v),g),y=b.bottom;p&&(b.bottom+=p.props.height||mu.defaultProps.height),_&&n&&(b=Kae(b,i,r,n));var w=l-b.left-b.right,x=c-b.top-b.bottom;return B(B({brushBottom:y},b),{},{width:Math.max(w,0),height:Math.max(x,0)})},ype=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},vpe=function(e){var n,r=e.chartName,i=e.GraphicalChild,o=e.defaultTooltipEventType,a=o===void 0?"axis":o,s=e.validateTooltipEventTypes,u=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,h=e.formatAxisMap,d=e.defaultProps,p=function(v,b){var y=b.graphicalItems,w=b.stackGroups,x=b.offset,T=b.updateId,A=b.dataStartIndex,I=b.dataEndIndex,E=v.barSize,P=v.layout,O=v.barGap,R=v.barCategoryGap,N=v.maxBarSize,C=QO(P),F=C.numericAxisName,K=C.cateAxisName,z=mpe(y),Q=[];return y.forEach(function(V,G){var Y=Dg(v.data,{graphicalItems:[V],dataStartIndex:A,dataEndIndex:I}),ae=V.props,te=ae.dataKey,le=ae.maxBarSize,je=V.props["".concat(F,"Id")],Je=V.props["".concat(K,"Id")],$t={},We=l.reduce(function(Tr,ir){var Ga=b["".concat(ir.axisType,"Map")],Gh=V.props["".concat(ir.axisType,"Id")];Ga&&Ga[Gh]||ir.axisType==="zAxis"||Da(!1);var Ka=Ga[Gh];return B(B({},Tr),{},de(de({},ir.axisType,Ka),"".concat(ir.axisType,"Ticks"),ai(Ka)))},$t),nr=We[K],re=We["".concat(K,"Ticks")],fe=w&&w[je]&&w[je].hasStack&&sse(V,w[je].stackGroups),me=li(V.type).indexOf("Bar")>=0,q=Wp(nr,re),Ge=[],we=z&&Wae({barSize:E,stackGroups:w,totalSize:ype(We,K)});if(me){var tt,nt,qt=ke(le)?N:le,rr=(tt=(nt=Wp(nr,re,!0))!==null&&nt!==void 0?nt:qt)!==null&&tt!==void 0?tt:0;Ge=Gae({barGap:O,barCategoryGap:R,bandSize:rr!==q?rr:q,sizeList:we[Je],maxBarSize:qt}),rr!==q&&(Ge=Ge.map(function(Tr){return B(B({},Tr),{},{position:B(B({},Tr.position),{},{offset:Tr.position.offset-rr/2})})}))}var $o=V&&V.type&&V.type.getComposedData;$o&&Q.push({props:B(B({},$o(B(B({},We),{},{displayedData:Y,props:v,dataKey:te,item:V,bandSize:q,barPosition:Ge,offset:x,stackedData:fe,layout:P,dataStartIndex:A,dataEndIndex:I}))),{},de(de(de({key:V.key||"item-".concat(G)},F,We[F]),K,We[K]),"animationId",T)),childIndex:lK(V,v.children),item:V})}),Q},_=function(v,b){var y=v.props,w=v.dataStartIndex,x=v.dataEndIndex,T=v.updateId;if(!mI({props:y}))return null;var A=y.children,I=y.layout,E=y.stackOffset,P=y.data,O=y.reverseStackOrder,R=QO(I),N=R.numericAxisName,C=R.cateAxisName,F=_r(A,i),K=ise(P,F,"".concat(N,"Id"),"".concat(C,"Id"),E,O),z=l.reduce(function(ae,te){var le="".concat(te.axisType,"Map");return B(B({},ae),{},de({},le,dpe(y,B(B({},te),{},{graphicalItems:F,stackGroups:te.axisType===N&&K,dataStartIndex:w,dataEndIndex:x}))))},{}),Q=gpe(B(B({},z),{},{props:y,graphicalItems:F}),b==null?void 0:b.legendBBox);Object.keys(z).forEach(function(ae){z[ae]=h(y,z[ae],Q,ae.replace("Map",""),r)});var V=z["".concat(C,"Map")],G=ppe(V),Y=p(y,B(B({},z),{},{dataStartIndex:w,dataEndIndex:x,updateId:T,graphicalItems:F,stackGroups:K,offset:Q}));return B(B({formattedGraphicalItems:Y,graphicalItems:F,offset:Q,stackGroups:K},G),z)};return n=function(g){npe(v,g);function v(b){var y,w,x;return Jde(this,v),x=epe(this,v,[b]),de(Se(x),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),de(Se(x),"accessibilityManager",new Vde),de(Se(x),"handleLegendBBoxUpdate",function(T){if(T){var A=x.state,I=A.dataStartIndex,E=A.dataEndIndex,P=A.updateId;x.setState(B({legendBBox:T},_({props:x.props,dataStartIndex:I,dataEndIndex:E,updateId:P},B(B({},x.state),{},{legendBBox:T}))))}}),de(Se(x),"handleReceiveSyncEvent",function(T,A,I){if(x.props.syncId===T){if(I===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(A)}}),de(Se(x),"handleBrushChange",function(T){var A=T.startIndex,I=T.endIndex;if(A!==x.state.dataStartIndex||I!==x.state.dataEndIndex){var E=x.state.updateId;x.setState(function(){return B({dataStartIndex:A,dataEndIndex:I},_({props:x.props,dataStartIndex:A,dataEndIndex:I,updateId:E},x.state))}),x.triggerSyncEvent({dataStartIndex:A,dataEndIndex:I})}}),de(Se(x),"handleMouseEnter",function(T){var A=x.getMouseInfo(T);if(A){var I=B(B({},A),{},{isTooltipActive:!0});x.setState(I),x.triggerSyncEvent(I);var E=x.props.onMouseEnter;_e(E)&&E(I,T)}}),de(Se(x),"triggeredAfterMouseMove",function(T){var A=x.getMouseInfo(T),I=A?B(B({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(I),x.triggerSyncEvent(I);var E=x.props.onMouseMove;_e(E)&&E(I,T)}),de(Se(x),"handleItemMouseEnter",function(T){x.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),de(Se(x),"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),de(Se(x),"handleMouseMove",function(T){T.persist(),x.throttleTriggeredAfterMouseMove(T)}),de(Se(x),"handleMouseLeave",function(T){x.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};x.setState(A),x.triggerSyncEvent(A);var I=x.props.onMouseLeave;_e(I)&&I(A,T)}),de(Se(x),"handleOuterEvent",function(T){var A=uK(T),I=$n(x.props,"".concat(A));if(A&&_e(I)){var E,P;/.*touch.*/i.test(A)?P=x.getMouseInfo(T.changedTouches[0]):P=x.getMouseInfo(T),I((E=P)!==null&&E!==void 0?E:{},T)}}),de(Se(x),"handleClick",function(T){var A=x.getMouseInfo(T);if(A){var I=B(B({},A),{},{isTooltipActive:!0});x.setState(I),x.triggerSyncEvent(I);var E=x.props.onClick;_e(E)&&E(I,T)}}),de(Se(x),"handleMouseDown",function(T){var A=x.props.onMouseDown;if(_e(A)){var I=x.getMouseInfo(T);A(I,T)}}),de(Se(x),"handleMouseUp",function(T){var A=x.props.onMouseUp;if(_e(A)){var I=x.getMouseInfo(T);A(I,T)}}),de(Se(x),"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),de(Se(x),"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&x.handleMouseDown(T.changedTouches[0])}),de(Se(x),"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&x.handleMouseUp(T.changedTouches[0])}),de(Se(x),"triggerSyncEvent",function(T){x.props.syncId!==void 0&&fv.emit(dv,x.props.syncId,T,x.eventEmitterSymbol)}),de(Se(x),"applySyncEvent",function(T){var A=x.props,I=A.layout,E=A.syncMethod,P=x.state.updateId,O=T.dataStartIndex,R=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)x.setState(B({dataStartIndex:O,dataEndIndex:R},_({props:x.props,dataStartIndex:O,dataEndIndex:R,updateId:P},x.state)));else if(T.activeTooltipIndex!==void 0){var N=T.chartX,C=T.chartY,F=T.activeTooltipIndex,K=x.state,z=K.offset,Q=K.tooltipTicks;if(!z)return;if(typeof E=="function")F=E(Q,T);else if(E==="value"){F=-1;for(var V=0;V<Q.length;V++)if(Q[V].value===T.activeLabel){F=V;break}}var G=B(B({},z),{},{x:z.left,y:z.top}),Y=Math.min(N,G.x+G.width),ae=Math.min(C,G.y+G.height),te=Q[F]&&Q[F].value,le=q_(x.state,x.props.data,F),je=Q[F]?{x:I==="horizontal"?Q[F].coordinate:Y,y:I==="horizontal"?ae:Q[F].coordinate}:OL;x.setState(B(B({},T),{},{activeLabel:te,activeCoordinate:je,activePayload:le,activeTooltipIndex:F}))}else x.setState(T)}),de(Se(x),"renderCursor",function(T){var A,I=x.state,E=I.isTooltipActive,P=I.activeCoordinate,O=I.activePayload,R=I.offset,N=I.activeTooltipIndex,C=I.tooltipAxisBandSize,F=x.getTooltipEventType(),K=(A=T.props.active)!==null&&A!==void 0?A:E,z=x.props.layout,Q=T.key||"_recharts-cursor";return D(Wde,{activeCoordinate:P,activePayload:O,activeTooltipIndex:N,chartName:r,element:T,isActive:K,layout:z,offset:R,tooltipAxisBandSize:C,tooltipEventType:F},Q)}),de(Se(x),"renderPolarAxis",function(T,A,I){var E=$n(T,"type.axisType"),P=$n(x.state,"".concat(E,"Map")),O=P&&P[T.props["".concat(E,"Id")]];return M.exports.cloneElement(T,B(B({},O),{},{className:Re(E,O.className),key:T.key||"".concat(A,"-").concat(I),ticks:ai(O,!0)}))}),de(Se(x),"renderPolarGrid",function(T){var A=T.props,I=A.radialLines,E=A.polarAngles,P=A.polarRadius,O=x.state,R=O.radiusAxisMap,N=O.angleAxisMap,C=Ki(R),F=Ki(N),K=F.cx,z=F.cy,Q=F.innerRadius,V=F.outerRadius;return M.exports.cloneElement(T,{polarAngles:Array.isArray(E)?E:ai(F,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(P)?P:ai(C,!0).map(function(G){return G.coordinate}),cx:K,cy:z,innerRadius:Q,outerRadius:V,key:T.key||"polar-grid",radialLines:I})}),de(Se(x),"renderLegend",function(){var T=x.state.formattedGraphicalItems,A=x.props,I=A.children,E=A.width,P=A.height,O=x.props.margin||{},R=E-(O.left||0)-(O.right||0),N=R$({children:I,formattedGraphicalItems:T,legendWidth:R,legendContent:c});if(!N)return null;var C=N.item,F=qO(N,Gde);return M.exports.cloneElement(C,B(B({},F),{},{chartWidth:E,chartHeight:P,margin:O,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),de(Se(x),"renderTooltip",function(){var T,A=x.props,I=A.children,E=A.accessibilityLayer,P=On(I,Ar);if(!P)return null;var O=x.state,R=O.isTooltipActive,N=O.activeCoordinate,C=O.activePayload,F=O.activeLabel,K=O.offset,z=(T=P.props.active)!==null&&T!==void 0?T:R;return M.exports.cloneElement(P,{viewBox:B(B({},K),{},{x:K.left,y:K.top}),active:z,label:F,payload:z?C:[],coordinate:N,accessibilityLayer:E})}),de(Se(x),"renderBrush",function(T){var A=x.props,I=A.margin,E=A.data,P=x.state,O=P.offset,R=P.dataStartIndex,N=P.dataEndIndex,C=P.updateId;return M.exports.cloneElement(T,{key:T.key||"_recharts-brush",onChange:zf(x.handleBrushChange,T.props.onChange),data:E,x:ee(T.props.x)?T.props.x:O.left,y:ee(T.props.y)?T.props.y:O.top+O.height+O.brushBottom-(I.bottom||0),width:ee(T.props.width)?T.props.width:O.width,startIndex:R,endIndex:N,updateId:"brush-".concat(C)})}),de(Se(x),"renderReferenceElement",function(T,A,I){if(!T)return null;var E=Se(x),P=E.clipPathId,O=x.state,R=O.xAxisMap,N=O.yAxisMap,C=O.offset,F=T.props,K=F.xAxisId,z=F.yAxisId;return M.exports.cloneElement(T,{key:T.key||"".concat(A,"-").concat(I),xAxis:R[K],yAxis:N[z],viewBox:{x:C.left,y:C.top,width:C.width,height:C.height},clipPathId:P})}),de(Se(x),"renderActivePoints",function(T){var A=T.item,I=T.activePoint,E=T.basePoint,P=T.childIndex,O=T.isRange,R=[],N=A.props.key,C=A.item.props,F=C.activeDot,K=C.dataKey,z=B(B({index:P,dataKey:K,cx:I.x,cy:I.y,r:4,fill:Q1(A.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value,key:"".concat(N,"-activePoint-").concat(P)},Oe(F,!1)),_p(F));return R.push(v.renderActiveDot(F,z)),E?R.push(v.renderActiveDot(F,B(B({},z),{},{cx:E.x,cy:E.y,key:"".concat(N,"-basePoint-").concat(P)}))):O&&R.push(null),R}),de(Se(x),"renderGraphicChild",function(T,A,I){var E=x.filterFormatItem(T,A,I);if(!E)return null;var P=x.getTooltipEventType(),O=x.state,R=O.isTooltipActive,N=O.tooltipAxis,C=O.activeTooltipIndex,F=O.activeLabel,K=x.props.children,z=On(K,Ar),Q=E.props,V=Q.points,G=Q.isRange,Y=Q.baseLine,ae=E.item.props,te=ae.activeDot,le=ae.hide,je=ae.activeBar,Je=ae.activeShape,$t=Boolean(!le&&R&&z&&(te||je||Je)),We={};P!=="axis"&&z&&z.props.trigger==="click"?We={onClick:zf(x.handleItemMouseEnter,T.props.onClick)}:P!=="axis"&&(We={onMouseLeave:zf(x.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:zf(x.handleItemMouseEnter,T.props.onMouseEnter)});var nr=M.exports.cloneElement(T,B(B({},E.props),We));function re(ir){return typeof N.dataKey=="function"?N.dataKey(ir.payload):null}if($t)if(C>=0){var fe,me;if(N.dataKey&&!N.allowDuplicatedCategory){var q=typeof N.dataKey=="function"?re:"payload.".concat(N.dataKey.toString());fe=z0(V,q,F),me=G&&Y&&z0(Y,q,F)}else fe=V==null?void 0:V[C],me=G&&Y&&Y[C];if(Je||je){var Ge=T.props.activeIndex!==void 0?T.props.activeIndex:C;return[M.exports.cloneElement(T,B(B(B({},E.props),We),{},{activeIndex:Ge})),null,null]}if(!ke(fe))return[nr].concat(_u(x.renderActivePoints({item:E,activePoint:fe,basePoint:me,childIndex:C,isRange:G})))}else{var we,tt=(we=x.getItemByXY(x.state.activeCoordinate))!==null&&we!==void 0?we:{graphicalItem:nr},nt=tt.graphicalItem,qt=nt.item,rr=qt===void 0?T:qt,$o=nt.childIndex,Tr=B(B(B({},E.props),We),{},{activeIndex:$o});return[M.exports.cloneElement(rr,Tr),null,null]}return G?[nr,null,null]:[nr,null]}),de(Se(x),"renderCustomized",function(T,A,I){return M.exports.cloneElement(T,B(B({key:"recharts-customized-".concat(I)},x.props),x.state))}),de(Se(x),"renderMap",{CartesianGrid:{handler:Hf,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:Hf},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:Hf},YAxis:{handler:Hf},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((y=b.id)!==null&&y!==void 0?y:cg("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=DM(x.triggeredAfterMouseMove,(w=b.throttleDelay)!==null&&w!==void 0?w:1e3/60),x.state={},x}return Zde(v,[{key:"componentDidMount",value:function(){var y,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,w=y.children,x=y.data,T=y.height,A=y.layout,I=On(w,Ar);if(!!I){var E=I.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length)){var P=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,O=q_(this.state,x,E,P),R=this.state.tooltipTicks[E].coordinate,N=(this.state.offset.top+T)/2,C=A==="horizontal",F=C?{x:R,y:N}:{y:R,x:N},K=this.state.formattedGraphicalItems.find(function(Q){var V=Q.item;return V.type.name==="Scatter"});K&&(F=B(B({},F),K.props.points[E].tooltipPosition),O=K.props.points[E].tooltipPayload);var z={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:P,activePayload:O,activeCoordinate:F};this.setState(z),this.renderCursor(I),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var x,T;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(y){W0([On(y.children,Ar)],[On(this.props.children,Ar)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=On(this.props.children,Ar);if(y&&typeof y.props.shared=="boolean"){var w=y.props.shared?"axis":"item";return u.indexOf(w)>=0?w:a}return a}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var w=this.container,x=w.getBoundingClientRect(),T=Ane(x),A={chartX:Math.round(y.pageX-T.left),chartY:Math.round(y.pageY-T.top)},I=x.width/w.offsetWidth||1,E=this.inRange(A.chartX,A.chartY,I);if(!E)return null;var P=this.state,O=P.xAxisMap,R=P.yAxisMap,N=this.getTooltipEventType();if(N!=="axis"&&O&&R){var C=Ki(O).scale,F=Ki(R).scale,K=C&&C.invert?C.invert(A.chartX):null,z=F&&F.invert?F.invert(A.chartY):null;return B(B({},A),{},{xValue:K,yValue:z})}var Q=KO(this.state,this.props.data,this.props.layout,E);return Q?B(B({},A),Q):null}},{key:"inRange",value:function(y,w){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,A=y/x,I=w/x;if(T==="horizontal"||T==="vertical"){var E=this.state.offset,P=A>=E.left&&A<=E.left+E.width&&I>=E.top&&I<=E.top+E.height;return P?{x:A,y:I}:null}var O=this.state,R=O.angleAxisMap,N=O.radiusAxisMap;if(R&&N){var C=Ki(R);return AP({x:A,y:I},C)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,w=this.getTooltipEventType(),x=On(y,Ar),T={};x&&w==="axis"&&(x.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var A=_p(this.props,this.handleOuterEvent);return B(B({},A),T)}},{key:"addListener",value:function(){fv.on(dv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){fv.removeListener(dv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,w,x){for(var T=this.state.formattedGraphicalItems,A=0,I=T.length;A<I;A++){var E=T[A];if(E.item===y||E.props.key===y.key||w===li(E.item.type)&&x===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,w=this.state.offset,x=w.left,T=w.top,A=w.height,I=w.width;return D("defs",{children:D("clipPath",{id:y,children:D("rect",{x,y:T,height:A,width:I})})})}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(w,x){var T=zO(x,2),A=T[0],I=T[1];return B(B({},w),{},de({},A,I.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(w,x){var T=zO(x,2),A=T[0],I=T[1];return B(B({},w),{},de({},A,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(y){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(y){var w=this.state,x=w.formattedGraphicalItems,T=w.activeItem;if(x&&x.length)for(var A=0,I=x.length;A<I;A++){var E=x[A],P=E.props,O=E.item,R=li(O.type);if(R==="Bar"){var N=(P.data||[]).find(function(z){return jle(y,z)});if(N)return{graphicalItem:E,payload:N}}else if(R==="RadialBar"){var C=(P.data||[]).find(function(z){return AP(y,z)});if(C)return{graphicalItem:E,payload:C}}else if(Og(E,T)||Cg(E,T)||uh(E,T)){var F=Fce({graphicalItem:E,activeTooltipItem:T,itemData:O.props.data}),K=O.props.activeIndex===void 0?F:O.props.activeIndex;return{graphicalItem:B(B({},E),{},{childIndex:K}),payload:uh(E,T)?O.props.data[F]:E.props.data[F]}}}return null}},{key:"render",value:function(){var y=this;if(!mI(this))return null;var w=this.props,x=w.children,T=w.className,A=w.width,I=w.height,E=w.style,P=w.compact,O=w.title,R=w.desc,N=qO(w,Kde),C=Oe(N,!1);if(P)return D(AO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId,children:X(G0,{...C,width:A,height:I,title:O,desc:R,children:[this.renderClipPath(),yI(x,this.renderMap)]})});if(this.props.accessibilityLayer){var F,K;C.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,C.role=(K=this.props.role)!==null&&K!==void 0?K:"application",C.onKeyDown=function(Q){y.accessibilityManager.keyboardEvent(Q)},C.onFocus=function(){y.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return D(AO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId,children:X("div",{className:Re("recharts-wrapper",T),style:B({position:"relative",cursor:"default",width:A,height:I},E),...z,ref:function(V){y.container=V},children:[X(G0,{...C,width:A,height:I,title:O,desc:R,style:upe,children:[this.renderClipPath(),yI(x,this.renderMap)]}),this.renderLegend(),this.renderTooltip()]})})}}]),v}(M.exports.Component),de(n,"displayName",r),de(n,"defaultProps",B({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),de(n,"getDerivedStateFromProps",function(g,v){var b=g.dataKey,y=g.data,w=g.children,x=g.width,T=g.height,A=g.layout,I=g.stackOffset,E=g.margin,P=v.dataStartIndex,O=v.dataEndIndex;if(v.updateId===void 0){var R=HO(g);return B(B(B({},R),{},{updateId:0},_(B(B({props:g},R),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:y,prevWidth:x,prevHeight:T,prevLayout:A,prevStackOffset:I,prevMargin:E,prevChildren:w})}if(b!==v.prevDataKey||y!==v.prevData||x!==v.prevWidth||T!==v.prevHeight||A!==v.prevLayout||I!==v.prevStackOffset||!Ms(E,v.prevMargin)){var N=HO(g),C={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},F=B(B({},KO(v,y,A)),{},{updateId:v.updateId+1}),K=B(B(B({},N),C),F);return B(B(B({},K),_(B({props:g},K),v)),{},{prevDataKey:b,prevData:y,prevWidth:x,prevHeight:T,prevLayout:A,prevStackOffset:I,prevMargin:E,prevChildren:w})}if(!W0(w,v.prevChildren)){var z,Q,V,G,Y=On(w,mu),ae=Y&&(z=(Q=Y.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&z!==void 0?z:P,te=Y&&(V=(G=Y.props)===null||G===void 0?void 0:G.endIndex)!==null&&V!==void 0?V:O,le=ae!==P||te!==O,je=!ke(y),Je=je&&!le?v.updateId:v.updateId+1;return B(B({updateId:Je},_(B(B({props:g},v),{},{updateId:Je,dataStartIndex:ae,dataEndIndex:te}),v)),{},{prevChildren:w,dataStartIndex:ae,dataEndIndex:te})}return null}),de(n,"renderActiveDot",function(g,v){var b;return M.exports.isValidElement(g)?b=M.exports.cloneElement(g,v):_e(g)?b=g(v):b=D(J$,{...v}),D(kt,{className:"recharts-active-dot",children:b},v.key)}),n},_pe=vpe({chartName:"BarChart",GraphicalChild:fi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Rg},{axisType:"yAxis",AxisComp:Ng}],formatAxisMap:ofe});const wpe=()=>{const[t,e]=M.exports.useState(null),[n,r]=M.exports.useState(!0),[i,o]=M.exports.useState(null);if(M.exports.useEffect(()=>{(async()=>{const u=wi.currentUser;if(!u){o("User not authenticated"),r(!1);return}try{const l=Mb(Fm(ui,"tasks"),$b("userId","==",u.uid)),h=(await MD(l)).docs.map(g=>({id:g.id,...g.data()})),d=new Date,p=new Date(d.getTime()+7*24*60*60*1e3),_={total:h.length,completed:h.filter(g=>g.completed).length,overdue:h.filter(g=>!g.completed&&new Date(g.dueDate)<d).length,upcomingWeek:h.filter(g=>!g.completed&&new Date(g.dueDate)<=p).length,byCategoryAndPriority:{}};h.forEach(g=>{_.byCategoryAndPriority[g.category]||(_.byCategoryAndPriority[g.category]={low:0,medium:0,high:0}),_.byCategoryAndPriority[g.category][g.priority]++}),e(_),r(!1)}catch(l){console.error("Error fetching task stats:",l),o("Failed to fetch task statistics"),r(!1)}})()},[]),n)return D("div",{className:"flex justify-center items-center h-screen",children:D(yp,{className:"animate-spin",size:48})});if(i)return D("div",{className:"flex justify-center items-center h-screen",children:X("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[D("strong",{className:"font-bold",children:"Error!"}),X("span",{className:"block sm:inline",children:[" ",i]})]})});if(!t)return D("div",{children:"No task data available."});const a=Object.entries(t.byCategoryAndPriority).map(([s,u])=>({category:s,Low:u.low,Medium:u.medium,High:u.high}));return X("div",{className:"max-w-4xl mx-auto mt-8 p-6 bg-white rounded-lg shadow-md",children:[D("h1",{className:"text-2xl font-bold mb-6",children:"Task Dashboard"}),X("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[X("div",{className:"bg-blue-100 p-4 rounded-lg",children:[D("h2",{className:"text-lg font-semibold",children:"Total Tasks"}),D("p",{className:"text-3xl font-bold",children:t.total})]}),X("div",{className:"bg-green-100 p-4 rounded-lg",children:[D("h2",{className:"text-lg font-semibold",children:"Completed"}),D("p",{className:"text-3xl font-bold",children:t.completed})]}),X("div",{className:"bg-red-100 p-4 rounded-lg",children:[D("h2",{className:"text-lg font-semibold",children:"Overdue"}),D("p",{className:"text-3xl font-bold",children:t.overdue})]}),X("div",{className:"bg-yellow-100 p-4 rounded-lg",children:[D("h2",{className:"text-lg font-semibold",children:"Due This Week"}),D("p",{className:"text-3xl font-bold",children:t.upcomingWeek})]})]}),D("h2",{className:"text-xl font-semibold mb-4",children:"Tasks by Category and Priority"}),D("div",{className:"h-80 w-full",children:D(wne,{width:"100%",height:"100%",children:X(_pe,{data:a,children:[D(xL,{strokeDasharray:"3 3"}),D(Rg,{dataKey:"category"}),D(Ng,{}),D(Ar,{}),D(su,{}),D(fi,{dataKey:"Low",stackId:"a",fill:"#10B981"}),D(fi,{dataKey:"Medium",stackId:"a",fill:"#F59E0B"}),D(fi,{dataKey:"High",stackId:"a",fill:"#EF4444"})]})})})]})},bpe=()=>X("div",{className:"welcome-screen p-8 max-w-2xl mx-auto",children:[D("h1",{className:"text-4xl font-bold mb-4",children:"Welcome to Your To-Do List & Organizer"}),D("p",{className:"mb-4",children:"This app helps you organize your tasks, set priorities, and stay on top of your deadlines."}),D("h2",{className:"text-2xl font-semibold mb-2",children:"Features:"}),X("ul",{className:"list-disc list-inside mb-4",children:[D("li",{children:"Create and manage tasks"}),D("li",{children:"Categorize tasks and set priorities"}),D("li",{children:"Set deadlines for your tasks"}),D("li",{children:"Mark tasks as complete"}),D("li",{children:"View task statistics in your profile"}),D("li",{children:"Sync your tasks across devices"})]}),D("p",{className:"mb-4",children:"Sign in to start organizing your life!"}),D(w2,{})]}),xpe=()=>{const t=Eu(),e=ja(),n=async()=>{try{await r2(wi),e("/")}catch(r){console.error("Error signing out:",r)}};return X("nav",{style:{position:"fixed",top:0,left:0,right:0,backgroundColor:"#1a202c",color:"white",padding:"1rem",display:"flex",justifyContent:"space-around",alignItems:"center",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.1)",zIndex:1e3},children:[D(ia,{to:"/dashboard",style:{color:t.pathname==="/dashboard"?"#63b3ed":"white"},children:D(lq,{size:24})}),D(ia,{to:"/tasks",style:{color:t.pathname==="/tasks"?"#63b3ed":"white"},children:D(hq,{size:24})}),D(ia,{to:"/add-task",style:{color:t.pathname==="/add-task"?"#63b3ed":"white"},children:D(mq,{size:24})}),D(ia,{to:"/profile",style:{color:t.pathname==="/profile"?"#63b3ed":"white"},children:D(yq,{size:24})}),D("button",{onClick:n,style:{background:"none",border:"none",color:"white",cursor:"pointer"},children:D(fq,{size:24})})]})};const Tpe=()=>{const[t,e]=M.exports.useState(null),[n,r]=M.exports.useState(!0);return M.exports.useEffect(()=>{const i=wi.onAuthStateChanged(o=>{e(o),r(!1)});return()=>i()},[]),n?D("div",{className:"flex justify-center items-center h-screen",children:D("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-indigo-500"})}):D(AU,{children:X("div",{className:"app flex flex-col min-h-screen bg-gray-100",children:[t&&D(xpe,{}),D("main",{className:"flex-grow pt-16 px-4",children:X(vU,{children:[D(Li,{path:"/",element:t?D(Uo,{to:"/dashboard"}):D(bpe,{})}),D(Li,{path:"/signin",element:t?D(Uo,{to:"/dashboard"}):D(w2,{})}),D(Li,{path:"/dashboard",element:t?D(wpe,{}):D(Uo,{to:"/"})}),D(Li,{path:"/tasks",element:t?D(vq,{}):D(Uo,{to:"/"})}),D(Li,{path:"/add-task",element:t?D(_q,{}):D(Uo,{to:"/"})}),D(Li,{path:"/edit-task/:id",element:t?D(wq,{}):D(Uo,{to:"/"})}),D(Li,{path:"/profile",element:t?D(bq,{}):D(Uo,{to:"/"})})]})})]})})};mv.createRoot(document.getElementById("root")).render(D(Ne.StrictMode,{children:D(Tpe,{})}));
