function QO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function XO(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var M={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _h=Symbol.for("react.element"),eV=Symbol.for("react.portal"),tV=Symbol.for("react.fragment"),nV=Symbol.for("react.strict_mode"),rV=Symbol.for("react.profiler"),iV=Symbol.for("react.provider"),oV=Symbol.for("react.context"),aV=Symbol.for("react.forward_ref"),sV=Symbol.for("react.suspense"),uV=Symbol.for("react.memo"),lV=Symbol.for("react.lazy"),Zx=Symbol.iterator;function cV(t){return t===null||typeof t!="object"?null:(t=Zx&&t[Zx]||t["@@iterator"],typeof t=="function"?t:null)}var YO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},JO=Object.assign,ZO={};function wu(t,e,n){this.props=t,this.context=e,this.refs=ZO,this.updater=n||YO}wu.prototype.isReactComponent={};wu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function eC(){}eC.prototype=wu.prototype;function q_(t,e,n){this.props=t,this.context=e,this.refs=ZO,this.updater=n||YO}var W_=q_.prototype=new eC;W_.constructor=q_;JO(W_,wu.prototype);W_.isPureReactComponent=!0;var eT=Array.isArray,tC=Object.prototype.hasOwnProperty,G_={current:null},nC={key:!0,ref:!0,__self:!0,__source:!0};function rC(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)tC.call(e,r)&&!nC.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:_h,type:t,key:o,ref:a,props:i,_owner:G_.current}}function hV(t,e){return{$$typeof:_h,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function K_(t){return typeof t=="object"&&t!==null&&t.$$typeof===_h}function fV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var tT=/\/+/g;function Jg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fV(""+t.key):e.toString(36)}function Xf(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case _h:case eV:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Jg(a,0):r,eT(i)?(n="",t!=null&&(n=t.replace(tT,"$&/")+"/"),Xf(i,e,n,"",function(l){return l})):i!=null&&(K_(i)&&(i=hV(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(tT,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",eT(t))for(var s=0;s<t.length;s++){o=t[s];var u=r+Jg(o,s);a+=Xf(o,e,n,u,i)}else if(u=cV(t),typeof u=="function")for(t=u.call(t),s=0;!(o=t.next()).done;)o=o.value,u=r+Jg(o,s++),a+=Xf(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function hf(t,e,n){if(t==null)return t;var r=[],i=0;return Xf(t,r,"","",function(o){return e.call(n,o,i++)}),r}function dV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pn={current:null},Yf={transition:null},pV={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:Yf,ReactCurrentOwner:G_};Te.Children={map:hf,forEach:function(t,e,n){hf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hf(t,function(){e++}),e},toArray:function(t){return hf(t,function(e){return e})||[]},only:function(t){if(!K_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=wu;Te.Fragment=tV;Te.Profiler=rV;Te.PureComponent=q_;Te.StrictMode=nV;Te.Suspense=sV;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pV;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=JO({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=G_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(u in e)tC.call(e,u)&&!nC.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&s!==void 0?s[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){s=Array(u);for(var l=0;l<u;l++)s[l]=arguments[l+2];r.children=s}return{$$typeof:_h,type:t.type,key:i,ref:o,props:r,_owner:a}};Te.createContext=function(t){return t={$$typeof:oV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iV,_context:t},t.Consumer=t};Te.createElement=rC;Te.createFactory=function(t){var e=rC.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:aV,render:t}};Te.isValidElement=K_;Te.lazy=function(t){return{$$typeof:lV,_payload:{_status:-1,_result:t},_init:dV}};Te.memo=function(t,e){return{$$typeof:uV,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=Yf.transition;Yf.transition={};try{t()}finally{Yf.transition=e}};Te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Te.useCallback=function(t,e){return pn.current.useCallback(t,e)};Te.useContext=function(t){return pn.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return pn.current.useDeferredValue(t)};Te.useEffect=function(t,e){return pn.current.useEffect(t,e)};Te.useId=function(){return pn.current.useId()};Te.useImperativeHandle=function(t,e,n){return pn.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return pn.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return pn.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return pn.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return pn.current.useReducer(t,e,n)};Te.useRef=function(t){return pn.current.useRef(t)};Te.useState=function(t){return pn.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return pn.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return pn.current.useTransition()};Te.version="18.2.0";(function(t){t.exports=Te})(M);const Ne=XO(M.exports),H_=QO({__proto__:null,default:Ne},[M.exports]);var pv={},rm={exports:{}},Vn={},iC={exports:{}},oC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,G){var X=V.length;V.push(G);e:for(;0<X;){var ae=X-1>>>1,te=V[ae];if(0<i(te,G))V[ae]=G,V[X]=te,X=ae;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var G=V[0],X=V.pop();if(X!==G){V[0]=X;e:for(var ae=0,te=V.length,le=te>>>1;ae<le;){var je=2*(ae+1)-1,Je=V[je],Mt=je+1,We=V[Mt];if(0>i(Je,X))Mt<te&&0>i(We,Je)?(V[ae]=We,V[Mt]=X,ae=Mt):(V[ae]=Je,V[je]=X,ae=je);else if(Mt<te&&0>i(We,X))V[ae]=We,V[Mt]=X,ae=Mt;else break e}}return G}function i(V,G){var X=V.sortIndex-G.sortIndex;return X!==0?X:V.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var u=[],l=[],c=1,h=null,d=3,p=!1,_=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(V){for(var G=n(l);G!==null;){if(G.callback===null)r(l);else if(G.startTime<=V)r(l),G.sortIndex=G.expirationTime,e(u,G);else break;G=n(l)}}function x(V){if(g=!1,w(V),!_)if(n(u)!==null)_=!0,z(T);else{var G=n(l);G!==null&&Q(x,G.startTime-V)}}function T(V,G){_=!1,g&&(g=!1,b(S),S=-1),p=!0;var X=d;try{for(w(G),h=n(u);h!==null&&(!(h.expirationTime>G)||V&&!R());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,d=h.priorityLevel;var te=ae(h.expirationTime<=G);G=t.unstable_now(),typeof te=="function"?h.callback=te:h===n(u)&&r(u),w(G)}else r(u);h=n(u)}if(h!==null)var le=!0;else{var je=n(l);je!==null&&Q(x,je.startTime-G),le=!1}return le}finally{h=null,d=X,p=!1}}var A=!1,I=null,S=-1,P=5,O=-1;function R(){return!(t.unstable_now()-O<P)}function N(){if(I!==null){var V=t.unstable_now();O=V;var G=!0;try{G=I(!0,V)}finally{G?C():(A=!1,I=null)}}else A=!1}var C;if(typeof y=="function")C=function(){y(N)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,K=F.port2;F.port1.onmessage=N,C=function(){K.postMessage(null)}}else C=function(){v(N,0)};function z(V){I=V,A||(A=!0,C())}function Q(V,G){S=v(function(){V(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,z(T))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(V){switch(d){case 1:case 2:case 3:var G=3;break;default:G=d}var X=d;d=G;try{return V()}finally{d=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var X=d;d=V;try{return G()}finally{d=X}},t.unstable_scheduleCallback=function(V,G,X){var ae=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ae+X:ae):X=ae,V){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=X+te,V={id:c++,callback:G,priorityLevel:V,startTime:X,expirationTime:te,sortIndex:-1},X>ae?(V.sortIndex=X,e(l,V),n(u)===null&&V===n(l)&&(g?(b(S),S=-1):g=!0,Q(x,X-ae))):(V.sortIndex=te,e(u,V),_||p||(_=!0,z(T))),V},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(V){var G=d;return function(){var X=d;d=G;try{return V.apply(this,arguments)}finally{d=X}}}})(oC);(function(t){t.exports=oC})(iC);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aC=M.exports,$n=iC.exports;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sC=new Set,rc={};function $a(t,e){Vs(t,e),Vs(t+"Capture",e)}function Vs(t,e){for(rc[t]=e,t=0;t<e.length;t++)sC.add(e[t])}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mv=Object.prototype.hasOwnProperty,mV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nT={},rT={};function gV(t){return mv.call(rT,t)?!0:mv.call(nT,t)?!1:mV.test(t)?rT[t]=!0:(nT[t]=!0,!1)}function yV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vV(t,e,n,r){if(e===null||typeof e>"u"||yV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ut[t]=new mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ut[e]=new mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ut[t]=new mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ut[t]=new mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ut[t]=new mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ut[t]=new mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ut[t]=new mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ut[t]=new mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ut[t]=new mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Q_=/[\-:]([a-z])/g;function X_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Q_,X_);Ut[e]=new mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Q_,X_);Ut[e]=new mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Q_,X_);Ut[e]=new mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ut[t]=new mn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ut[t]=new mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Y_(t,e,n,r){var i=Ut.hasOwnProperty(e)?Ut[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vV(e,n,i,r)&&(n=null),r||i===null?gV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Si=aC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ff=Symbol.for("react.element"),fs=Symbol.for("react.portal"),ds=Symbol.for("react.fragment"),J_=Symbol.for("react.strict_mode"),gv=Symbol.for("react.profiler"),uC=Symbol.for("react.provider"),lC=Symbol.for("react.context"),Z_=Symbol.for("react.forward_ref"),yv=Symbol.for("react.suspense"),vv=Symbol.for("react.suspense_list"),ew=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),cC=Symbol.for("react.offscreen"),iT=Symbol.iterator;function rl(t){return t===null||typeof t!="object"?null:(t=iT&&t[iT]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,Zg;function Il(t){if(Zg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zg=e&&e[1]||""}return`
`+Zg+t}var ey=!1;function ty(t,e){if(!t||ey)return"";ey=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var u=`
`+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=s);break}}}finally{ey=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Il(t):""}function _V(t){switch(t.tag){case 5:return Il(t.type);case 16:return Il("Lazy");case 13:return Il("Suspense");case 19:return Il("SuspenseList");case 0:case 2:case 15:return t=ty(t.type,!1),t;case 11:return t=ty(t.type.render,!1),t;case 1:return t=ty(t.type,!0),t;default:return""}}function _v(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ds:return"Fragment";case fs:return"Portal";case gv:return"Profiler";case J_:return"StrictMode";case yv:return"Suspense";case vv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lC:return(t.displayName||"Context")+".Consumer";case uC:return(t._context.displayName||"Context")+".Provider";case Z_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ew:return e=t.displayName||null,e!==null?e:_v(t.type)||"Memo";case Vi:e=t._payload,t=t._init;try{return _v(t(e))}catch{}}return null}function wV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _v(e);case 8:return e===J_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bV(t){var e=hC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function df(t){t._valueTracker||(t._valueTracker=bV(t))}function fC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=hC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wv(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function oT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=mo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dC(t,e){e=e.checked,e!=null&&Y_(t,"checked",e,!1)}function bv(t,e){dC(t,e);var n=mo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xv(t,e.type,n):e.hasOwnProperty("defaultValue")&&xv(t,e.type,mo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function aT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xv(t,e,n){(e!=="number"||xd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Al=Array.isArray;function Es(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Tv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Al(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:mo(n)}}function pC(t,e){var n=mo(e.value),r=mo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function uT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pf,gC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pf=pf||document.createElement("div"),pf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ic(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ll={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xV=["Webkit","ms","Moz","O"];Object.keys(Ll).forEach(function(t){xV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ll[e]=Ll[t]})});function yC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ll.hasOwnProperty(t)&&Ll[t]?(""+e).trim():e+"px"}function vC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var TV=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ev(t,e){if(e){if(TV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Iv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Av=null;function tw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pv=null,Is=null,As=null;function lT(t){if(t=xh(t)){if(typeof Pv!="function")throw Error(H(280));var e=t.stateNode;e&&(e=um(e),Pv(t.stateNode,t.type,e))}}function _C(t){Is?As?As.push(t):As=[t]:Is=t}function wC(){if(Is){var t=Is,e=As;if(As=Is=null,lT(t),e)for(t=0;t<e.length;t++)lT(e[t])}}function bC(t,e){return t(e)}function xC(){}var ny=!1;function TC(t,e,n){if(ny)return t(e,n);ny=!0;try{return bC(t,e,n)}finally{ny=!1,(Is!==null||As!==null)&&(xC(),wC())}}function oc(t,e){var n=t.stateNode;if(n===null)return null;var r=um(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Ov=!1;if(di)try{var il={};Object.defineProperty(il,"passive",{get:function(){Ov=!0}}),window.addEventListener("test",il,il),window.removeEventListener("test",il,il)}catch{Ov=!1}function SV(t,e,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Vl=!1,Td=null,Sd=!1,Cv=null,EV={onError:function(t){Vl=!0,Td=t}};function IV(t,e,n,r,i,o,a,s,u){Vl=!1,Td=null,SV.apply(EV,arguments)}function AV(t,e,n,r,i,o,a,s,u){if(IV.apply(this,arguments),Vl){if(Vl){var l=Td;Vl=!1,Td=null}else throw Error(H(198));Sd||(Sd=!0,Cv=l)}}function La(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function SC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cT(t){if(La(t)!==t)throw Error(H(188))}function PV(t){var e=t.alternate;if(!e){if(e=La(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return cT(i),t;if(o===r)return cT(i),e;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function EC(t){return t=PV(t),t!==null?IC(t):null}function IC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=IC(t);if(e!==null)return e;t=t.sibling}return null}var AC=$n.unstable_scheduleCallback,hT=$n.unstable_cancelCallback,OV=$n.unstable_shouldYield,CV=$n.unstable_requestPaint,ft=$n.unstable_now,kV=$n.unstable_getCurrentPriorityLevel,nw=$n.unstable_ImmediatePriority,PC=$n.unstable_UserBlockingPriority,Ed=$n.unstable_NormalPriority,RV=$n.unstable_LowPriority,OC=$n.unstable_IdlePriority,im=null,Rr=null;function NV(t){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(im,t,void 0,(t.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:$V,DV=Math.log,MV=Math.LN2;function $V(t){return t>>>=0,t===0?32:31-(DV(t)/MV|0)|0}var mf=64,gf=4194304;function Pl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Id(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Pl(s):(o&=a,o!==0&&(r=Pl(o)))}else a=n&~i,a!==0?r=Pl(a):o!==0&&(r=Pl(o));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-mr(e),i=1<<n,r|=t[n],e&=~i;return r}function LV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-mr(o),s=1<<a,u=i[a];u===-1?((s&n)===0||(s&r)!==0)&&(i[a]=LV(s,e)):u<=e&&(t.expiredLanes|=s),o&=~s}}function kv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function CC(){var t=mf;return mf<<=1,(mf&4194240)===0&&(mf=64),t}function ry(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mr(e),t[e]=n}function jV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-mr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function rw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-mr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Me=0;function kC(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var RC,iw,NC,DC,MC,Rv=!1,yf=[],Zi=null,eo=null,to=null,ac=new Map,sc=new Map,Bi=[],FV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fT(t,e){switch(t){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":to=null;break;case"pointerover":case"pointerout":ac.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sc.delete(e.pointerId)}}function ol(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=xh(e),e!==null&&iw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function BV(t,e,n,r,i){switch(e){case"focusin":return Zi=ol(Zi,t,e,n,r,i),!0;case"dragenter":return eo=ol(eo,t,e,n,r,i),!0;case"mouseover":return to=ol(to,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ac.set(o,ol(ac.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,sc.set(o,ol(sc.get(o)||null,t,e,n,r,i)),!0}return!1}function $C(t){var e=ea(t.target);if(e!==null){var n=La(e);if(n!==null){if(e=n.tag,e===13){if(e=SC(n),e!==null){t.blockedOn=e,MC(t.priority,function(){NC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Nv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Av=r,n.target.dispatchEvent(r),Av=null}else return e=xh(n),e!==null&&iw(e),t.blockedOn=n,!1;e.shift()}return!0}function dT(t,e,n){Jf(t)&&n.delete(e)}function UV(){Rv=!1,Zi!==null&&Jf(Zi)&&(Zi=null),eo!==null&&Jf(eo)&&(eo=null),to!==null&&Jf(to)&&(to=null),ac.forEach(dT),sc.forEach(dT)}function al(t,e){t.blockedOn===e&&(t.blockedOn=null,Rv||(Rv=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,UV)))}function uc(t){function e(i){return al(i,t)}if(0<yf.length){al(yf[0],t);for(var n=1;n<yf.length;n++){var r=yf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zi!==null&&al(Zi,t),eo!==null&&al(eo,t),to!==null&&al(to,t),ac.forEach(e),sc.forEach(e),n=0;n<Bi.length;n++)r=Bi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Bi.length&&(n=Bi[0],n.blockedOn===null);)$C(n),n.blockedOn===null&&Bi.shift()}var Ps=Si.ReactCurrentBatchConfig,Ad=!0;function zV(t,e,n,r){var i=Me,o=Ps.transition;Ps.transition=null;try{Me=1,ow(t,e,n,r)}finally{Me=i,Ps.transition=o}}function qV(t,e,n,r){var i=Me,o=Ps.transition;Ps.transition=null;try{Me=4,ow(t,e,n,r)}finally{Me=i,Ps.transition=o}}function ow(t,e,n,r){if(Ad){var i=Nv(t,e,n,r);if(i===null)dy(t,e,r,Pd,n),fT(t,r);else if(BV(i,t,e,n,r))r.stopPropagation();else if(fT(t,r),e&4&&-1<FV.indexOf(t)){for(;i!==null;){var o=xh(i);if(o!==null&&RC(o),o=Nv(t,e,n,r),o===null&&dy(t,e,r,Pd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else dy(t,e,r,null,n)}}var Pd=null;function Nv(t,e,n,r){if(Pd=null,t=tw(r),t=ea(t),t!==null)if(e=La(t),e===null)t=null;else if(n=e.tag,n===13){if(t=SC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Pd=t,null}function LC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kV()){case nw:return 1;case PC:return 4;case Ed:case RV:return 16;case OC:return 536870912;default:return 16}default:return 16}}var Hi=null,aw=null,Zf=null;function VC(){if(Zf)return Zf;var t,e=aw,n=e.length,r,i="value"in Hi?Hi.value:Hi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Zf=i.slice(t,1<r?1-r:void 0)}function ed(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vf(){return!0}function pT(){return!1}function jn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?vf:pT,this.isPropagationStopped=pT,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vf)},persist:function(){},isPersistent:vf}),e}var bu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sw=jn(bu),bh=st({},bu,{view:0,detail:0}),WV=jn(bh),iy,oy,sl,om=st({},bh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sl&&(sl&&t.type==="mousemove"?(iy=t.screenX-sl.screenX,oy=t.screenY-sl.screenY):oy=iy=0,sl=t),iy)},movementY:function(t){return"movementY"in t?t.movementY:oy}}),mT=jn(om),GV=st({},om,{dataTransfer:0}),KV=jn(GV),HV=st({},bh,{relatedTarget:0}),ay=jn(HV),QV=st({},bu,{animationName:0,elapsedTime:0,pseudoElement:0}),XV=jn(QV),YV=st({},bu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JV=jn(YV),ZV=st({},bu,{data:0}),gT=jn(ZV),ej={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nj[t])?!!e[t]:!1}function uw(){return rj}var ij=st({},bh,{key:function(t){if(t.key){var e=ej[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ed(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uw,charCode:function(t){return t.type==="keypress"?ed(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ed(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oj=jn(ij),aj=st({},om,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yT=jn(aj),sj=st({},bh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uw}),uj=jn(sj),lj=st({},bu,{propertyName:0,elapsedTime:0,pseudoElement:0}),cj=jn(lj),hj=st({},om,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fj=jn(hj),dj=[9,13,27,32],lw=di&&"CompositionEvent"in window,jl=null;di&&"documentMode"in document&&(jl=document.documentMode);var pj=di&&"TextEvent"in window&&!jl,jC=di&&(!lw||jl&&8<jl&&11>=jl),vT=String.fromCharCode(32),_T=!1;function FC(t,e){switch(t){case"keyup":return dj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ps=!1;function mj(t,e){switch(t){case"compositionend":return BC(e);case"keypress":return e.which!==32?null:(_T=!0,vT);case"textInput":return t=e.data,t===vT&&_T?null:t;default:return null}}function gj(t,e){if(ps)return t==="compositionend"||!lw&&FC(t,e)?(t=VC(),Zf=aw=Hi=null,ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jC&&e.locale!=="ko"?null:e.data;default:return null}}var yj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yj[t.type]:e==="textarea"}function UC(t,e,n,r){_C(r),e=Od(e,"onChange"),0<e.length&&(n=new sw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Fl=null,lc=null;function vj(t){ZC(t,0)}function am(t){var e=ys(t);if(fC(e))return t}function _j(t,e){if(t==="change")return e}var zC=!1;if(di){var sy;if(di){var uy="oninput"in document;if(!uy){var bT=document.createElement("div");bT.setAttribute("oninput","return;"),uy=typeof bT.oninput=="function"}sy=uy}else sy=!1;zC=sy&&(!document.documentMode||9<document.documentMode)}function xT(){Fl&&(Fl.detachEvent("onpropertychange",qC),lc=Fl=null)}function qC(t){if(t.propertyName==="value"&&am(lc)){var e=[];UC(e,lc,t,tw(t)),TC(vj,e)}}function wj(t,e,n){t==="focusin"?(xT(),Fl=e,lc=n,Fl.attachEvent("onpropertychange",qC)):t==="focusout"&&xT()}function bj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return am(lc)}function xj(t,e){if(t==="click")return am(e)}function Tj(t,e){if(t==="input"||t==="change")return am(e)}function Sj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wr=typeof Object.is=="function"?Object.is:Sj;function cc(t,e){if(wr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!mv.call(e,i)||!wr(t[i],e[i]))return!1}return!0}function TT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ST(t,e){var n=TT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=TT(n)}}function WC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?WC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function GC(){for(var t=window,e=xd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xd(t.document)}return e}function cw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ej(t){var e=GC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&WC(n.ownerDocument.documentElement,n)){if(r!==null&&cw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=ST(n,o);var a=ST(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ij=di&&"documentMode"in document&&11>=document.documentMode,ms=null,Dv=null,Bl=null,Mv=!1;function ET(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mv||ms==null||ms!==xd(r)||(r=ms,"selectionStart"in r&&cw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bl&&cc(Bl,r)||(Bl=r,r=Od(Dv,"onSelect"),0<r.length&&(e=new sw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ms)))}function _f(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gs={animationend:_f("Animation","AnimationEnd"),animationiteration:_f("Animation","AnimationIteration"),animationstart:_f("Animation","AnimationStart"),transitionend:_f("Transition","TransitionEnd")},ly={},KC={};di&&(KC=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function sm(t){if(ly[t])return ly[t];if(!gs[t])return t;var e=gs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in KC)return ly[t]=e[n];return t}var HC=sm("animationend"),QC=sm("animationiteration"),XC=sm("animationstart"),YC=sm("transitionend"),JC=new Map,IT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xo(t,e){JC.set(t,e),$a(e,[t])}for(var cy=0;cy<IT.length;cy++){var hy=IT[cy],Aj=hy.toLowerCase(),Pj=hy[0].toUpperCase()+hy.slice(1);xo(Aj,"on"+Pj)}xo(HC,"onAnimationEnd");xo(QC,"onAnimationIteration");xo(XC,"onAnimationStart");xo("dblclick","onDoubleClick");xo("focusin","onFocus");xo("focusout","onBlur");xo(YC,"onTransitionEnd");Vs("onMouseEnter",["mouseout","mouseover"]);Vs("onMouseLeave",["mouseout","mouseover"]);Vs("onPointerEnter",["pointerout","pointerover"]);Vs("onPointerLeave",["pointerout","pointerover"]);$a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$a("onBeforeInput",["compositionend","keypress","textInput","paste"]);$a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ol));function AT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,AV(r,e,void 0,t),t.currentTarget=null}function ZC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;AT(i,s,l),o=u}else for(a=0;a<r.length;a++){if(s=r[a],u=s.instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;AT(i,s,l),o=u}}}if(Sd)throw t=Cv,Sd=!1,Cv=null,t}function He(t,e){var n=e[Fv];n===void 0&&(n=e[Fv]=new Set);var r=t+"__bubble";n.has(r)||(ek(e,t,2,!1),n.add(r))}function fy(t,e,n){var r=0;e&&(r|=4),ek(n,t,r,e)}var wf="_reactListening"+Math.random().toString(36).slice(2);function hc(t){if(!t[wf]){t[wf]=!0,sC.forEach(function(n){n!=="selectionchange"&&(Oj.has(n)||fy(n,!1,t),fy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wf]||(e[wf]=!0,fy("selectionchange",!1,e))}}function ek(t,e,n,r){switch(LC(e)){case 1:var i=zV;break;case 4:i=qV;break;default:i=ow}n=i.bind(null,e,n,t),i=void 0,!Ov||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function dy(t,e,n,r,i){var o=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;s!==null;){if(a=ea(s),a===null)return;if(u=a.tag,u===5||u===6){r=o=a;continue e}s=s.parentNode}}r=r.return}TC(function(){var l=o,c=tw(n),h=[];e:{var d=JC.get(t);if(d!==void 0){var p=sw,_=t;switch(t){case"keypress":if(ed(n)===0)break e;case"keydown":case"keyup":p=oj;break;case"focusin":_="focus",p=ay;break;case"focusout":_="blur",p=ay;break;case"beforeblur":case"afterblur":p=ay;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=mT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=KV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=uj;break;case HC:case QC:case XC:p=XV;break;case YC:p=cj;break;case"scroll":p=WV;break;case"wheel":p=fj;break;case"copy":case"cut":case"paste":p=JV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=yT}var g=(e&4)!==0,v=!g&&t==="scroll",b=g?d!==null?d+"Capture":null:d;g=[];for(var y=l,w;y!==null;){w=y;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,b!==null&&(x=oc(y,b),x!=null&&g.push(fc(y,x,w)))),v)break;y=y.return}0<g.length&&(d=new p(d,_,null,n,c),h.push({event:d,listeners:g}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==Av&&(_=n.relatedTarget||n.fromElement)&&(ea(_)||_[pi]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=l,_=_?ea(_):null,_!==null&&(v=La(_),_!==v||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=l),p!==_)){if(g=mT,x="onMouseLeave",b="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=yT,x="onPointerLeave",b="onPointerEnter",y="pointer"),v=p==null?d:ys(p),w=_==null?d:ys(_),d=new g(x,y+"leave",p,n,c),d.target=v,d.relatedTarget=w,x=null,ea(c)===l&&(g=new g(b,y+"enter",_,n,c),g.target=w,g.relatedTarget=v,x=g),v=x,p&&_)t:{for(g=p,b=_,y=0,w=g;w;w=Ja(w))y++;for(w=0,x=b;x;x=Ja(x))w++;for(;0<y-w;)g=Ja(g),y--;for(;0<w-y;)b=Ja(b),w--;for(;y--;){if(g===b||b!==null&&g===b.alternate)break t;g=Ja(g),b=Ja(b)}g=null}else g=null;p!==null&&PT(h,d,p,g,!1),_!==null&&v!==null&&PT(h,v,_,g,!0)}}e:{if(d=l?ys(l):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var T=_j;else if(wT(d))if(zC)T=Tj;else{T=bj;var A=wj}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=xj);if(T&&(T=T(t,l))){UC(h,T,n,c);break e}A&&A(t,d,l),t==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&xv(d,"number",d.value)}switch(A=l?ys(l):window,t){case"focusin":(wT(A)||A.contentEditable==="true")&&(ms=A,Dv=l,Bl=null);break;case"focusout":Bl=Dv=ms=null;break;case"mousedown":Mv=!0;break;case"contextmenu":case"mouseup":case"dragend":Mv=!1,ET(h,n,c);break;case"selectionchange":if(Ij)break;case"keydown":case"keyup":ET(h,n,c)}var I;if(lw)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ps?FC(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(jC&&n.locale!=="ko"&&(ps||S!=="onCompositionStart"?S==="onCompositionEnd"&&ps&&(I=VC()):(Hi=c,aw="value"in Hi?Hi.value:Hi.textContent,ps=!0)),A=Od(l,S),0<A.length&&(S=new gT(S,t,null,n,c),h.push({event:S,listeners:A}),I?S.data=I:(I=BC(n),I!==null&&(S.data=I)))),(I=pj?mj(t,n):gj(t,n))&&(l=Od(l,"onBeforeInput"),0<l.length&&(c=new gT("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:l}),c.data=I))}ZC(h,e)})}function fc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Od(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=oc(t,n),o!=null&&r.unshift(fc(t,o,i)),o=oc(t,e),o!=null&&r.push(fc(t,o,i))),t=t.return}return r}function Ja(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function PT(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(u!==null&&u===r)break;s.tag===5&&l!==null&&(s=l,i?(u=oc(n,o),u!=null&&a.unshift(fc(n,u,s))):i||(u=oc(n,o),u!=null&&a.push(fc(n,u,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Cj=/\r\n?/g,kj=/\u0000|\uFFFD/g;function OT(t){return(typeof t=="string"?t:""+t).replace(Cj,`
`).replace(kj,"")}function bf(t,e,n){if(e=OT(e),OT(t)!==e&&n)throw Error(H(425))}function Cd(){}var $v=null,Lv=null;function Vv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jv=typeof setTimeout=="function"?setTimeout:void 0,Rj=typeof clearTimeout=="function"?clearTimeout:void 0,CT=typeof Promise=="function"?Promise:void 0,Nj=typeof queueMicrotask=="function"?queueMicrotask:typeof CT<"u"?function(t){return CT.resolve(null).then(t).catch(Dj)}:jv;function Dj(t){setTimeout(function(){throw t})}function py(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),uc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);uc(e)}function no(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xu=Math.random().toString(36).slice(2),Pr="__reactFiber$"+xu,dc="__reactProps$"+xu,pi="__reactContainer$"+xu,Fv="__reactEvents$"+xu,Mj="__reactListeners$"+xu,$j="__reactHandles$"+xu;function ea(t){var e=t[Pr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pi]||n[Pr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kT(t);t!==null;){if(n=t[Pr])return n;t=kT(t)}return e}t=n,n=t.parentNode}return null}function xh(t){return t=t[Pr]||t[pi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ys(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function um(t){return t[dc]||null}var Bv=[],vs=-1;function To(t){return{current:t}}function Ye(t){0>vs||(t.current=Bv[vs],Bv[vs]=null,vs--)}function ze(t,e){vs++,Bv[vs]=t.current,t.current=e}var go={},nn=To(go),xn=To(!1),ga=go;function js(t,e){var n=t.type.contextTypes;if(!n)return go;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Tn(t){return t=t.childContextTypes,t!=null}function kd(){Ye(xn),Ye(nn)}function RT(t,e,n){if(nn.current!==go)throw Error(H(168));ze(nn,e),ze(xn,n)}function tk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,wV(t)||"Unknown",i));return st({},n,r)}function Rd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||go,ga=nn.current,ze(nn,t),ze(xn,xn.current),!0}function NT(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=tk(t,e,ga),r.__reactInternalMemoizedMergedChildContext=t,Ye(xn),Ye(nn),ze(nn,t)):Ye(xn),ze(xn,n)}var Qr=null,lm=!1,my=!1;function nk(t){Qr===null?Qr=[t]:Qr.push(t)}function Lj(t){lm=!0,nk(t)}function So(){if(!my&&Qr!==null){my=!0;var t=0,e=Me;try{var n=Qr;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qr=null,lm=!1}catch(i){throw Qr!==null&&(Qr=Qr.slice(t+1)),AC(nw,So),i}finally{Me=e,my=!1}}return null}var _s=[],ws=0,Nd=null,Dd=0,Wn=[],Gn=0,ya=null,Yr=1,Jr="";function zo(t,e){_s[ws++]=Dd,_s[ws++]=Nd,Nd=t,Dd=e}function rk(t,e,n){Wn[Gn++]=Yr,Wn[Gn++]=Jr,Wn[Gn++]=ya,ya=t;var r=Yr;t=Jr;var i=32-mr(r)-1;r&=~(1<<i),n+=1;var o=32-mr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yr=1<<32-mr(e)+i|n<<i|r,Jr=o+t}else Yr=1<<o|n<<i|r,Jr=t}function hw(t){t.return!==null&&(zo(t,1),rk(t,1,0))}function fw(t){for(;t===Nd;)Nd=_s[--ws],_s[ws]=null,Dd=_s[--ws],_s[ws]=null;for(;t===ya;)ya=Wn[--Gn],Wn[Gn]=null,Jr=Wn[--Gn],Wn[Gn]=null,Yr=Wn[--Gn],Wn[Gn]=null}var Nn=null,kn=null,Ze=!1,hr=null;function ik(t,e){var n=Hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function DT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nn=t,kn=no(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nn=t,kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ya!==null?{id:Yr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nn=t,kn=null,!0):!1;default:return!1}}function Uv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zv(t){if(Ze){var e=kn;if(e){var n=e;if(!DT(t,e)){if(Uv(t))throw Error(H(418));e=no(n.nextSibling);var r=Nn;e&&DT(t,e)?ik(r,n):(t.flags=t.flags&-4097|2,Ze=!1,Nn=t)}}else{if(Uv(t))throw Error(H(418));t.flags=t.flags&-4097|2,Ze=!1,Nn=t}}}function MT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nn=t}function xf(t){if(t!==Nn)return!1;if(!Ze)return MT(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vv(t.type,t.memoizedProps)),e&&(e=kn)){if(Uv(t))throw ok(),Error(H(418));for(;e;)ik(t,e),e=no(e.nextSibling)}if(MT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kn=no(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kn=null}}else kn=Nn?no(t.stateNode.nextSibling):null;return!0}function ok(){for(var t=kn;t;)t=no(t.nextSibling)}function Fs(){kn=Nn=null,Ze=!1}function dw(t){hr===null?hr=[t]:hr.push(t)}var Vj=Si.ReactCurrentBatchConfig;function ur(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Md=To(null),$d=null,bs=null,pw=null;function mw(){pw=bs=$d=null}function gw(t){var e=Md.current;Ye(Md),t._currentValue=e}function qv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Os(t,e){$d=t,pw=bs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(vn=!0),t.firstContext=null)}function Jn(t){var e=t._currentValue;if(pw!==t)if(t={context:t,memoizedValue:e,next:null},bs===null){if($d===null)throw Error(H(308));bs=t,$d.dependencies={lanes:0,firstContext:t}}else bs=bs.next=t;return e}var ta=null;function yw(t){ta===null?ta=[t]:ta.push(t)}function ak(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,yw(e)):(n.next=i.next,i.next=n),e.interleaved=n,mi(t,r)}function mi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ji=!1;function vw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function si(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ro(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Ie&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,mi(t,n)}return i=r.interleaved,i===null?(e.next=e,yw(r)):(e.next=i.next,i.next=e),r.interleaved=e,mi(t,n)}function td(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rw(t,n)}}function $T(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ld(t,e,n,r){var i=t.updateQueue;ji=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var u=s,l=u.next;u.next=null,a===null?o=l:a.next=l,a=u;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(o!==null){var h=i.baseState;a=0,c=l=u=null,s=o;do{var d=s.lane,p=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var _=t,g=s;switch(d=e,p=n,g.tag){case 1:if(_=g.payload,typeof _=="function"){h=_.call(p,h,d);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=g.payload,d=typeof _=="function"?_.call(p,h,d):_,d==null)break e;h=st({},h,d);break e;case 2:ji=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(l=c=p,u=h):c=c.next=p,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);_a|=a,t.lanes=a,t.memoizedState=h}}function LT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var uk=new aC.Component().refs;function Wv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var cm={isMounted:function(t){return(t=t._reactInternals)?La(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cn(),i=oo(t),o=si(r,i);o.payload=e,n!=null&&(o.callback=n),e=ro(t,o,i),e!==null&&(gr(e,t,i,r),td(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cn(),i=oo(t),o=si(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ro(t,o,i),e!==null&&(gr(e,t,i,r),td(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cn(),r=oo(t),i=si(n,r);i.tag=2,e!=null&&(i.callback=e),e=ro(t,i,r),e!==null&&(gr(e,t,r,n),td(e,t,r))}};function VT(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!cc(n,r)||!cc(i,o):!0}function lk(t,e,n){var r=!1,i=go,o=e.contextType;return typeof o=="object"&&o!==null?o=Jn(o):(i=Tn(e)?ga:nn.current,r=e.contextTypes,o=(r=r!=null)?js(t,i):go),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function jT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&cm.enqueueReplaceState(e,e.state,null)}function Gv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=uk,vw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Jn(o):(o=Tn(e)?ga:nn.current,i.context=js(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Wv(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&cm.enqueueReplaceState(i,i.state,null),Ld(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ul(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;s===uk&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function Tf(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function FT(t){var e=t._init;return e(t._payload)}function ck(t){function e(b,y){if(t){var w=b.deletions;w===null?(b.deletions=[y],b.flags|=16):w.push(y)}}function n(b,y){if(!t)return null;for(;y!==null;)e(b,y),y=y.sibling;return null}function r(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function i(b,y){return b=ao(b,y),b.index=0,b.sibling=null,b}function o(b,y,w){return b.index=w,t?(w=b.alternate,w!==null?(w=w.index,w<y?(b.flags|=2,y):w):(b.flags|=2,y)):(b.flags|=1048576,y)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function s(b,y,w,x){return y===null||y.tag!==6?(y=xy(w,b.mode,x),y.return=b,y):(y=i(y,w),y.return=b,y)}function u(b,y,w,x){var T=w.type;return T===ds?c(b,y,w.props.children,x,w.key):y!==null&&(y.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Vi&&FT(T)===y.type)?(x=i(y,w.props),x.ref=ul(b,y,w),x.return=b,x):(x=sd(w.type,w.key,w.props,null,b.mode,x),x.ref=ul(b,y,w),x.return=b,x)}function l(b,y,w,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Ty(w,b.mode,x),y.return=b,y):(y=i(y,w.children||[]),y.return=b,y)}function c(b,y,w,x,T){return y===null||y.tag!==7?(y=la(w,b.mode,x,T),y.return=b,y):(y=i(y,w),y.return=b,y)}function h(b,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=xy(""+y,b.mode,w),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ff:return w=sd(y.type,y.key,y.props,null,b.mode,w),w.ref=ul(b,null,y),w.return=b,w;case fs:return y=Ty(y,b.mode,w),y.return=b,y;case Vi:var x=y._init;return h(b,x(y._payload),w)}if(Al(y)||rl(y))return y=la(y,b.mode,w,null),y.return=b,y;Tf(b,y)}return null}function d(b,y,w,x){var T=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:s(b,y,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ff:return w.key===T?u(b,y,w,x):null;case fs:return w.key===T?l(b,y,w,x):null;case Vi:return T=w._init,d(b,y,T(w._payload),x)}if(Al(w)||rl(w))return T!==null?null:c(b,y,w,x,null);Tf(b,w)}return null}function p(b,y,w,x,T){if(typeof x=="string"&&x!==""||typeof x=="number")return b=b.get(w)||null,s(y,b,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ff:return b=b.get(x.key===null?w:x.key)||null,u(y,b,x,T);case fs:return b=b.get(x.key===null?w:x.key)||null,l(y,b,x,T);case Vi:var A=x._init;return p(b,y,w,A(x._payload),T)}if(Al(x)||rl(x))return b=b.get(w)||null,c(y,b,x,T,null);Tf(y,x)}return null}function _(b,y,w,x){for(var T=null,A=null,I=y,S=y=0,P=null;I!==null&&S<w.length;S++){I.index>S?(P=I,I=null):P=I.sibling;var O=d(b,I,w[S],x);if(O===null){I===null&&(I=P);break}t&&I&&O.alternate===null&&e(b,I),y=o(O,y,S),A===null?T=O:A.sibling=O,A=O,I=P}if(S===w.length)return n(b,I),Ze&&zo(b,S),T;if(I===null){for(;S<w.length;S++)I=h(b,w[S],x),I!==null&&(y=o(I,y,S),A===null?T=I:A.sibling=I,A=I);return Ze&&zo(b,S),T}for(I=r(b,I);S<w.length;S++)P=p(I,b,S,w[S],x),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?S:P.key),y=o(P,y,S),A===null?T=P:A.sibling=P,A=P);return t&&I.forEach(function(R){return e(b,R)}),Ze&&zo(b,S),T}function g(b,y,w,x){var T=rl(w);if(typeof T!="function")throw Error(H(150));if(w=T.call(w),w==null)throw Error(H(151));for(var A=T=null,I=y,S=y=0,P=null,O=w.next();I!==null&&!O.done;S++,O=w.next()){I.index>S?(P=I,I=null):P=I.sibling;var R=d(b,I,O.value,x);if(R===null){I===null&&(I=P);break}t&&I&&R.alternate===null&&e(b,I),y=o(R,y,S),A===null?T=R:A.sibling=R,A=R,I=P}if(O.done)return n(b,I),Ze&&zo(b,S),T;if(I===null){for(;!O.done;S++,O=w.next())O=h(b,O.value,x),O!==null&&(y=o(O,y,S),A===null?T=O:A.sibling=O,A=O);return Ze&&zo(b,S),T}for(I=r(b,I);!O.done;S++,O=w.next())O=p(I,b,S,O.value,x),O!==null&&(t&&O.alternate!==null&&I.delete(O.key===null?S:O.key),y=o(O,y,S),A===null?T=O:A.sibling=O,A=O);return t&&I.forEach(function(N){return e(b,N)}),Ze&&zo(b,S),T}function v(b,y,w,x){if(typeof w=="object"&&w!==null&&w.type===ds&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ff:e:{for(var T=w.key,A=y;A!==null;){if(A.key===T){if(T=w.type,T===ds){if(A.tag===7){n(b,A.sibling),y=i(A,w.props.children),y.return=b,b=y;break e}}else if(A.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Vi&&FT(T)===A.type){n(b,A.sibling),y=i(A,w.props),y.ref=ul(b,A,w),y.return=b,b=y;break e}n(b,A);break}else e(b,A);A=A.sibling}w.type===ds?(y=la(w.props.children,b.mode,x,w.key),y.return=b,b=y):(x=sd(w.type,w.key,w.props,null,b.mode,x),x.ref=ul(b,y,w),x.return=b,b=x)}return a(b);case fs:e:{for(A=w.key;y!==null;){if(y.key===A)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(b,y.sibling),y=i(y,w.children||[]),y.return=b,b=y;break e}else{n(b,y);break}else e(b,y);y=y.sibling}y=Ty(w,b.mode,x),y.return=b,b=y}return a(b);case Vi:return A=w._init,v(b,y,A(w._payload),x)}if(Al(w))return _(b,y,w,x);if(rl(w))return g(b,y,w,x);Tf(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(b,y.sibling),y=i(y,w),y.return=b,b=y):(n(b,y),y=xy(w,b.mode,x),y.return=b,b=y),a(b)):n(b,y)}return v}var Bs=ck(!0),hk=ck(!1),Th={},Nr=To(Th),pc=To(Th),mc=To(Th);function na(t){if(t===Th)throw Error(H(174));return t}function _w(t,e){switch(ze(mc,e),ze(pc,t),ze(Nr,Th),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sv(e,t)}Ye(Nr),ze(Nr,e)}function Us(){Ye(Nr),Ye(pc),Ye(mc)}function fk(t){na(mc.current);var e=na(Nr.current),n=Sv(e,t.type);e!==n&&(ze(pc,t),ze(Nr,n))}function ww(t){pc.current===t&&(Ye(Nr),Ye(pc))}var rt=To(0);function Vd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gy=[];function bw(){for(var t=0;t<gy.length;t++)gy[t]._workInProgressVersionPrimary=null;gy.length=0}var nd=Si.ReactCurrentDispatcher,yy=Si.ReactCurrentBatchConfig,va=0,ot=null,bt=null,Ot=null,jd=!1,Ul=!1,gc=0,jj=0;function Kt(){throw Error(H(321))}function xw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wr(t[n],e[n]))return!1;return!0}function Tw(t,e,n,r,i,o){if(va=o,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nd.current=t===null||t.memoizedState===null?zj:qj,t=n(r,i),Ul){o=0;do{if(Ul=!1,gc=0,25<=o)throw Error(H(301));o+=1,Ot=bt=null,e.updateQueue=null,nd.current=Wj,t=n(r,i)}while(Ul)}if(nd.current=Fd,e=bt!==null&&bt.next!==null,va=0,Ot=bt=ot=null,jd=!1,e)throw Error(H(300));return t}function Sw(){var t=gc!==0;return gc=0,t}function Ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ot.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function Zn(){if(bt===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var e=Ot===null?ot.memoizedState:Ot.next;if(e!==null)Ot=e,bt=t;else{if(t===null)throw Error(H(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Ot===null?ot.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function yc(t,e){return typeof e=="function"?e(t):e}function vy(t){var e=Zn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=bt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,u=null,l=o;do{var c=l.lane;if((va&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var h={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(s=u=h,a=r):u=u.next=h,ot.lanes|=c,_a|=c}l=l.next}while(l!==null&&l!==o);u===null?a=r:u.next=s,wr(r,e.memoizedState)||(vn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ot.lanes|=o,_a|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _y(t){var e=Zn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);wr(o,e.memoizedState)||(vn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function dk(){}function pk(t,e){var n=ot,r=Zn(),i=e(),o=!wr(r.memoizedState,i);if(o&&(r.memoizedState=i,vn=!0),r=r.queue,Ew(yk.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ot!==null&&Ot.memoizedState.tag&1){if(n.flags|=2048,vc(9,gk.bind(null,n,r,i,e),void 0,null),kt===null)throw Error(H(349));(va&30)!==0||mk(n,e,i)}return i}function mk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gk(t,e,n,r){e.value=n,e.getSnapshot=r,vk(e)&&_k(t)}function yk(t,e,n){return n(function(){vk(e)&&_k(t)})}function vk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wr(t,n)}catch{return!0}}function _k(t){var e=mi(t,1);e!==null&&gr(e,t,1,-1)}function BT(t){var e=Ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yc,lastRenderedState:t},e.queue=t,t=t.dispatch=Uj.bind(null,ot,t),[e.memoizedState,t]}function vc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function wk(){return Zn().memoizedState}function rd(t,e,n,r){var i=Ir();ot.flags|=t,i.memoizedState=vc(1|e,n,void 0,r===void 0?null:r)}function hm(t,e,n,r){var i=Zn();r=r===void 0?null:r;var o=void 0;if(bt!==null){var a=bt.memoizedState;if(o=a.destroy,r!==null&&xw(r,a.deps)){i.memoizedState=vc(e,n,o,r);return}}ot.flags|=t,i.memoizedState=vc(1|e,n,o,r)}function UT(t,e){return rd(8390656,8,t,e)}function Ew(t,e){return hm(2048,8,t,e)}function bk(t,e){return hm(4,2,t,e)}function xk(t,e){return hm(4,4,t,e)}function Tk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Sk(t,e,n){return n=n!=null?n.concat([t]):null,hm(4,4,Tk.bind(null,e,t),n)}function Iw(){}function Ek(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ik(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ak(t,e,n){return(va&21)===0?(t.baseState&&(t.baseState=!1,vn=!0),t.memoizedState=n):(wr(n,e)||(n=CC(),ot.lanes|=n,_a|=n,t.baseState=!0),e)}function Fj(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=yy.transition;yy.transition={};try{t(!1),e()}finally{Me=n,yy.transition=r}}function Pk(){return Zn().memoizedState}function Bj(t,e,n){var r=oo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ok(t))Ck(e,n);else if(n=ak(t,e,n,r),n!==null){var i=cn();gr(n,t,r,i),kk(n,e,r)}}function Uj(t,e,n){var r=oo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ok(t))Ck(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,wr(s,a)){var u=e.interleaved;u===null?(i.next=i,yw(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=ak(t,e,i,r),n!==null&&(i=cn(),gr(n,t,r,i),kk(n,e,r))}}function Ok(t){var e=t.alternate;return t===ot||e!==null&&e===ot}function Ck(t,e){Ul=jd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function kk(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rw(t,n)}}var Fd={readContext:Jn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},zj={readContext:Jn,useCallback:function(t,e){return Ir().memoizedState=[t,e===void 0?null:e],t},useContext:Jn,useEffect:UT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rd(4194308,4,Tk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rd(4194308,4,t,e)},useInsertionEffect:function(t,e){return rd(4,2,t,e)},useMemo:function(t,e){var n=Ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Bj.bind(null,ot,t),[r.memoizedState,t]},useRef:function(t){var e=Ir();return t={current:t},e.memoizedState=t},useState:BT,useDebugValue:Iw,useDeferredValue:function(t){return Ir().memoizedState=t},useTransition:function(){var t=BT(!1),e=t[0];return t=Fj.bind(null,t[1]),Ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ot,i=Ir();if(Ze){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),kt===null)throw Error(H(349));(va&30)!==0||mk(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,UT(yk.bind(null,r,o,t),[t]),r.flags|=2048,vc(9,gk.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ir(),e=kt.identifierPrefix;if(Ze){var n=Jr,r=Yr;n=(r&~(1<<32-mr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qj={readContext:Jn,useCallback:Ek,useContext:Jn,useEffect:Ew,useImperativeHandle:Sk,useInsertionEffect:bk,useLayoutEffect:xk,useMemo:Ik,useReducer:vy,useRef:wk,useState:function(){return vy(yc)},useDebugValue:Iw,useDeferredValue:function(t){var e=Zn();return Ak(e,bt.memoizedState,t)},useTransition:function(){var t=vy(yc)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:dk,useSyncExternalStore:pk,useId:Pk,unstable_isNewReconciler:!1},Wj={readContext:Jn,useCallback:Ek,useContext:Jn,useEffect:Ew,useImperativeHandle:Sk,useInsertionEffect:bk,useLayoutEffect:xk,useMemo:Ik,useReducer:_y,useRef:wk,useState:function(){return _y(yc)},useDebugValue:Iw,useDeferredValue:function(t){var e=Zn();return bt===null?e.memoizedState=t:Ak(e,bt.memoizedState,t)},useTransition:function(){var t=_y(yc)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:dk,useSyncExternalStore:pk,useId:Pk,unstable_isNewReconciler:!1};function zs(t,e){try{var n="",r=e;do n+=_V(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function wy(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function Kv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Gj=typeof WeakMap=="function"?WeakMap:Map;function Rk(t,e,n){n=si(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ud||(Ud=!0,r0=r),Kv(t,e)},n}function Nk(t,e,n){n=si(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Kv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Kv(t,e),typeof r!="function"&&(io===null?io=new Set([this]):io.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function zT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Gj;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=aF.bind(null,t,e,n),e.then(t,t))}function qT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function WT(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=si(-1,1),e.tag=2,ro(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var Kj=Si.ReactCurrentOwner,vn=!1;function sn(t,e,n,r){e.child=t===null?hk(e,null,n,r):Bs(e,t.child,n,r)}function GT(t,e,n,r,i){n=n.render;var o=e.ref;return Os(e,i),r=Tw(t,e,n,r,o,i),n=Sw(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gi(t,e,i)):(Ze&&n&&hw(e),e.flags|=1,sn(t,e,r,i),e.child)}function KT(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Dw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Dk(t,e,o,r,i)):(t=sd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,(t.lanes&i)===0){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:cc,n(a,r)&&t.ref===e.ref)return gi(t,e,i)}return e.flags|=1,t=ao(o,r),t.ref=e.ref,t.return=e,e.child=t}function Dk(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(cc(o,r)&&t.ref===e.ref)if(vn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)(t.flags&131072)!==0&&(vn=!0);else return e.lanes=t.lanes,gi(t,e,i)}return Hv(t,e,n,r,i)}function Mk(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Ts,Pn),Pn|=n;else{if((n&1073741824)===0)return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(Ts,Pn),Pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ze(Ts,Pn),Pn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ze(Ts,Pn),Pn|=r;return sn(t,e,i,n),e.child}function $k(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hv(t,e,n,r,i){var o=Tn(n)?ga:nn.current;return o=js(e,o),Os(e,i),n=Tw(t,e,n,r,o,i),r=Sw(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gi(t,e,i)):(Ze&&r&&hw(e),e.flags|=1,sn(t,e,n,i),e.child)}function HT(t,e,n,r,i){if(Tn(n)){var o=!0;Rd(e)}else o=!1;if(Os(e,i),e.stateNode===null)id(t,e),lk(e,n,r),Gv(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,l=n.contextType;typeof l=="object"&&l!==null?l=Jn(l):(l=Tn(n)?ga:nn.current,l=js(e,l));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||u!==l)&&jT(e,a,r,l),ji=!1;var d=e.memoizedState;a.state=d,Ld(e,r,a,i),u=e.memoizedState,s!==r||d!==u||xn.current||ji?(typeof c=="function"&&(Wv(e,n,c,r),u=e.memoizedState),(s=ji||VT(e,n,s,r,d,u,l))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,sk(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:ur(e.type,s),a.props=l,h=e.pendingProps,d=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Jn(u):(u=Tn(n)?ga:nn.current,u=js(e,u));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==h||d!==u)&&jT(e,a,r,u),ji=!1,d=e.memoizedState,a.state=d,Ld(e,r,a,i);var _=e.memoizedState;s!==h||d!==_||xn.current||ji?(typeof p=="function"&&(Wv(e,n,p,r),_=e.memoizedState),(l=ji||VT(e,n,l,r,d,_,u)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,_,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,_,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),a.props=r,a.state=_,a.context=u,r=l):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Qv(t,e,n,r,o,i)}function Qv(t,e,n,r,i,o){$k(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&NT(e,n,!1),gi(t,e,o);r=e.stateNode,Kj.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Bs(e,t.child,null,o),e.child=Bs(e,null,s,o)):sn(t,e,s,o),e.memoizedState=r.state,i&&NT(e,n,!0),e.child}function Lk(t){var e=t.stateNode;e.pendingContext?RT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&RT(t,e.context,!1),_w(t,e.containerInfo)}function QT(t,e,n,r,i){return Fs(),dw(i),e.flags|=256,sn(t,e,n,r),e.child}var Xv={dehydrated:null,treeContext:null,retryLane:0};function Yv(t){return{baseLanes:t,cachePool:null,transitions:null}}function Vk(t,e,n){var r=e.pendingProps,i=rt.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ze(rt,i&1),t===null)return zv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=a):o=pm(a,r,0,null),t=la(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Yv(n),e.memoizedState=Xv,t):Aw(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Hj(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var u={mode:"hidden",children:r.children};return(a&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ao(i,u),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=ao(s,o):(o=la(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Yv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Xv,r}return o=t.child,t=o.sibling,r=ao(o,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Aw(t,e){return e=pm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sf(t,e,n,r){return r!==null&&dw(r),Bs(e,t.child,null,n),t=Aw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Hj(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=wy(Error(H(422))),Sf(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=pm({mode:"visible",children:r.children},i,0,null),o=la(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,(e.mode&1)!==0&&Bs(e,t.child,null,a),e.child.memoizedState=Yv(a),e.memoizedState=Xv,o);if((e.mode&1)===0)return Sf(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(H(419)),r=wy(o,r,void 0),Sf(t,e,a,r)}if(s=(a&t.childLanes)!==0,vn||s){if(r=kt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|a))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,mi(t,i),gr(r,t,i,-1))}return Nw(),r=wy(Error(H(421))),Sf(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=sF.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,kn=no(i.nextSibling),Nn=e,Ze=!0,hr=null,t!==null&&(Wn[Gn++]=Yr,Wn[Gn++]=Jr,Wn[Gn++]=ya,Yr=t.id,Jr=t.overflow,ya=e),e=Aw(e,r.children),e.flags|=4096,e)}function XT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),qv(t.return,e,n)}function by(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function jk(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(sn(t,e,r.children,n),r=rt.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&XT(t,n,e);else if(t.tag===19)XT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze(rt,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Vd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),by(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Vd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}by(e,!0,n,null,o);break;case"together":by(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function id(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_a|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=ao(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ao(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Qj(t,e,n){switch(e.tag){case 3:Lk(e),Fs();break;case 5:fk(e);break;case 1:Tn(e.type)&&Rd(e);break;case 4:_w(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ze(Md,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze(rt,rt.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?Vk(t,e,n):(ze(rt,rt.current&1),t=gi(t,e,n),t!==null?t.sibling:null);ze(rt,rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return jk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,Mk(t,e,n)}return gi(t,e,n)}var Fk,Jv,Bk,Uk;Fk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jv=function(){};Bk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,na(Nr.current);var o=null;switch(n){case"input":i=wv(t,i),r=wv(t,r),o=[];break;case"select":i=st({},i,{value:void 0}),r=st({},r,{value:void 0}),o=[];break;case"textarea":i=Tv(t,i),r=Tv(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cd)}Ev(n,r);var a;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(rc.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var u=r[l];if(s=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==s&&(u!=null||s!=null))if(l==="style")if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(o=o||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(rc.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&He("scroll",t),o||s===u||(o=[])):(o=o||[]).push(l,u))}n&&(o=o||[]).push("style",n);var l=o;(e.updateQueue=l)&&(e.flags|=4)}};Uk=function(t,e,n,r){n!==r&&(e.flags|=4)};function ll(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ht(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Xj(t,e,n){var r=e.pendingProps;switch(fw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(e),null;case 1:return Tn(e.type)&&kd(),Ht(e),null;case 3:return r=e.stateNode,Us(),Ye(xn),Ye(nn),bw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,hr!==null&&(a0(hr),hr=null))),Jv(t,e),Ht(e),null;case 5:ww(e);var i=na(mc.current);if(n=e.type,t!==null&&e.stateNode!=null)Bk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Ht(e),null}if(t=na(Nr.current),xf(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Pr]=e,r[dc]=o,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<Ol.length;i++)He(Ol[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":oT(r,o),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},He("invalid",r);break;case"textarea":sT(r,o),He("invalid",r)}Ev(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&bf(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&bf(r.textContent,s,t),i=["children",""+s]):rc.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&He("scroll",r)}switch(n){case"input":df(r),aT(r,o,!0);break;case"textarea":df(r),uT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Cd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Pr]=e,t[dc]=r,Fk(t,e,!1,!1),e.stateNode=t;e:{switch(a=Iv(n,r),n){case"dialog":He("cancel",t),He("close",t),i=r;break;case"iframe":case"object":case"embed":He("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ol.length;i++)He(Ol[i],t);i=r;break;case"source":He("error",t),i=r;break;case"img":case"image":case"link":He("error",t),He("load",t),i=r;break;case"details":He("toggle",t),i=r;break;case"input":oT(t,r),i=wv(t,r),He("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=st({},r,{value:void 0}),He("invalid",t);break;case"textarea":sT(t,r),i=Tv(t,r),He("invalid",t);break;default:i=r}Ev(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="style"?vC(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&gC(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ic(t,u):typeof u=="number"&&ic(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(rc.hasOwnProperty(o)?u!=null&&o==="onScroll"&&He("scroll",t):u!=null&&Y_(t,o,u,a))}switch(n){case"input":df(t),aT(t,r,!1);break;case"textarea":df(t),uT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+mo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Es(t,!!r.multiple,o,!1):r.defaultValue!=null&&Es(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Cd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ht(e),null;case 6:if(t&&e.stateNode!=null)Uk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=na(mc.current),na(Nr.current),xf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Pr]=e,(o=r.nodeValue!==n)&&(t=Nn,t!==null))switch(t.tag){case 3:bf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bf(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pr]=e,e.stateNode=r}return Ht(e),null;case 13:if(Ye(rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&kn!==null&&(e.mode&1)!==0&&(e.flags&128)===0)ok(),Fs(),e.flags|=98560,o=!1;else if(o=xf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(H(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[Pr]=e}else Fs(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Ht(e),o=!1}else hr!==null&&(a0(hr),hr=null),o=!0;if(!o)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(rt.current&1)!==0?xt===0&&(xt=3):Nw())),e.updateQueue!==null&&(e.flags|=4),Ht(e),null);case 4:return Us(),Jv(t,e),t===null&&hc(e.stateNode.containerInfo),Ht(e),null;case 10:return gw(e.type._context),Ht(e),null;case 17:return Tn(e.type)&&kd(),Ht(e),null;case 19:if(Ye(rt),o=e.memoizedState,o===null)return Ht(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)ll(o,!1);else{if(xt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(a=Vd(t),a!==null){for(e.flags|=128,ll(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(rt,rt.current&1|2),e.child}t=t.sibling}o.tail!==null&&ft()>qs&&(e.flags|=128,r=!0,ll(o,!1),e.lanes=4194304)}else{if(!r)if(t=Vd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ll(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ze)return Ht(e),null}else 2*ft()-o.renderingStartTime>qs&&n!==1073741824&&(e.flags|=128,r=!0,ll(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ft(),e.sibling=null,n=rt.current,ze(rt,r?n&1|2:n&1),e):(Ht(e),null);case 22:case 23:return Rw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(Pn&1073741824)!==0&&(Ht(e),e.subtreeFlags&6&&(e.flags|=8192)):Ht(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function Yj(t,e){switch(fw(e),e.tag){case 1:return Tn(e.type)&&kd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Us(),Ye(xn),Ye(nn),bw(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return ww(e),null;case 13:if(Ye(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Fs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(rt),null;case 4:return Us(),null;case 10:return gw(e.type._context),null;case 22:case 23:return Rw(),null;case 24:return null;default:return null}}var Ef=!1,Jt=!1,Jj=typeof WeakSet=="function"?WeakSet:Set,ie=null;function xs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lt(t,e,r)}else n.current=null}function Zv(t,e,n){try{n()}catch(r){lt(t,e,r)}}var YT=!1;function Zj(t,e){if($v=Ad,t=GC(),cw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,u=-1,l=0,c=0,h=t,d=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(s=a+i),h!==o||r!==0&&h.nodeType!==3||(u=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===n&&++l===i&&(s=a),d===o&&++c===r&&(u=a),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=s===-1||u===-1?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lv={focusedElem:t,selectionRange:n},Ad=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var _=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var g=_.memoizedProps,v=_.memoizedState,b=e.stateNode,y=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:ur(e.type,g),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(x){lt(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return _=YT,YT=!1,_}function zl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Zv(e,n,o)}i=i.next}while(i!==r)}}function fm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function e0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zk(t){var e=t.alternate;e!==null&&(t.alternate=null,zk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pr],delete e[dc],delete e[Fv],delete e[Mj],delete e[$j])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qk(t){return t.tag===5||t.tag===3||t.tag===4}function JT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function t0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cd));else if(r!==4&&(t=t.child,t!==null))for(t0(t,e,n),t=t.sibling;t!==null;)t0(t,e,n),t=t.sibling}function n0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(n0(t,e,n),t=t.sibling;t!==null;)n0(t,e,n),t=t.sibling}var Vt=null,lr=!1;function Ni(t,e,n){for(n=n.child;n!==null;)Wk(t,e,n),n=n.sibling}function Wk(t,e,n){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(im,n)}catch{}switch(n.tag){case 5:Jt||xs(n,e);case 6:var r=Vt,i=lr;Vt=null,Ni(t,e,n),Vt=r,lr=i,Vt!==null&&(lr?(t=Vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vt.removeChild(n.stateNode));break;case 18:Vt!==null&&(lr?(t=Vt,n=n.stateNode,t.nodeType===8?py(t.parentNode,n):t.nodeType===1&&py(t,n),uc(t)):py(Vt,n.stateNode));break;case 4:r=Vt,i=lr,Vt=n.stateNode.containerInfo,lr=!0,Ni(t,e,n),Vt=r,lr=i;break;case 0:case 11:case 14:case 15:if(!Jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&((o&2)!==0||(o&4)!==0)&&Zv(n,e,a),i=i.next}while(i!==r)}Ni(t,e,n);break;case 1:if(!Jt&&(xs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){lt(n,e,s)}Ni(t,e,n);break;case 21:Ni(t,e,n);break;case 22:n.mode&1?(Jt=(r=Jt)||n.memoizedState!==null,Ni(t,e,n),Jt=r):Ni(t,e,n);break;default:Ni(t,e,n)}}function ZT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Jj),e.forEach(function(r){var i=uF.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ar(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Vt=s.stateNode,lr=!1;break e;case 3:Vt=s.stateNode.containerInfo,lr=!0;break e;case 4:Vt=s.stateNode.containerInfo,lr=!0;break e}s=s.return}if(Vt===null)throw Error(H(160));Wk(o,a,i),Vt=null,lr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){lt(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Gk(e,t),e=e.sibling}function Gk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ar(e,t),Sr(t),r&4){try{zl(3,t,t.return),fm(3,t)}catch(g){lt(t,t.return,g)}try{zl(5,t,t.return)}catch(g){lt(t,t.return,g)}}break;case 1:ar(e,t),Sr(t),r&512&&n!==null&&xs(n,n.return);break;case 5:if(ar(e,t),Sr(t),r&512&&n!==null&&xs(n,n.return),t.flags&32){var i=t.stateNode;try{ic(i,"")}catch(g){lt(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&dC(i,o),Iv(s,a);var l=Iv(s,o);for(a=0;a<u.length;a+=2){var c=u[a],h=u[a+1];c==="style"?vC(i,h):c==="dangerouslySetInnerHTML"?gC(i,h):c==="children"?ic(i,h):Y_(i,c,h,l)}switch(s){case"input":bv(i,o);break;case"textarea":pC(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Es(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?Es(i,!!o.multiple,o.defaultValue,!0):Es(i,!!o.multiple,o.multiple?[]:"",!1))}i[dc]=o}catch(g){lt(t,t.return,g)}}break;case 6:if(ar(e,t),Sr(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){lt(t,t.return,g)}}break;case 3:if(ar(e,t),Sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{uc(e.containerInfo)}catch(g){lt(t,t.return,g)}break;case 4:ar(e,t),Sr(t);break;case 13:ar(e,t),Sr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Cw=ft())),r&4&&ZT(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Jt=(l=Jt)||c,ar(e,t),Jt=l):ar(e,t),Sr(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&(t.mode&1)!==0)for(ie=t,c=t.child;c!==null;){for(h=ie=c;ie!==null;){switch(d=ie,p=d.child,d.tag){case 0:case 11:case 14:case 15:zl(4,d,d.return);break;case 1:xs(d,d.return);var _=d.stateNode;if(typeof _.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(g){lt(r,n,g)}}break;case 5:xs(d,d.return);break;case 22:if(d.memoizedState!==null){tS(h);continue}}p!==null?(p.return=d,ie=p):tS(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=yC("display",a))}catch(g){lt(t,t.return,g)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(g){lt(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ar(e,t),Sr(t),r&4&&ZT(t);break;case 21:break;default:ar(e,t),Sr(t)}}function Sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qk(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ic(i,""),r.flags&=-33);var o=JT(t);n0(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=JT(t);t0(t,s,a);break;default:throw Error(H(161))}}catch(u){lt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eF(t,e,n){ie=t,Kk(t)}function Kk(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Ef;if(!a){var s=i.alternate,u=s!==null&&s.memoizedState!==null||Jt;s=Ef;var l=Jt;if(Ef=a,(Jt=u)&&!l)for(ie=i;ie!==null;)a=ie,u=a.child,a.tag===22&&a.memoizedState!==null?nS(i):u!==null?(u.return=a,ie=u):nS(i);for(;o!==null;)ie=o,Kk(o),o=o.sibling;ie=i,Ef=s,Jt=l}eS(t)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,ie=o):eS(t)}}function eS(t){for(;ie!==null;){var e=ie;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Jt||fm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ur(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&LT(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}LT(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&uc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Jt||e.flags&512&&e0(e)}catch(d){lt(e,e.return,d)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function tS(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function nS(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fm(4,e)}catch(u){lt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){lt(e,i,u)}}var o=e.return;try{e0(e)}catch(u){lt(e,o,u)}break;case 5:var a=e.return;try{e0(e)}catch(u){lt(e,a,u)}}}catch(u){lt(e,e.return,u)}if(e===t){ie=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ie=s;break}ie=e.return}}var tF=Math.ceil,Bd=Si.ReactCurrentDispatcher,Pw=Si.ReactCurrentOwner,Xn=Si.ReactCurrentBatchConfig,Ie=0,kt=null,yt=null,Bt=0,Pn=0,Ts=To(0),xt=0,_c=null,_a=0,dm=0,Ow=0,ql=null,yn=null,Cw=0,qs=1/0,Hr=null,Ud=!1,r0=null,io=null,If=!1,Qi=null,zd=0,Wl=0,i0=null,od=-1,ad=0;function cn(){return(Ie&6)!==0?ft():od!==-1?od:od=ft()}function oo(t){return(t.mode&1)===0?1:(Ie&2)!==0&&Bt!==0?Bt&-Bt:Vj.transition!==null?(ad===0&&(ad=CC()),ad):(t=Me,t!==0||(t=window.event,t=t===void 0?16:LC(t.type)),t)}function gr(t,e,n,r){if(50<Wl)throw Wl=0,i0=null,Error(H(185));wh(t,n,r),((Ie&2)===0||t!==kt)&&(t===kt&&((Ie&2)===0&&(dm|=n),xt===4&&Ui(t,Bt)),Sn(t,r),n===1&&Ie===0&&(e.mode&1)===0&&(qs=ft()+500,lm&&So()))}function Sn(t,e){var n=t.callbackNode;VV(t,e);var r=Id(t,t===kt?Bt:0);if(r===0)n!==null&&hT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hT(n),e===1)t.tag===0?Lj(rS.bind(null,t)):nk(rS.bind(null,t)),Nj(function(){(Ie&6)===0&&So()}),n=null;else{switch(kC(r)){case 1:n=nw;break;case 4:n=PC;break;case 16:n=Ed;break;case 536870912:n=OC;break;default:n=Ed}n=tR(n,Hk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Hk(t,e){if(od=-1,ad=0,(Ie&6)!==0)throw Error(H(327));var n=t.callbackNode;if(Cs()&&t.callbackNode!==n)return null;var r=Id(t,t===kt?Bt:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=qd(t,r);else{e=r;var i=Ie;Ie|=2;var o=Xk();(kt!==t||Bt!==e)&&(Hr=null,qs=ft()+500,ua(t,e));do try{iF();break}catch(s){Qk(t,s)}while(1);mw(),Bd.current=o,Ie=i,yt!==null?e=0:(kt=null,Bt=0,e=xt)}if(e!==0){if(e===2&&(i=kv(t),i!==0&&(r=i,e=o0(t,i))),e===1)throw n=_c,ua(t,0),Ui(t,r),Sn(t,ft()),n;if(e===6)Ui(t,r);else{if(i=t.current.alternate,(r&30)===0&&!nF(i)&&(e=qd(t,r),e===2&&(o=kv(t),o!==0&&(r=o,e=o0(t,o))),e===1))throw n=_c,ua(t,0),Ui(t,r),Sn(t,ft()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:qo(t,yn,Hr);break;case 3:if(Ui(t,r),(r&130023424)===r&&(e=Cw+500-ft(),10<e)){if(Id(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){cn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jv(qo.bind(null,t,yn,Hr),e);break}qo(t,yn,Hr);break;case 4:if(Ui(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-mr(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tF(r/1960))-r,10<r){t.timeoutHandle=jv(qo.bind(null,t,yn,Hr),r);break}qo(t,yn,Hr);break;case 5:qo(t,yn,Hr);break;default:throw Error(H(329))}}}return Sn(t,ft()),t.callbackNode===n?Hk.bind(null,t):null}function o0(t,e){var n=ql;return t.current.memoizedState.isDehydrated&&(ua(t,e).flags|=256),t=qd(t,e),t!==2&&(e=yn,yn=n,e!==null&&a0(e)),t}function a0(t){yn===null?yn=t:yn.push.apply(yn,t)}function nF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!wr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ui(t,e){for(e&=~Ow,e&=~dm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-mr(e),r=1<<n;t[n]=-1,e&=~r}}function rS(t){if((Ie&6)!==0)throw Error(H(327));Cs();var e=Id(t,0);if((e&1)===0)return Sn(t,ft()),null;var n=qd(t,e);if(t.tag!==0&&n===2){var r=kv(t);r!==0&&(e=r,n=o0(t,r))}if(n===1)throw n=_c,ua(t,0),Ui(t,e),Sn(t,ft()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qo(t,yn,Hr),Sn(t,ft()),null}function kw(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(qs=ft()+500,lm&&So())}}function wa(t){Qi!==null&&Qi.tag===0&&(Ie&6)===0&&Cs();var e=Ie;Ie|=1;var n=Xn.transition,r=Me;try{if(Xn.transition=null,Me=1,t)return t()}finally{Me=r,Xn.transition=n,Ie=e,(Ie&6)===0&&So()}}function Rw(){Pn=Ts.current,Ye(Ts)}function ua(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Rj(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(fw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kd();break;case 3:Us(),Ye(xn),Ye(nn),bw();break;case 5:ww(r);break;case 4:Us();break;case 13:Ye(rt);break;case 19:Ye(rt);break;case 10:gw(r.type._context);break;case 22:case 23:Rw()}n=n.return}if(kt=t,yt=t=ao(t.current,null),Bt=Pn=e,xt=0,_c=null,Ow=dm=_a=0,yn=ql=null,ta!==null){for(e=0;e<ta.length;e++)if(n=ta[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}ta=null}return t}function Qk(t,e){do{var n=yt;try{if(mw(),nd.current=Fd,jd){for(var r=ot.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jd=!1}if(va=0,Ot=bt=ot=null,Ul=!1,gc=0,Pw.current=null,n===null||n.return===null){xt=1,_c=e,yt=null;break}e:{var o=t,a=n.return,s=n,u=e;if(e=Bt,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=s,h=c.tag;if((c.mode&1)===0&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=qT(a);if(p!==null){p.flags&=-257,WT(p,a,s,o,e),p.mode&1&&zT(o,l,e),e=p,u=l;var _=e.updateQueue;if(_===null){var g=new Set;g.add(u),e.updateQueue=g}else _.add(u);break e}else{if((e&1)===0){zT(o,l,e),Nw();break e}u=Error(H(426))}}else if(Ze&&s.mode&1){var v=qT(a);if(v!==null){(v.flags&65536)===0&&(v.flags|=256),WT(v,a,s,o,e),dw(zs(u,s));break e}}o=u=zs(u,s),xt!==4&&(xt=2),ql===null?ql=[o]:ql.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=Rk(o,u,e);$T(o,b);break e;case 1:s=u;var y=o.type,w=o.stateNode;if((o.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(io===null||!io.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=Nk(o,s,e);$T(o,x);break e}}o=o.return}while(o!==null)}Jk(n)}catch(T){e=T,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(1)}function Xk(){var t=Bd.current;return Bd.current=Fd,t===null?Fd:t}function Nw(){(xt===0||xt===3||xt===2)&&(xt=4),kt===null||(_a&268435455)===0&&(dm&268435455)===0||Ui(kt,Bt)}function qd(t,e){var n=Ie;Ie|=2;var r=Xk();(kt!==t||Bt!==e)&&(Hr=null,ua(t,e));do try{rF();break}catch(i){Qk(t,i)}while(1);if(mw(),Ie=n,Bd.current=r,yt!==null)throw Error(H(261));return kt=null,Bt=0,xt}function rF(){for(;yt!==null;)Yk(yt)}function iF(){for(;yt!==null&&!OV();)Yk(yt)}function Yk(t){var e=eR(t.alternate,t,Pn);t.memoizedProps=t.pendingProps,e===null?Jk(t):yt=e,Pw.current=null}function Jk(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=Xj(n,e,Pn),n!==null){yt=n;return}}else{if(n=Yj(n,e),n!==null){n.flags&=32767,yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xt=6,yt=null;return}}if(e=e.sibling,e!==null){yt=e;return}yt=e=t}while(e!==null);xt===0&&(xt=5)}function qo(t,e,n){var r=Me,i=Xn.transition;try{Xn.transition=null,Me=1,oF(t,e,n,r)}finally{Xn.transition=i,Me=r}return null}function oF(t,e,n,r){do Cs();while(Qi!==null);if((Ie&6)!==0)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(jV(t,o),t===kt&&(yt=kt=null,Bt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||If||(If=!0,tR(Ed,function(){return Cs(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=Xn.transition,Xn.transition=null;var a=Me;Me=1;var s=Ie;Ie|=4,Pw.current=null,Zj(t,n),Gk(n,t),Ej(Lv),Ad=!!$v,Lv=$v=null,t.current=n,eF(n),CV(),Ie=s,Me=a,Xn.transition=o}else t.current=n;if(If&&(If=!1,Qi=t,zd=i),o=t.pendingLanes,o===0&&(io=null),NV(n.stateNode),Sn(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ud)throw Ud=!1,t=r0,r0=null,t;return(zd&1)!==0&&t.tag!==0&&Cs(),o=t.pendingLanes,(o&1)!==0?t===i0?Wl++:(Wl=0,i0=t):Wl=0,So(),null}function Cs(){if(Qi!==null){var t=kC(zd),e=Xn.transition,n=Me;try{if(Xn.transition=null,Me=16>t?16:t,Qi===null)var r=!1;else{if(t=Qi,Qi=null,zd=0,(Ie&6)!==0)throw Error(H(331));var i=Ie;for(Ie|=4,ie=t.current;ie!==null;){var o=ie,a=o.child;if((ie.flags&16)!==0){var s=o.deletions;if(s!==null){for(var u=0;u<s.length;u++){var l=s[u];for(ie=l;ie!==null;){var c=ie;switch(c.tag){case 0:case 11:case 15:zl(8,c,o)}var h=c.child;if(h!==null)h.return=c,ie=h;else for(;ie!==null;){c=ie;var d=c.sibling,p=c.return;if(zk(c),c===l){ie=null;break}if(d!==null){d.return=p,ie=d;break}ie=p}}}var _=o.alternate;if(_!==null){var g=_.child;if(g!==null){_.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ie=o}}if((o.subtreeFlags&2064)!==0&&a!==null)a.return=o,ie=a;else e:for(;ie!==null;){if(o=ie,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:zl(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,ie=b;break e}ie=o.return}}var y=t.current;for(ie=y;ie!==null;){a=ie;var w=a.child;if((a.subtreeFlags&2064)!==0&&w!==null)w.return=a,ie=w;else e:for(a=y;ie!==null;){if(s=ie,(s.flags&2048)!==0)try{switch(s.tag){case 0:case 11:case 15:fm(9,s)}}catch(T){lt(s,s.return,T)}if(s===a){ie=null;break e}var x=s.sibling;if(x!==null){x.return=s.return,ie=x;break e}ie=s.return}}if(Ie=i,So(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(im,t)}catch{}r=!0}return r}finally{Me=n,Xn.transition=e}}return!1}function iS(t,e,n){e=zs(n,e),e=Rk(t,e,1),t=ro(t,e,1),e=cn(),t!==null&&(wh(t,1,e),Sn(t,e))}function lt(t,e,n){if(t.tag===3)iS(t,t,n);else for(;e!==null;){if(e.tag===3){iS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(io===null||!io.has(r))){t=zs(n,t),t=Nk(e,t,1),e=ro(e,t,1),t=cn(),e!==null&&(wh(e,1,t),Sn(e,t));break}}e=e.return}}function aF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=cn(),t.pingedLanes|=t.suspendedLanes&n,kt===t&&(Bt&n)===n&&(xt===4||xt===3&&(Bt&130023424)===Bt&&500>ft()-Cw?ua(t,0):Ow|=n),Sn(t,e)}function Zk(t,e){e===0&&((t.mode&1)===0?e=1:(e=gf,gf<<=1,(gf&130023424)===0&&(gf=4194304)));var n=cn();t=mi(t,e),t!==null&&(wh(t,e,n),Sn(t,n))}function sF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Zk(t,n)}function uF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),Zk(t,n)}var eR;eR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xn.current)vn=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return vn=!1,Qj(t,e,n);vn=(t.flags&131072)!==0}else vn=!1,Ze&&(e.flags&1048576)!==0&&rk(e,Dd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;id(t,e),t=e.pendingProps;var i=js(e,nn.current);Os(e,n),i=Tw(null,e,r,t,i,n);var o=Sw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tn(r)?(o=!0,Rd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vw(e),i.updater=cm,e.stateNode=i,i._reactInternals=e,Gv(e,r,t,n),e=Qv(null,e,r,!0,o,n)):(e.tag=0,Ze&&o&&hw(e),sn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(id(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=cF(r),t=ur(r,t),i){case 0:e=Hv(null,e,r,t,n);break e;case 1:e=HT(null,e,r,t,n);break e;case 11:e=GT(null,e,r,t,n);break e;case 14:e=KT(null,e,r,ur(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),Hv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),HT(t,e,r,i,n);case 3:e:{if(Lk(e),t===null)throw Error(H(387));r=e.pendingProps,o=e.memoizedState,i=o.element,sk(t,e),Ld(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=zs(Error(H(423)),e),e=QT(t,e,r,n,i);break e}else if(r!==i){i=zs(Error(H(424)),e),e=QT(t,e,r,n,i);break e}else for(kn=no(e.stateNode.containerInfo.firstChild),Nn=e,Ze=!0,hr=null,n=hk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fs(),r===i){e=gi(t,e,n);break e}sn(t,e,r,n)}e=e.child}return e;case 5:return fk(e),t===null&&zv(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Vv(r,i)?a=null:o!==null&&Vv(r,o)&&(e.flags|=32),$k(t,e),sn(t,e,a,n),e.child;case 6:return t===null&&zv(e),null;case 13:return Vk(t,e,n);case 4:return _w(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Bs(e,null,r,n):sn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),GT(t,e,r,i,n);case 7:return sn(t,e,e.pendingProps,n),e.child;case 8:return sn(t,e,e.pendingProps.children,n),e.child;case 12:return sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,ze(Md,r._currentValue),r._currentValue=a,o!==null)if(wr(o.value,a)){if(o.children===i.children&&!xn.current){e=gi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var u=s.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=si(-1,n&-n),u.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),qv(o.return,n,e),s.lanes|=n;break}u=u.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(H(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),qv(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}sn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Os(e,n),i=Jn(i),r=r(i),e.flags|=1,sn(t,e,r,n),e.child;case 14:return r=e.type,i=ur(r,e.pendingProps),i=ur(r.type,i),KT(t,e,r,i,n);case 15:return Dk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),id(t,e),e.tag=1,Tn(r)?(t=!0,Rd(e)):t=!1,Os(e,n),lk(e,r,i),Gv(e,r,i,n),Qv(null,e,r,!0,t,n);case 19:return jk(t,e,n);case 22:return Mk(t,e,n)}throw Error(H(156,e.tag))};function tR(t,e){return AC(t,e)}function lF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(t,e,n,r){return new lF(t,e,n,r)}function Dw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cF(t){if(typeof t=="function")return Dw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Z_)return 11;if(t===ew)return 14}return 2}function ao(t,e){var n=t.alternate;return n===null?(n=Hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sd(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Dw(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ds:return la(n.children,i,o,e);case J_:a=8,i|=8;break;case gv:return t=Hn(12,n,e,i|2),t.elementType=gv,t.lanes=o,t;case yv:return t=Hn(13,n,e,i),t.elementType=yv,t.lanes=o,t;case vv:return t=Hn(19,n,e,i),t.elementType=vv,t.lanes=o,t;case cC:return pm(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case uC:a=10;break e;case lC:a=9;break e;case Z_:a=11;break e;case ew:a=14;break e;case Vi:a=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Hn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function la(t,e,n,r){return t=Hn(7,t,r,e),t.lanes=n,t}function pm(t,e,n,r){return t=Hn(22,t,r,e),t.elementType=cC,t.lanes=n,t.stateNode={isHidden:!1},t}function xy(t,e,n){return t=Hn(6,t,null,e),t.lanes=n,t}function Ty(t,e,n){return e=Hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hF(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ry(0),this.expirationTimes=ry(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ry(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mw(t,e,n,r,i,o,a,s,u){return t=new hF(t,e,n,s,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Hn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vw(o),t}function fF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function nR(t){if(!t)return go;t=t._reactInternals;e:{if(La(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(Tn(n))return tk(t,n,e)}return e}function rR(t,e,n,r,i,o,a,s,u){return t=Mw(n,r,!0,t,i,o,a,s,u),t.context=nR(null),n=t.current,r=cn(),i=oo(n),o=si(r,i),o.callback=e!=null?e:null,ro(n,o,i),t.current.lanes=i,wh(t,i,r),Sn(t,r),t}function mm(t,e,n,r){var i=e.current,o=cn(),a=oo(i);return n=nR(n),e.context===null?e.context=n:e.pendingContext=n,e=si(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ro(i,e,a),t!==null&&(gr(t,i,a,o),td(t,i,a)),a}function Wd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $w(t,e){oS(t,e),(t=t.alternate)&&oS(t,e)}function dF(){return null}var iR=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lw(t){this._internalRoot=t}gm.prototype.render=Lw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));mm(t,e,null,null)};gm.prototype.unmount=Lw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wa(function(){mm(null,t,null,null)}),e[pi]=null}};function gm(t){this._internalRoot=t}gm.prototype.unstable_scheduleHydration=function(t){if(t){var e=DC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Bi.length&&e!==0&&e<Bi[n].priority;n++);Bi.splice(n,0,t),n===0&&$C(t)}};function Vw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ym(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function aS(){}function pF(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var l=Wd(a);o.call(l)}}var a=rR(e,r,t,0,null,!1,!1,"",aS);return t._reactRootContainer=a,t[pi]=a.current,hc(t.nodeType===8?t.parentNode:t),wa(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var l=Wd(u);s.call(l)}}var u=Mw(t,0,!1,null,null,!1,!1,"",aS);return t._reactRootContainer=u,t[pi]=u.current,hc(t.nodeType===8?t.parentNode:t),wa(function(){mm(e,u,n,r)}),u}function vm(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var u=Wd(a);s.call(u)}}mm(e,a,t,i)}else a=pF(n,e,t,i,r);return Wd(a)}RC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Pl(e.pendingLanes);n!==0&&(rw(e,n|1),Sn(e,ft()),(Ie&6)===0&&(qs=ft()+500,So()))}break;case 13:wa(function(){var r=mi(t,1);if(r!==null){var i=cn();gr(r,t,1,i)}}),$w(t,1)}};iw=function(t){if(t.tag===13){var e=mi(t,134217728);if(e!==null){var n=cn();gr(e,t,134217728,n)}$w(t,134217728)}};NC=function(t){if(t.tag===13){var e=oo(t),n=mi(t,e);if(n!==null){var r=cn();gr(n,t,e,r)}$w(t,e)}};DC=function(){return Me};MC=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};Pv=function(t,e,n){switch(e){case"input":if(bv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=um(r);if(!i)throw Error(H(90));fC(r),bv(r,i)}}}break;case"textarea":pC(t,n);break;case"select":e=n.value,e!=null&&Es(t,!!n.multiple,e,!1)}};bC=kw;xC=wa;var mF={usingClientEntryPoint:!1,Events:[xh,ys,um,_C,wC,kw]},cl={findFiberByHostInstance:ea,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},gF={bundleType:cl.bundleType,version:cl.version,rendererPackageName:cl.rendererPackageName,rendererConfig:cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Si.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=EC(t),t===null?null:t.stateNode},findFiberByHostInstance:cl.findFiberByHostInstance||dF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Af.isDisabled&&Af.supportsFiber)try{im=Af.inject(gF),Rr=Af}catch{}}Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mF;Vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vw(e))throw Error(H(200));return fF(t,e,null,n)};Vn.createRoot=function(t,e){if(!Vw(t))throw Error(H(299));var n=!1,r="",i=iR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Mw(t,1,!1,null,null,n,!1,r,i),t[pi]=e.current,hc(t.nodeType===8?t.parentNode:t),new Lw(e)};Vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=EC(e),t=t===null?null:t.stateNode,t};Vn.flushSync=function(t){return wa(t)};Vn.hydrate=function(t,e,n){if(!ym(e))throw Error(H(200));return vm(null,t,e,!0,n)};Vn.hydrateRoot=function(t,e,n){if(!Vw(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=iR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=rR(e,null,t,1,n!=null?n:null,i,!1,o,a),t[pi]=e.current,hc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new gm(e)};Vn.render=function(t,e,n){if(!ym(e))throw Error(H(200));return vm(null,t,e,!1,n)};Vn.unmountComponentAtNode=function(t){if(!ym(t))throw Error(H(40));return t._reactRootContainer?(wa(function(){vm(null,null,t,!1,function(){t._reactRootContainer=null,t[pi]=null})}),!0):!1};Vn.unstable_batchedUpdates=kw;Vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ym(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return vm(t,e,n,!1,r)};Vn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Vn})(rm);const yF=XO(rm.exports),vF=QO({__proto__:null,default:yF},[rm.exports]);var sS=rm.exports;pv.createRoot=sS.createRoot,pv.hydrateRoot=sS.hydrateRoot;/**
 * @remix-run/router v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wc(){return wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wc.apply(this,arguments)}var Xi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xi||(Xi={}));const uS="popstate";function _F(t){t===void 0&&(t={});function e(i,o){let{pathname:a="/",search:s="",hash:u=""}=Va(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),s0("",{pathname:a,search:s,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let u=i.location.href,l=u.indexOf("#");s=l===-1?u:u.slice(0,l)}return s+"#"+(typeof o=="string"?o:Gd(o))}function r(i,o){jw(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return bF(e,n,r,t)}function pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wF(){return Math.random().toString(36).substr(2,8)}function lS(t,e){return{usr:t.state,key:t.key,idx:e}}function s0(t,e,n,r){return n===void 0&&(n=null),wc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Va(e):e,{state:n,key:e&&e.key||r||wF()})}function Gd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Va(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function bF(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Xi.Pop,u=null,l=c();l==null&&(l=0,a.replaceState(wc({},a.state,{idx:l}),""));function c(){return(a.state||{idx:null}).idx}function h(){s=Xi.Pop;let v=c(),b=v==null?null:v-l;l=v,u&&u({action:s,location:g.location,delta:b})}function d(v,b){s=Xi.Push;let y=s0(g.location,v,b);n&&n(y,v),l=c()+1;let w=lS(y,l),x=g.createHref(y);try{a.pushState(w,"",x)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(x)}o&&u&&u({action:s,location:g.location,delta:1})}function p(v,b){s=Xi.Replace;let y=s0(g.location,v,b);n&&n(y,v),l=c();let w=lS(y,l),x=g.createHref(y);a.replaceState(w,"",x),o&&u&&u({action:s,location:g.location,delta:0})}function _(v){let b=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof v=="string"?v:Gd(v);return y=y.replace(/ $/,"%20"),pt(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let g={get action(){return s},get location(){return t(i,a)},listen(v){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(uS,h),u=v,()=>{i.removeEventListener(uS,h),u=null}},createHref(v){return e(i,v)},createURL:_,encodeLocation(v){let b=_(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:d,replace:p,go(v){return a.go(v)}};return g}var cS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(cS||(cS={}));function xF(t,e,n){return n===void 0&&(n="/"),TF(t,e,n,!1)}function TF(t,e,n,r){let i=typeof e=="string"?Va(e):e,o=Fw(i.pathname||"/",n);if(o==null)return null;let a=oR(t);SF(a);let s=null;for(let u=0;s==null&&u<a.length;++u){let l=MF(o);s=NF(a[u],l,r)}return s}function oR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let u={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(pt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=so([r,u.relativePath]),c=n.concat(u);o.children&&o.children.length>0&&(pt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),oR(o.children,e,c,l)),!(o.path==null&&!o.index)&&e.push({path:l,score:kF(l,o.index),routesMeta:c})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let u of aR(o.path))i(o,a,u)}),e}function aR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=aR(r.join("/")),s=[];return s.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&s.push(...a),s.map(u=>t.startsWith("/")&&u===""?"/":u)}function SF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:RF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const EF=/^:[\w-]+$/,IF=3,AF=2,PF=1,OF=10,CF=-2,hS=t=>t==="*";function kF(t,e){let n=t.split("/"),r=n.length;return n.some(hS)&&(r+=CF),e&&(r+=AF),n.filter(i=>!hS(i)).reduce((i,o)=>i+(EF.test(o)?IF:o===""?PF:OF),r)}function RF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function NF(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let u=r[s],l=s===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",h=fS({path:u.relativePath,caseSensitive:u.caseSensitive,end:l},c),d=u.route;if(!h&&l&&n&&!r[r.length-1].route.index&&(h=fS({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},c)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:so([o,h.pathname]),pathnameBase:jF(so([o,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(o=so([o,h.pathnameBase]))}return a}function fS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=DF(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((l,c,h)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let g=s[h]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const _=s[h];return p&&!_?l[d]=void 0:l[d]=(_||"").replace(/%2F/g,"/"),l},{}),pathname:o,pathnameBase:a,pattern:t}}function DF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),jw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,u)=>(r.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function MF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Fw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $F(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Va(t):t;return{pathname:n?n.startsWith("/")?n:LF(n,e):e,search:FF(r),hash:BF(i)}}function LF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Sy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function VF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bw(t,e){let n=VF(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Uw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Va(t):(i=wc({},t),pt(!i.pathname||!i.pathname.includes("?"),Sy("?","pathname","search",i)),pt(!i.pathname||!i.pathname.includes("#"),Sy("#","pathname","hash",i)),pt(!i.search||!i.search.includes("#"),Sy("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}s=h>=0?e[h]:"/"}let u=$F(i,s),l=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const so=t=>t.join("/").replace(/\/\/+/g,"/"),jF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function UF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zF=["post","put","patch","delete"];[...zF];var _m={exports:{}},wm={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qF=M.exports,WF=Symbol.for("react.element"),GF=Symbol.for("react.fragment"),KF=Object.prototype.hasOwnProperty,HF=qF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QF={key:!0,ref:!0,__self:!0,__source:!0};function sR(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)KF.call(e,r)&&!QF.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:WF,type:t,key:o,ref:a,props:i,_owner:HF.current}}wm.Fragment=GF;wm.jsx=sR;wm.jsxs=sR;(function(t){t.exports=wm})(_m);const bm=_m.exports.Fragment,D=_m.exports.jsx,Y=_m.exports.jsxs;/**
 * React Router v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bc(){return bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bc.apply(this,arguments)}const zw=M.exports.createContext(null),XF=M.exports.createContext(null),Eo=M.exports.createContext(null),xm=M.exports.createContext(null),Ei=M.exports.createContext({outlet:null,matches:[],isDataRoute:!1}),uR=M.exports.createContext(null);function YF(t,e){let{relative:n}=e===void 0?{}:e;Tu()||pt(!1);let{basename:r,navigator:i}=M.exports.useContext(Eo),{hash:o,pathname:a,search:s}=cR(t,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:so([r,a])),i.createHref({pathname:u,search:s,hash:o})}function Tu(){return M.exports.useContext(xm)!=null}function Su(){return Tu()||pt(!1),M.exports.useContext(xm).location}function lR(t){M.exports.useContext(Eo).static||M.exports.useLayoutEffect(t)}function ja(){let{isDataRoute:t}=M.exports.useContext(Ei);return t?hB():JF()}function JF(){Tu()||pt(!1);let t=M.exports.useContext(zw),{basename:e,future:n,navigator:r}=M.exports.useContext(Eo),{matches:i}=M.exports.useContext(Ei),{pathname:o}=Su(),a=JSON.stringify(Bw(i,n.v7_relativeSplatPath)),s=M.exports.useRef(!1);return lR(()=>{s.current=!0}),M.exports.useCallback(function(l,c){if(c===void 0&&(c={}),!s.current)return;if(typeof l=="number"){r.go(l);return}let h=Uw(l,JSON.parse(a),o,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:so([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,a,o,t])}function ZF(){let{matches:t}=M.exports.useContext(Ei),e=t[t.length-1];return e?e.params:{}}function cR(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=M.exports.useContext(Eo),{matches:i}=M.exports.useContext(Ei),{pathname:o}=Su(),a=JSON.stringify(Bw(i,r.v7_relativeSplatPath));return M.exports.useMemo(()=>Uw(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function eB(t,e){return tB(t,e)}function tB(t,e,n,r){Tu()||pt(!1);let{navigator:i}=M.exports.useContext(Eo),{matches:o}=M.exports.useContext(Ei),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let l=Su(),c;if(e){var h;let v=typeof e=="string"?Va(e):e;u==="/"||((h=v.pathname)==null?void 0:h.startsWith(u))||pt(!1),c=v}else c=l;let d=c.pathname||"/",p=d;if(u!=="/"){let v=u.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(v.length).join("/")}let _=xF(t,{pathname:p}),g=aB(_&&_.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:so([u,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:so([u,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r);return e&&g?D(xm.Provider,{value:{location:bc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Xi.Pop},children:g}):g}function nB(){let t=cB(),e=UF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null;return Y(bm,{children:[D("h2",{children:"Unexpected Application Error!"}),D("h3",{style:{fontStyle:"italic"},children:e}),n?D("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},children:n}):null,null]})}const rB=D(nB,{});class iB extends M.exports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D(Ei.Provider,{value:this.props.routeContext,children:D(uR.Provider,{value:this.state.error,children:this.props.component})}):this.props.children}}function oB(t){let{routeContext:e,match:n,children:r}=t,i=M.exports.useContext(zw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D(Ei.Provider,{value:e,children:r})}function aB(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);c>=0||pt(!1),a=a.slice(0,Math.min(a.length,c+1))}let u=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let h=a[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=c),h.route.id){let{loaderData:d,errors:p}=n,_=h.route.loader&&d[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||_){u=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((c,h,d)=>{let p,_=!1,g=null,v=null;n&&(p=s&&h.route.id?s[h.route.id]:void 0,g=h.route.errorElement||rB,u&&(l<0&&d===0?(fB("route-fallback",!1),_=!0,v=null):l===d&&(_=!0,v=h.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,d+1)),y=()=>{let w;return p?w=g:_?w=v:h.route.Component?w=M.exports.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=c,D(oB,{match:h,routeContext:{outlet:c,matches:b,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?D(iB,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var hR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(hR||{}),Kd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Kd||{});function sB(t){let e=M.exports.useContext(zw);return e||pt(!1),e}function uB(t){let e=M.exports.useContext(XF);return e||pt(!1),e}function lB(t){let e=M.exports.useContext(Ei);return e||pt(!1),e}function fR(t){let e=lB(),n=e.matches[e.matches.length-1];return n.route.id||pt(!1),n.route.id}function cB(){var t;let e=M.exports.useContext(uR),n=uB(Kd.UseRouteError),r=fR(Kd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function hB(){let{router:t}=sB(hR.UseNavigateStable),e=fR(Kd.UseNavigateStable),n=M.exports.useRef(!1);return lR(()=>{n.current=!0}),M.exports.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,bc({fromRouteId:e},o)))},[t,e])}const dS={};function fB(t,e,n){!e&&!dS[t]&&(dS[t]=!0)}const dB="startTransition";H_[dB];function Fo(t){let{to:e,replace:n,state:r,relative:i}=t;Tu()||pt(!1);let{future:o,static:a}=M.exports.useContext(Eo),{matches:s}=M.exports.useContext(Ei),{pathname:u}=Su(),l=ja(),c=Uw(e,Bw(s,o.v7_relativeSplatPath),u,i==="path"),h=JSON.stringify(c);return M.exports.useEffect(()=>l(JSON.parse(h),{replace:n,state:r,relative:i}),[l,h,i,n,r]),null}function Li(t){pt(!1)}function pB(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Xi.Pop,navigator:o,static:a=!1,future:s}=t;Tu()&&pt(!1);let u=e.replace(/^\/*/,"/"),l=M.exports.useMemo(()=>({basename:u,navigator:o,static:a,future:bc({v7_relativeSplatPath:!1},s)}),[u,s,o,a]);typeof r=="string"&&(r=Va(r));let{pathname:c="/",search:h="",hash:d="",state:p=null,key:_="default"}=r,g=M.exports.useMemo(()=>{let v=Fw(c,u);return v==null?null:{location:{pathname:v,search:h,hash:d,state:p,key:_},navigationType:i}},[u,c,h,d,p,_,i]);return g==null?null:D(Eo.Provider,{value:l,children:D(xm.Provider,{children:n,value:g})})}function mB(t){let{children:e,location:n}=t;return eB(u0(e),n)}new Promise(()=>{});function u0(t,e){e===void 0&&(e=[]);let n=[];return M.exports.Children.forEach(t,(r,i)=>{if(!M.exports.isValidElement(r))return;let o=[...e,i];if(r.type===M.exports.Fragment){n.push.apply(n,u0(r.props.children,o));return}r.type!==Li&&pt(!1),!r.props.index||!r.props.children||pt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=u0(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function yB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vB(t,e){return t.button===0&&(!e||e==="_self")&&!yB(t)}const _B=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],wB="6";try{window.__reactRouterVersion=wB}catch{}const bB="startTransition",pS=H_[bB],xB="flushSync";vF[xB];const TB="useId";H_[TB];function SB(t){let{basename:e,children:n,future:r,window:i}=t,o=M.exports.useRef();o.current==null&&(o.current=_F({window:i,v5Compat:!0}));let a=o.current,[s,u]=M.exports.useState({action:a.action,location:a.location}),{v7_startTransition:l}=r||{},c=M.exports.useCallback(h=>{l&&pS?pS(()=>u(h)):u(h)},[u,l]);return M.exports.useLayoutEffect(()=>a.listen(c),[a,c]),D(pB,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const EB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ra=M.exports.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:u,to:l,preventScrollReset:c,unstable_viewTransition:h}=e,d=gB(e,_B),{basename:p}=M.exports.useContext(Eo),_,g=!1;if(typeof l=="string"&&IB.test(l)&&(_=l,EB))try{let w=new URL(window.location.href),x=l.startsWith("//")?new URL(w.protocol+l):new URL(l),T=Fw(x.pathname,p);x.origin===w.origin&&T!=null?l=T+x.search+x.hash:g=!0}catch{}let v=YF(l,{relative:i}),b=AB(l,{replace:a,state:s,target:u,preventScrollReset:c,relative:i,unstable_viewTransition:h});function y(w){r&&r(w),w.defaultPrevented||b(w)}return D("a",{...d,href:_||v,onClick:g||o?r:y,ref:n,target:u})});var mS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(mS||(mS={}));var gS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gS||(gS={}));function AB(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:s}=e===void 0?{}:e,u=ja(),l=Su(),c=cR(t,{relative:a});return M.exports.useCallback(h=>{if(vB(h,n)){h.preventDefault();let d=r!==void 0?r:Gd(l)===Gd(c);u(t,{replace:d,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:s})}},[l,u,c,r,i,n,t,o,a,s])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},PB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],u=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},pR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=o>>2,h=(o&3)<<4|s>>4;let d=(s&15)<<2|l>>6,p=l&63;u||(p=64,a||(d=64)),r.push(n[c],n[h],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||l==null||h==null)throw new OB;const d=o<<2|s>>4;if(r.push(d),l!==64){const p=s<<4&240|l>>2;if(r.push(p),h!==64){const _=l<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class OB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CB=function(t){const e=dR(t);return pR.encodeByteArray(e,!0)},Hd=function(t){return CB(t).replace(/\./g,"")},mR=function(t){try{return pR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB=()=>kB().__FIREBASE_DEFAULTS__,NB=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mR(t[1]);return e&&JSON.parse(e)},Tm=()=>{try{return RB()||NB()||DB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gR=t=>{var e,n;return(n=(e=Tm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},MB=t=>{const e=gR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yR=()=>{var t;return(t=Tm())===null||t===void 0?void 0:t.config},vR=t=>{var e;return(e=Tm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),s="";return[Hd(JSON.stringify(n)),Hd(JSON.stringify(a)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function jB(){var t;const e=(t=Tm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UB(){const t=_t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _R(){return!jB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wR(){try{return typeof indexedDB=="object"}catch{return!1}}function zB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB="FirebaseError";class zr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qB,Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sh.prototype.create)}}class Sh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?WB(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new zr(i,s,r)}}function WB(t,e){return t.replace(GB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const GB=/\{\$([^}]+)}/g;function KB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(yS(o)&&yS(a)){if(!xc(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function yS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function HB(t,e){const n=new QB(t,e);return n.subscribe.bind(n)}class QB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");XB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ey),i.error===void 0&&(i.error=Ey),i.complete===void 0&&(i.complete=Ey);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ey(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t){return t&&t._delegate?t._delegate:t}class yo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $B;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZB(e))try{this.getOrInitializeService({instanceIdentifier:Wo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wo){return this.instances.has(e)}getOptions(e=Wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wo){return this.component?this.component.multipleInstances?e:Wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JB(t){return t===Wo?void 0:t}function ZB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new YB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(be||(be={}));const tU={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},nU=be.INFO,rU={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},iU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=rU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qw{constructor(e){this.name=e,this._logLevel=nU,this._logHandler=iU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const oU=(t,e)=>e.some(n=>t instanceof n);let vS,_S;function aU(){return vS||(vS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sU(){return _S||(_S=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bR=new WeakMap,l0=new WeakMap,xR=new WeakMap,Iy=new WeakMap,Ww=new WeakMap;function uU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(uo(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&bR.set(n,t)}).catch(()=>{}),Ww.set(e,t),e}function lU(t){if(l0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});l0.set(t,e)}let c0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return l0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return uo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cU(t){c0=t(c0)}function hU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ay(this),e,...n);return xR.set(r,e.sort?e.sort():[e]),uo(r)}:sU().includes(t)?function(...e){return t.apply(Ay(this),e),uo(bR.get(this))}:function(...e){return uo(t.apply(Ay(this),e))}}function fU(t){return typeof t=="function"?hU(t):(t instanceof IDBTransaction&&lU(t),oU(t,aU())?new Proxy(t,c0):t)}function uo(t){if(t instanceof IDBRequest)return uU(t);if(Iy.has(t))return Iy.get(t);const e=fU(t);return e!==t&&(Iy.set(t,e),Ww.set(e,t)),e}const Ay=t=>Ww.get(t);function dU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=uo(a);return r&&a.addEventListener("upgradeneeded",u=>{r(uo(a.result),u.oldVersion,u.newVersion,uo(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),s.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),s}const pU=["get","getKey","getAll","getAllKeys","count"],mU=["put","add","delete","clear"],Py=new Map;function wS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Py.get(e))return Py.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pU.includes(n)))return;const o=async function(a,...s){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(s.shift())),(await Promise.all([l[n](...s),i&&u.done]))[0]};return Py.set(e,o),o}cU(t=>({...t,get:(e,n,r)=>wS(e,n)||t.get(e,n,r),has:(e,n)=>!!wS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const h0="@firebase/app",bS="0.10.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new qw("@firebase/app"),vU="@firebase/app-compat",_U="@firebase/analytics-compat",wU="@firebase/analytics",bU="@firebase/app-check-compat",xU="@firebase/app-check",TU="@firebase/auth",SU="@firebase/auth-compat",EU="@firebase/database",IU="@firebase/database-compat",AU="@firebase/functions",PU="@firebase/functions-compat",OU="@firebase/installations",CU="@firebase/installations-compat",kU="@firebase/messaging",RU="@firebase/messaging-compat",NU="@firebase/performance",DU="@firebase/performance-compat",MU="@firebase/remote-config",$U="@firebase/remote-config-compat",LU="@firebase/storage",VU="@firebase/storage-compat",jU="@firebase/firestore",FU="@firebase/vertexai-preview",BU="@firebase/firestore-compat",UU="firebase",zU="10.12.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="[DEFAULT]",qU={[h0]:"fire-core",[vU]:"fire-core-compat",[wU]:"fire-analytics",[_U]:"fire-analytics-compat",[xU]:"fire-app-check",[bU]:"fire-app-check-compat",[TU]:"fire-auth",[SU]:"fire-auth-compat",[EU]:"fire-rtdb",[IU]:"fire-rtdb-compat",[AU]:"fire-fn",[PU]:"fire-fn-compat",[OU]:"fire-iid",[CU]:"fire-iid-compat",[kU]:"fire-fcm",[RU]:"fire-fcm-compat",[NU]:"fire-perf",[DU]:"fire-perf-compat",[MU]:"fire-rc",[$U]:"fire-rc-compat",[LU]:"fire-gcs",[VU]:"fire-gcs-compat",[jU]:"fire-fst",[BU]:"fire-fst-compat",[FU]:"fire-vertex","fire-js":"fire-js",[UU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd=new Map,WU=new Map,d0=new Map;function xS(t,e){try{t.container.addComponent(e)}catch(n){ba.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xa(t){const e=t.name;if(d0.has(e))return ba.debug(`There were multiple attempts to register component ${e}.`),!1;d0.set(e,t);for(const n of Qd.values())xS(n,t);for(const n of WU.values())xS(n,t);return!0}function Sm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}'",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["server-app-deleted"]:"Firebase Server App has been deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",["finalization-registry-not-supported"]:"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",["invalid-server-app-environment"]:"FirebaseServerApp is not for use in browser environments."},lo=new Sh("app","Firebase",GU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=zU;function TR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:f0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw lo.create("bad-app-name",{appName:String(i)});if(n||(n=yR()),!n)throw lo.create("no-options");const o=Qd.get(i);if(o){if(xc(n,o.options)&&xc(r,o.config))return o;throw lo.create("duplicate-app",{appName:i})}const a=new eU(i);for(const u of d0.values())a.addComponent(u);const s=new KU(n,r,a);return Qd.set(i,s),s}function SR(t=f0){const e=Qd.get(t);if(!e&&t===f0&&yR())return TR();if(!e)throw lo.create("no-app",{appName:t});return e}function Dr(t,e,n){var r;let i=(r=qU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ba.warn(s.join(" "));return}xa(new yo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU="firebase-heartbeat-database",QU=1,Tc="firebase-heartbeat-store";let Oy=null;function ER(){return Oy||(Oy=dU(HU,QU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Tc)}catch(n){console.warn(n)}}}}).catch(t=>{throw lo.create("idb-open",{originalErrorMessage:t.message})})),Oy}async function XU(t){try{const n=(await ER()).transaction(Tc),r=await n.objectStore(Tc).get(IR(t));return await n.done,r}catch(e){if(e instanceof zr)ba.warn(e.message);else{const n=lo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ba.warn(n.message)}}}async function TS(t,e){try{const r=(await ER()).transaction(Tc,"readwrite");await r.objectStore(Tc).put(e,IR(t)),await r.done}catch(n){if(n instanceof zr)ba.warn(n.message);else{const r=lo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ba.warn(r.message)}}}function IR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=1024,JU=30*24*60*60*1e3;class ZU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new t4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=SS();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=JU}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=SS(),{heartbeatsToSend:r,unsentEntries:i}=e4(this._heartbeatsCache.heartbeats),o=Hd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function SS(){return new Date().toISOString().substring(0,10)}function e4(t,e=YU){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),ES(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ES(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class t4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wR()?zB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return TS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return TS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ES(t){return Hd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t){xa(new yo("platform-logger",e=>new gU(e),"PRIVATE")),xa(new yo("heartbeat",e=>new ZU(e),"PRIVATE")),Dr(h0,bS,t),Dr(h0,bS,"esm2017"),Dr("fire-js","")}n4("");var r4="firebase",i4="10.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dr(r4,i4,"app");var IS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ca,AR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function P(){}P.prototype=S.prototype,I.D=S.prototype,I.prototype=new P,I.prototype.constructor=I,I.C=function(O,R,N){for(var C=Array(arguments.length-2),F=2;F<arguments.length;F++)C[F-2]=arguments[F];return S.prototype[R].apply(O,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,S,P){P||(P=0);var O=Array(16);if(typeof S=="string")for(var R=0;16>R;++R)O[R]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(R=0;16>R;++R)O[R]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=I.g[0],P=I.g[1],R=I.g[2];var N=I.g[3],C=S+(N^P&(R^N))+O[0]+3614090360&4294967295;S=P+(C<<7&4294967295|C>>>25),C=N+(R^S&(P^R))+O[1]+3905402710&4294967295,N=S+(C<<12&4294967295|C>>>20),C=R+(P^N&(S^P))+O[2]+606105819&4294967295,R=N+(C<<17&4294967295|C>>>15),C=P+(S^R&(N^S))+O[3]+3250441966&4294967295,P=R+(C<<22&4294967295|C>>>10),C=S+(N^P&(R^N))+O[4]+4118548399&4294967295,S=P+(C<<7&4294967295|C>>>25),C=N+(R^S&(P^R))+O[5]+1200080426&4294967295,N=S+(C<<12&4294967295|C>>>20),C=R+(P^N&(S^P))+O[6]+2821735955&4294967295,R=N+(C<<17&4294967295|C>>>15),C=P+(S^R&(N^S))+O[7]+4249261313&4294967295,P=R+(C<<22&4294967295|C>>>10),C=S+(N^P&(R^N))+O[8]+1770035416&4294967295,S=P+(C<<7&4294967295|C>>>25),C=N+(R^S&(P^R))+O[9]+2336552879&4294967295,N=S+(C<<12&4294967295|C>>>20),C=R+(P^N&(S^P))+O[10]+4294925233&4294967295,R=N+(C<<17&4294967295|C>>>15),C=P+(S^R&(N^S))+O[11]+2304563134&4294967295,P=R+(C<<22&4294967295|C>>>10),C=S+(N^P&(R^N))+O[12]+1804603682&4294967295,S=P+(C<<7&4294967295|C>>>25),C=N+(R^S&(P^R))+O[13]+4254626195&4294967295,N=S+(C<<12&4294967295|C>>>20),C=R+(P^N&(S^P))+O[14]+2792965006&4294967295,R=N+(C<<17&4294967295|C>>>15),C=P+(S^R&(N^S))+O[15]+1236535329&4294967295,P=R+(C<<22&4294967295|C>>>10),C=S+(R^N&(P^R))+O[1]+4129170786&4294967295,S=P+(C<<5&4294967295|C>>>27),C=N+(P^R&(S^P))+O[6]+3225465664&4294967295,N=S+(C<<9&4294967295|C>>>23),C=R+(S^P&(N^S))+O[11]+643717713&4294967295,R=N+(C<<14&4294967295|C>>>18),C=P+(N^S&(R^N))+O[0]+3921069994&4294967295,P=R+(C<<20&4294967295|C>>>12),C=S+(R^N&(P^R))+O[5]+3593408605&4294967295,S=P+(C<<5&4294967295|C>>>27),C=N+(P^R&(S^P))+O[10]+38016083&4294967295,N=S+(C<<9&4294967295|C>>>23),C=R+(S^P&(N^S))+O[15]+3634488961&4294967295,R=N+(C<<14&4294967295|C>>>18),C=P+(N^S&(R^N))+O[4]+3889429448&4294967295,P=R+(C<<20&4294967295|C>>>12),C=S+(R^N&(P^R))+O[9]+568446438&4294967295,S=P+(C<<5&4294967295|C>>>27),C=N+(P^R&(S^P))+O[14]+3275163606&4294967295,N=S+(C<<9&4294967295|C>>>23),C=R+(S^P&(N^S))+O[3]+4107603335&4294967295,R=N+(C<<14&4294967295|C>>>18),C=P+(N^S&(R^N))+O[8]+1163531501&4294967295,P=R+(C<<20&4294967295|C>>>12),C=S+(R^N&(P^R))+O[13]+2850285829&4294967295,S=P+(C<<5&4294967295|C>>>27),C=N+(P^R&(S^P))+O[2]+4243563512&4294967295,N=S+(C<<9&4294967295|C>>>23),C=R+(S^P&(N^S))+O[7]+1735328473&4294967295,R=N+(C<<14&4294967295|C>>>18),C=P+(N^S&(R^N))+O[12]+2368359562&4294967295,P=R+(C<<20&4294967295|C>>>12),C=S+(P^R^N)+O[5]+4294588738&4294967295,S=P+(C<<4&4294967295|C>>>28),C=N+(S^P^R)+O[8]+2272392833&4294967295,N=S+(C<<11&4294967295|C>>>21),C=R+(N^S^P)+O[11]+1839030562&4294967295,R=N+(C<<16&4294967295|C>>>16),C=P+(R^N^S)+O[14]+4259657740&4294967295,P=R+(C<<23&4294967295|C>>>9),C=S+(P^R^N)+O[1]+2763975236&4294967295,S=P+(C<<4&4294967295|C>>>28),C=N+(S^P^R)+O[4]+1272893353&4294967295,N=S+(C<<11&4294967295|C>>>21),C=R+(N^S^P)+O[7]+4139469664&4294967295,R=N+(C<<16&4294967295|C>>>16),C=P+(R^N^S)+O[10]+3200236656&4294967295,P=R+(C<<23&4294967295|C>>>9),C=S+(P^R^N)+O[13]+681279174&4294967295,S=P+(C<<4&4294967295|C>>>28),C=N+(S^P^R)+O[0]+3936430074&4294967295,N=S+(C<<11&4294967295|C>>>21),C=R+(N^S^P)+O[3]+3572445317&4294967295,R=N+(C<<16&4294967295|C>>>16),C=P+(R^N^S)+O[6]+76029189&4294967295,P=R+(C<<23&4294967295|C>>>9),C=S+(P^R^N)+O[9]+3654602809&4294967295,S=P+(C<<4&4294967295|C>>>28),C=N+(S^P^R)+O[12]+3873151461&4294967295,N=S+(C<<11&4294967295|C>>>21),C=R+(N^S^P)+O[15]+530742520&4294967295,R=N+(C<<16&4294967295|C>>>16),C=P+(R^N^S)+O[2]+3299628645&4294967295,P=R+(C<<23&4294967295|C>>>9),C=S+(R^(P|~N))+O[0]+4096336452&4294967295,S=P+(C<<6&4294967295|C>>>26),C=N+(P^(S|~R))+O[7]+1126891415&4294967295,N=S+(C<<10&4294967295|C>>>22),C=R+(S^(N|~P))+O[14]+2878612391&4294967295,R=N+(C<<15&4294967295|C>>>17),C=P+(N^(R|~S))+O[5]+4237533241&4294967295,P=R+(C<<21&4294967295|C>>>11),C=S+(R^(P|~N))+O[12]+1700485571&4294967295,S=P+(C<<6&4294967295|C>>>26),C=N+(P^(S|~R))+O[3]+2399980690&4294967295,N=S+(C<<10&4294967295|C>>>22),C=R+(S^(N|~P))+O[10]+4293915773&4294967295,R=N+(C<<15&4294967295|C>>>17),C=P+(N^(R|~S))+O[1]+2240044497&4294967295,P=R+(C<<21&4294967295|C>>>11),C=S+(R^(P|~N))+O[8]+1873313359&4294967295,S=P+(C<<6&4294967295|C>>>26),C=N+(P^(S|~R))+O[15]+4264355552&4294967295,N=S+(C<<10&4294967295|C>>>22),C=R+(S^(N|~P))+O[6]+2734768916&4294967295,R=N+(C<<15&4294967295|C>>>17),C=P+(N^(R|~S))+O[13]+1309151649&4294967295,P=R+(C<<21&4294967295|C>>>11),C=S+(R^(P|~N))+O[4]+4149444226&4294967295,S=P+(C<<6&4294967295|C>>>26),C=N+(P^(S|~R))+O[11]+3174756917&4294967295,N=S+(C<<10&4294967295|C>>>22),C=R+(S^(N|~P))+O[2]+718787259&4294967295,R=N+(C<<15&4294967295|C>>>17),C=P+(N^(R|~S))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(R+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+R&4294967295,I.g[3]=I.g[3]+N&4294967295}r.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var P=S-this.blockSize,O=this.B,R=this.h,N=0;N<S;){if(R==0)for(;N<=P;)i(this,I,N),N+=this.blockSize;if(typeof I=="string"){for(;N<S;)if(O[R++]=I.charCodeAt(N++),R==this.blockSize){i(this,O),R=0;break}}else for(;N<S;)if(O[R++]=I[N++],R==this.blockSize){i(this,O),R=0;break}}this.h=R,this.o+=S},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var P=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=P&255,P/=256;for(this.u(I),I=Array(16),S=P=0;4>S;++S)for(var O=0;32>O;O+=8)I[P++]=this.g[S]>>>O&255;return I};function o(I,S){var P=s;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=S(I)}function a(I,S){this.h=S;for(var P=[],O=!0,R=I.length-1;0<=R;R--){var N=I[R]|0;O&&N==S||(P[R]=N,O=!1)}this.g=P}var s={};function u(I){return-128<=I&&128>I?o(I,function(S){return new a([S|0],0>S?-1:0)}):new a([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return v(l(-I));for(var S=[],P=1,O=0;I>=P;O++)S[O]=I/P|0,P*=4294967296;return new a(S,0)}function c(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return v(c(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=l(Math.pow(S,8)),O=h,R=0;R<I.length;R+=8){var N=Math.min(8,I.length-R),C=parseInt(I.substring(R,R+N),S);8>N?(N=l(Math.pow(S,N)),O=O.j(N).add(l(C))):(O=O.j(P),O=O.add(l(C)))}return O}var h=u(0),d=u(1),p=u(16777216);t=a.prototype,t.m=function(){if(g(this))return-v(this).m();for(var I=0,S=1,P=0;P<this.g.length;P++){var O=this.i(P);I+=(0<=O?O:4294967296+O)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(_(this))return"0";if(g(this))return"-"+v(this).toString(I);for(var S=l(Math.pow(I,6)),P=this,O="";;){var R=x(P,S).g;P=b(P,R.j(S));var N=((0<P.g.length?P.g[0]:P.h)>>>0).toString(I);if(P=R,_(P))return N+O;for(;6>N.length;)N="0"+N;O=N+O}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function _(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function g(I){return I.h==-1}t.l=function(I){return I=b(this,I),g(I)?-1:_(I)?0:1};function v(I){for(var S=I.g.length,P=[],O=0;O<S;O++)P[O]=~I.g[O];return new a(P,~I.h).add(d)}t.abs=function(){return g(this)?v(this):this},t.add=function(I){for(var S=Math.max(this.g.length,I.g.length),P=[],O=0,R=0;R<=S;R++){var N=O+(this.i(R)&65535)+(I.i(R)&65535),C=(N>>>16)+(this.i(R)>>>16)+(I.i(R)>>>16);O=C>>>16,N&=65535,C&=65535,P[R]=C<<16|N}return new a(P,P[P.length-1]&-2147483648?-1:0)};function b(I,S){return I.add(v(S))}t.j=function(I){if(_(this)||_(I))return h;if(g(this))return g(I)?v(this).j(v(I)):v(v(this).j(I));if(g(I))return v(this.j(v(I)));if(0>this.l(p)&&0>I.l(p))return l(this.m()*I.m());for(var S=this.g.length+I.g.length,P=[],O=0;O<2*S;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(var R=0;R<I.g.length;R++){var N=this.i(O)>>>16,C=this.i(O)&65535,F=I.i(R)>>>16,K=I.i(R)&65535;P[2*O+2*R]+=C*K,y(P,2*O+2*R),P[2*O+2*R+1]+=N*K,y(P,2*O+2*R+1),P[2*O+2*R+1]+=C*F,y(P,2*O+2*R+1),P[2*O+2*R+2]+=N*F,y(P,2*O+2*R+2)}for(O=0;O<S;O++)P[O]=P[2*O+1]<<16|P[2*O];for(O=S;O<2*S;O++)P[O]=0;return new a(P,0)};function y(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function w(I,S){this.g=I,this.h=S}function x(I,S){if(_(S))throw Error("division by zero");if(_(I))return new w(h,h);if(g(I))return S=x(v(I),S),new w(v(S.g),v(S.h));if(g(S))return S=x(I,v(S)),new w(v(S.g),S.h);if(30<I.g.length){if(g(I)||g(S))throw Error("slowDivide_ only works with positive integers.");for(var P=d,O=S;0>=O.l(I);)P=T(P),O=T(O);var R=A(P,1),N=A(O,1);for(O=A(O,2),P=A(P,2);!_(O);){var C=N.add(O);0>=C.l(I)&&(R=R.add(P),N=C),O=A(O,1),P=A(P,1)}return S=b(I,R.j(S)),new w(R,S)}for(R=h;0<=I.l(S);){for(P=Math.max(1,Math.floor(I.m()/S.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),N=l(P),C=N.j(S);g(C)||0<C.l(I);)P-=O,N=l(P),C=N.j(S);_(N)&&(N=d),R=R.add(N),I=b(I,C)}return new w(R,I)}t.A=function(I){return x(this,I).h},t.and=function(I){for(var S=Math.max(this.g.length,I.g.length),P=[],O=0;O<S;O++)P[O]=this.i(O)&I.i(O);return new a(P,this.h&I.h)},t.or=function(I){for(var S=Math.max(this.g.length,I.g.length),P=[],O=0;O<S;O++)P[O]=this.i(O)|I.i(O);return new a(P,this.h|I.h)},t.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),P=[],O=0;O<S;O++)P[O]=this.i(O)^I.i(O);return new a(P,this.h^I.h)};function T(I){for(var S=I.g.length+1,P=[],O=0;O<S;O++)P[O]=I.i(O)<<1|I.i(O-1)>>>31;return new a(P,I.h)}function A(I,S){var P=S>>5;S%=32;for(var O=I.g.length-P,R=[],N=0;N<O;N++)R[N]=0<S?I.i(N+P)>>>S|I.i(N+P+1)<<32-S:I.i(N+P);return new a(R,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,AR=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=l,a.fromString=c,ca=a}).apply(typeof IS<"u"?IS:typeof self<"u"?self:typeof window<"u"?window:{});var Pf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PR,OR,Cl,CR,ud,p0,kR,RR,NR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,m,E){return f==Array.prototype||f==Object.prototype||(f[m]=E.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pf=="object"&&Pf];for(var m=0;m<f.length;++m){var E=f[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(f,m){if(m)e:{var E=r;f=f.split(".");for(var k=0;k<f.length-1;k++){var $=f[k];if(!($ in E))break e;E=E[$]}f=f[f.length-1],k=E[f],m=m(k),m!=k&&m!=null&&e(E,f,{configurable:!0,writable:!0,value:m})}}function o(f,m){f instanceof String&&(f+="");var E=0,k=!1,$={next:function(){if(!k&&E<f.length){var j=E++;return{value:m(j,f[j]),done:!1}}return k=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(f){return f||function(){return o(this,function(m,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function u(f){var m=typeof f;return m=m!="object"?m:f?Array.isArray(f)?"array":m:"null",m=="array"||m=="object"&&typeof f.length=="number"}function l(f){var m=typeof f;return m=="object"&&f!=null||m=="function"}function c(f,m,E){return f.call.apply(f.bind,arguments)}function h(f,m,E){if(!f)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,k),f.apply(m,$)}}return function(){return f.apply(m,arguments)}}function d(f,m,E){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,d.apply(null,arguments)}function p(f,m){var E=Array.prototype.slice.call(arguments,1);return function(){var k=E.slice();return k.push.apply(k,arguments),f.apply(this,k)}}function _(f,m){function E(){}E.prototype=m.prototype,f.aa=m.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(k,$,j){for(var Z=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)Z[Fe-2]=arguments[Fe];return m.prototype[$].apply(k,Z)}}function g(f){const m=f.length;if(0<m){const E=Array(m);for(let k=0;k<m;k++)E[k]=f[k];return E}return[]}function v(f,m){for(let E=1;E<arguments.length;E++){const k=arguments[E];if(u(k)){const $=f.length||0,j=k.length||0;f.length=$+j;for(let Z=0;Z<j;Z++)f[$+Z]=k[Z]}else f.push(k)}}class b{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function y(f){return/^[\s\xa0]*$/.test(f)}function w(){var f=s.navigator;return f&&(f=f.userAgent)?f:""}function x(f){return x[" "](f),f}x[" "]=function(){};var T=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function A(f,m,E){for(const k in f)m.call(E,f[k],k,f)}function I(f,m){for(const E in f)m.call(void 0,f[E],E,f)}function S(f){const m={};for(const E in f)m[E]=f[E];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(f,m){let E,k;for(let $=1;$<arguments.length;$++){k=arguments[$];for(E in k)f[E]=k[E];for(let j=0;j<P.length;j++)E=P[j],Object.prototype.hasOwnProperty.call(k,E)&&(f[E]=k[E])}}function R(f){var m=1;f=f.split(":");const E=[];for(;0<m&&f.length;)E.push(f.shift()),m--;return f.length&&E.push(f.join(":")),E}function N(f){s.setTimeout(()=>{throw f},0)}function C(){var f=G;let m=null;return f.g&&(m=f.g,f.g=f.g.next,f.g||(f.h=null),m.next=null),m}class F{constructor(){this.h=this.g=null}add(m,E){const k=K.get();k.set(m,E),this.h?this.h.next=k:this.g=k,this.h=k}}var K=new b(()=>new z,f=>f.reset());class z{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,V=!1,G=new F,X=()=>{const f=s.Promise.resolve(void 0);Q=()=>{f.then(ae)}};var ae=()=>{for(var f;f=C();){try{f.h.call(f.g)}catch(E){N(E)}var m=K;m.j(f),100>m.h&&(m.h++,f.next=m.g,m.g=f)}V=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(f,m){this.type=f,this.g=this.target=m,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var je=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var f=!1,m=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};s.addEventListener("test",E,m),s.removeEventListener("test",E,m)}catch{}return f}();function Je(f,m){if(le.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,k=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=m,m=f.relatedTarget){if(T){e:{try{x(m.nodeName);var $=!0;break e}catch{}$=!1}$||(m=null)}}else E=="mouseover"?m=f.fromElement:E=="mouseout"&&(m=f.toElement);this.relatedTarget=m,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Mt[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Je.aa.h.call(this)}}_(Je,le);var Mt={2:"touch",3:"pen",4:"mouse"};Je.prototype.h=function(){Je.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var We="closure_listenable_"+(1e6*Math.random()|0),nr=0;function re(f,m,E,k,$){this.listener=f,this.proxy=null,this.src=m,this.type=E,this.capture=!!k,this.ha=$,this.key=++nr,this.da=this.fa=!1}function fe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function me(f){this.src=f,this.g={},this.h=0}me.prototype.add=function(f,m,E,k,$){var j=f.toString();f=this.g[j],f||(f=this.g[j]=[],this.h++);var Z=Ge(f,m,k,$);return-1<Z?(m=f[Z],E||(m.fa=!1)):(m=new re(m,this.src,j,!!k,$),m.fa=E,f.push(m)),m};function q(f,m){var E=m.type;if(E in f.g){var k=f.g[E],$=Array.prototype.indexOf.call(k,m,void 0),j;(j=0<=$)&&Array.prototype.splice.call(k,$,1),j&&(fe(m),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Ge(f,m,E,k){for(var $=0;$<f.length;++$){var j=f[$];if(!j.da&&j.listener==m&&j.capture==!!E&&j.ha==k)return $}return-1}var we="closure_lm_"+(1e6*Math.random()|0),tt={};function nt(f,m,E,k,$){if(k&&k.once)return Mo(f,m,E,k,$);if(Array.isArray(m)){for(var j=0;j<m.length;j++)nt(f,m[j],E,k,$);return null}return E=Mg(E),f&&f[We]?f.K(m,E,l(k)?!!k.capture:!!k,$):zt(f,m,E,!1,k,$)}function zt(f,m,E,k,$,j){if(!m)throw Error("Invalid event type");var Z=l($)?!!$.capture:!!$,Fe=Ka(f);if(Fe||(f[we]=Fe=new me(f)),E=Fe.add(m,E,k,Z,j),E.proxy)return E;if(k=rr(),E.proxy=k,k.src=f,k.listener=E,f.addEventListener)je||($=Z),$===void 0&&($=!1),f.addEventListener(m.toString(),k,$);else if(f.attachEvent)f.attachEvent(Ga(m.toString()),k);else if(f.addListener&&f.removeListener)f.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return E}function rr(){function f(E){return m.call(f.src,f.listener,E)}const m=Kh;return f}function Mo(f,m,E,k,$){if(Array.isArray(m)){for(var j=0;j<m.length;j++)Mo(f,m[j],E,k,$);return null}return E=Mg(E),f&&f[We]?f.L(m,E,l(k)?!!k.capture:!!k,$):zt(f,m,E,!0,k,$)}function Tr(f,m,E,k,$){if(Array.isArray(m))for(var j=0;j<m.length;j++)Tr(f,m[j],E,k,$);else k=l(k)?!!k.capture:!!k,E=Mg(E),f&&f[We]?(f=f.i,m=String(m).toString(),m in f.g&&(j=f.g[m],E=Ge(j,E,k,$),-1<E&&(fe(j[E]),Array.prototype.splice.call(j,E,1),j.length==0&&(delete f.g[m],f.h--)))):f&&(f=Ka(f))&&(m=f.g[m.toString()],f=-1,m&&(f=Ge(m,E,k,$)),(E=-1<f?m[f]:null)&&ir(E))}function ir(f){if(typeof f!="number"&&f&&!f.da){var m=f.src;if(m&&m[We])q(m.i,f);else{var E=f.type,k=f.proxy;m.removeEventListener?m.removeEventListener(E,k,f.capture):m.detachEvent?m.detachEvent(Ga(E),k):m.addListener&&m.removeListener&&m.removeListener(k),(E=Ka(m))?(q(E,f),E.h==0&&(E.src=null,m[we]=null)):fe(f)}}}function Ga(f){return f in tt?tt[f]:tt[f]="on"+f}function Kh(f,m){if(f.da)f=!0;else{m=new Je(m,this);var E=f.listener,k=f.ha||f.src;f.fa&&ir(f),f=E.call(k,m)}return f}function Ka(f){return f=f[we],f instanceof me?f:null}var Dg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mg(f){return typeof f=="function"?f:(f[Dg]||(f[Dg]=function(m){return f.handleEvent(m)}),f[Dg])}function qt(){te.call(this),this.i=new me(this),this.M=this,this.F=null}_(qt,te),qt.prototype[We]=!0,qt.prototype.removeEventListener=function(f,m,E,k){Tr(this,f,m,E,k)};function rn(f,m){var E,k=f.F;if(k)for(E=[];k;k=k.F)E.push(k);if(f=f.M,k=m.type||m,typeof m=="string")m=new le(m,f);else if(m instanceof le)m.target=m.target||f;else{var $=m;m=new le(k,f),O(m,$)}if($=!0,E)for(var j=E.length-1;0<=j;j--){var Z=m.g=E[j];$=Hh(Z,k,!0,m)&&$}if(Z=m.g=f,$=Hh(Z,k,!0,m)&&$,$=Hh(Z,k,!1,m)&&$,E)for(j=0;j<E.length;j++)Z=m.g=E[j],$=Hh(Z,k,!1,m)&&$}qt.prototype.N=function(){if(qt.aa.N.call(this),this.i){var f=this.i,m;for(m in f.g){for(var E=f.g[m],k=0;k<E.length;k++)fe(E[k]);delete f.g[m],f.h--}}this.F=null},qt.prototype.K=function(f,m,E,k){return this.i.add(String(f),m,!1,E,k)},qt.prototype.L=function(f,m,E,k){return this.i.add(String(f),m,!0,E,k)};function Hh(f,m,E,k){if(m=f.i.g[String(m)],!m)return!0;m=m.concat();for(var $=!0,j=0;j<m.length;++j){var Z=m[j];if(Z&&!Z.da&&Z.capture==E){var Fe=Z.listener,$t=Z.ha||Z.src;Z.fa&&q(f.i,Z),$=Fe.call($t,k)!==!1&&$}}return $&&!k.defaultPrevented}function ix(f,m,E){if(typeof f=="function")E&&(f=d(f,E));else if(f&&typeof f.handleEvent=="function")f=d(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:s.setTimeout(f,m||0)}function ox(f){f.g=ix(()=>{f.g=null,f.i&&(f.i=!1,ox(f))},f.l);const m=f.h;f.h=null,f.m.apply(null,m)}class PL extends te{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ox(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zu(f){te.call(this),this.h=f,this.g={}}_(zu,te);var ax=[];function sx(f){A(f.g,function(m,E){this.g.hasOwnProperty(E)&&ir(m)},f),f.g={}}zu.prototype.N=function(){zu.aa.N.call(this),sx(this)},zu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $g=s.JSON.stringify,OL=s.JSON.parse,CL=class{stringify(f){return s.JSON.stringify(f,void 0)}parse(f){return s.JSON.parse(f,void 0)}};function Lg(){}Lg.prototype.h=null;function ux(f){return f.h||(f.h=f.i())}function lx(){}var qu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vg(){le.call(this,"d")}_(Vg,le);function jg(){le.call(this,"c")}_(jg,le);var $o={},cx=null;function Qh(){return cx=cx||new qt}$o.La="serverreachability";function hx(f){le.call(this,$o.La,f)}_(hx,le);function Wu(f){const m=Qh();rn(m,new hx(m))}$o.STAT_EVENT="statevent";function fx(f,m){le.call(this,$o.STAT_EVENT,f),this.stat=m}_(fx,le);function on(f){const m=Qh();rn(m,new fx(m,f))}$o.Ma="timingevent";function dx(f,m){le.call(this,$o.Ma,f),this.size=m}_(dx,le);function Gu(f,m){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){f()},m)}function Ku(){this.g=!0}Ku.prototype.xa=function(){this.g=!1};function kL(f,m,E,k,$,j){f.info(function(){if(f.g)if(j)for(var Z="",Fe=j.split("&"),$t=0;$t<Fe.length;$t++){var Ae=Fe[$t].split("=");if(1<Ae.length){var Wt=Ae[0];Ae=Ae[1];var Gt=Wt.split("_");Z=2<=Gt.length&&Gt[1]=="type"?Z+(Wt+"="+Ae+"&"):Z+(Wt+"=redacted&")}}else Z=null;else Z=j;return"XMLHTTP REQ ("+k+") [attempt "+$+"]: "+m+`
`+E+`
`+Z})}function RL(f,m,E,k,$,j,Z){f.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+$+"]: "+m+`
`+E+`
`+j+" "+Z})}function Ha(f,m,E,k){f.info(function(){return"XMLHTTP TEXT ("+m+"): "+DL(f,E)+(k?" "+k:"")})}function NL(f,m){f.info(function(){return"TIMEOUT: "+m})}Ku.prototype.info=function(){};function DL(f,m){if(!f.g)return m;if(!m)return null;try{var E=JSON.parse(m);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var k=E[f];if(!(2>k.length)){var $=k[1];if(Array.isArray($)&&!(1>$.length)){var j=$[0];if(j!="noop"&&j!="stop"&&j!="close")for(var Z=1;Z<$.length;Z++)$[Z]=""}}}}return $g(E)}catch{return m}}var Xh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},px={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fg;function Yh(){}_(Yh,Lg),Yh.prototype.g=function(){return new XMLHttpRequest},Yh.prototype.i=function(){return{}},Fg=new Yh;function Ci(f,m,E,k){this.j=f,this.i=m,this.l=E,this.R=k||1,this.U=new zu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mx}function mx(){this.i=null,this.g="",this.h=!1}var gx={},Bg={};function Ug(f,m,E){f.L=1,f.v=tf(Gr(m)),f.m=E,f.P=!0,yx(f,null)}function yx(f,m){f.F=Date.now(),Jh(f),f.A=Gr(f.v);var E=f.A,k=f.R;Array.isArray(k)||(k=[String(k)]),kx(E.i,"t",k),f.C=0,E=f.j.J,f.h=new mx,f.g=Qx(f.j,E?m:null,!f.m),0<f.O&&(f.M=new PL(d(f.Y,f,f.g),f.O)),m=f.U,E=f.g,k=f.ca;var $="readystatechange";Array.isArray($)||($&&(ax[0]=$.toString()),$=ax);for(var j=0;j<$.length;j++){var Z=nt(E,$[j],k||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=f.H?S(f.H):{},f.m?(f.u||(f.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,m)):(f.u="GET",f.g.ea(f.A,f.u,null,m)),Wu(),kL(f.i,f.u,f.A,f.l,f.R,f.m)}Ci.prototype.ca=function(f){f=f.target;const m=this.M;m&&Kr(f)==3?m.j():this.Y(f)},Ci.prototype.Y=function(f){try{if(f==this.g)e:{const Gt=Kr(this.g);var m=this.g.Ba();const Ya=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||Vx(this.g)))){this.J||Gt!=4||m==7||(m==8||0>=Ya?Wu(3):Wu(2)),zg(this);var E=this.g.Z();this.X=E;t:if(vx(this)){var k=Vx(this.g);f="";var $=k.length,j=Kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lo(this),Hu(this);var Z="";break t}this.h.i=new s.TextDecoder}for(m=0;m<$;m++)this.h.h=!0,f+=this.h.i.decode(k[m],{stream:!(j&&m==$-1)});k.length=0,this.h.g+=f,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=E==200,RL(this.i,this.u,this.A,this.l,this.R,Gt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,$t=this.g;if((Fe=$t.g?$t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Fe)){var Ae=Fe;break t}}Ae=null}if(E=Ae)Ha(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qg(this,E);else{this.o=!1,this.s=3,on(12),Lo(this),Hu(this);break e}}if(this.P){E=!0;let or;for(;!this.J&&this.C<Z.length;)if(or=ML(this,Z),or==Bg){Gt==4&&(this.s=4,on(14),E=!1),Ha(this.i,this.l,null,"[Incomplete Response]");break}else if(or==gx){this.s=4,on(15),Ha(this.i,this.l,Z,"[Invalid Chunk]"),E=!1;break}else Ha(this.i,this.l,or,null),qg(this,or);if(vx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||Z.length!=0||this.h.h||(this.s=1,on(16),E=!1),this.o=this.o&&E,!E)Ha(this.i,this.l,Z,"[Invalid Chunked Response]"),Lo(this),Hu(this);else if(0<Z.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Xg(Wt),Wt.M=!0,on(11))}}else Ha(this.i,this.l,Z,null),qg(this,Z);Gt==4&&Lo(this),this.o&&!this.J&&(Gt==4?Wx(this.j,this):(this.o=!1,Jh(this)))}else JL(this.g),E==400&&0<Z.indexOf("Unknown SID")?(this.s=3,on(12)):(this.s=0,on(13)),Lo(this),Hu(this)}}}catch{}finally{}};function vx(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function ML(f,m){var E=f.C,k=m.indexOf(`
`,E);return k==-1?Bg:(E=Number(m.substring(E,k)),isNaN(E)?gx:(k+=1,k+E>m.length?Bg:(m=m.slice(k,k+E),f.C=k+E,m)))}Ci.prototype.cancel=function(){this.J=!0,Lo(this)};function Jh(f){f.S=Date.now()+f.I,_x(f,f.I)}function _x(f,m){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Gu(d(f.ba,f),m)}function zg(f){f.B&&(s.clearTimeout(f.B),f.B=null)}Ci.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(NL(this.i,this.A),this.L!=2&&(Wu(),on(17)),Lo(this),this.s=2,Hu(this)):_x(this,this.S-f)};function Hu(f){f.j.G==0||f.J||Wx(f.j,f)}function Lo(f){zg(f);var m=f.M;m&&typeof m.ma=="function"&&m.ma(),f.M=null,sx(f.U),f.g&&(m=f.g,f.g=null,m.abort(),m.ma())}function qg(f,m){try{var E=f.j;if(E.G!=0&&(E.g==f||Wg(E.h,f))){if(!f.K&&Wg(E.h,f)&&E.G==3){try{var k=E.Da.g.parse(m)}catch{k=null}if(Array.isArray(k)&&k.length==3){var $=k;if($[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)sf(E),of(E);else break e;Qg(E),on(18)}}else E.za=$[1],0<E.za-E.T&&37500>$[2]&&E.F&&E.v==0&&!E.C&&(E.C=Gu(d(E.Za,E),6e3));if(1>=xx(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else jo(E,11)}else if((f.K||E.g==f)&&sf(E),!y(m))for($=E.Da.g.parse(m),m=0;m<$.length;m++){let Ae=$[m];if(E.T=Ae[0],Ae=Ae[1],E.G==2)if(Ae[0]=="c"){E.K=Ae[1],E.ia=Ae[2];const Wt=Ae[3];Wt!=null&&(E.la=Wt,E.j.info("VER="+E.la));const Gt=Ae[4];Gt!=null&&(E.Aa=Gt,E.j.info("SVER="+E.Aa));const Ya=Ae[5];Ya!=null&&typeof Ya=="number"&&0<Ya&&(k=1.5*Ya,E.L=k,E.j.info("backChannelRequestTimeoutMs_="+k)),k=E;const or=f.g;if(or){const lf=or.g?or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lf){var j=k.h;j.g||lf.indexOf("spdy")==-1&&lf.indexOf("quic")==-1&&lf.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Gg(j,j.h),j.h=null))}if(k.D){const Yg=or.g?or.g.getResponseHeader("X-HTTP-Session-Id"):null;Yg&&(k.ya=Yg,Ke(k.I,k.D,Yg))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),k=E;var Z=f;if(k.qa=Hx(k,k.J?k.ia:null,k.W),Z.K){Tx(k.h,Z);var Fe=Z,$t=k.L;$t&&(Fe.I=$t),Fe.B&&(zg(Fe),Jh(Fe)),k.g=Z}else zx(k);0<E.i.length&&af(E)}else Ae[0]!="stop"&&Ae[0]!="close"||jo(E,7);else E.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?jo(E,7):Hg(E):Ae[0]!="noop"&&E.l&&E.l.ta(Ae),E.v=0)}}Wu(4)}catch{}}var $L=class{constructor(f,m){this.g=f,this.map=m}};function wx(f){this.l=f||10,s.PerformanceNavigationTiming?(f=s.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bx(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function xx(f){return f.h?1:f.g?f.g.size:0}function Wg(f,m){return f.h?f.h==m:f.g?f.g.has(m):!1}function Gg(f,m){f.g?f.g.add(m):f.h=m}function Tx(f,m){f.h&&f.h==m?f.h=null:f.g&&f.g.has(m)&&f.g.delete(m)}wx.prototype.cancel=function(){if(this.i=Sx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Sx(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let m=f.i;for(const E of f.g.values())m=m.concat(E.D);return m}return g(f.i)}function LL(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(u(f)){for(var m=[],E=f.length,k=0;k<E;k++)m.push(f[k]);return m}m=[],E=0;for(k in f)m[E++]=f[k];return m}function VL(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(u(f)||typeof f=="string"){var m=[];f=f.length;for(var E=0;E<f;E++)m.push(E);return m}m=[],E=0;for(const k in f)m[E++]=k;return m}}}function Ex(f,m){if(f.forEach&&typeof f.forEach=="function")f.forEach(m,void 0);else if(u(f)||typeof f=="string")Array.prototype.forEach.call(f,m,void 0);else for(var E=VL(f),k=LL(f),$=k.length,j=0;j<$;j++)m.call(void 0,k[j],E&&E[j],f)}var Ix=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jL(f,m){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var k=f[E].indexOf("="),$=null;if(0<=k){var j=f[E].substring(0,k);$=f[E].substring(k+1)}else j=f[E];m(j,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Vo(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Vo){this.h=f.h,Zh(this,f.j),this.o=f.o,this.g=f.g,ef(this,f.s),this.l=f.l;var m=f.i,E=new Yu;E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),Ax(this,E),this.m=f.m}else f&&(m=String(f).match(Ix))?(this.h=!1,Zh(this,m[1]||"",!0),this.o=Qu(m[2]||""),this.g=Qu(m[3]||"",!0),ef(this,m[4]),this.l=Qu(m[5]||"",!0),Ax(this,m[6]||"",!0),this.m=Qu(m[7]||"")):(this.h=!1,this.i=new Yu(null,this.h))}Vo.prototype.toString=function(){var f=[],m=this.j;m&&f.push(Xu(m,Px,!0),":");var E=this.g;return(E||m=="file")&&(f.push("//"),(m=this.o)&&f.push(Xu(m,Px,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Xu(E,E.charAt(0)=="/"?UL:BL,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Xu(E,qL)),f.join("")};function Gr(f){return new Vo(f)}function Zh(f,m,E){f.j=E?Qu(m,!0):m,f.j&&(f.j=f.j.replace(/:$/,""))}function ef(f,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);f.s=m}else f.s=null}function Ax(f,m,E){m instanceof Yu?(f.i=m,WL(f.i,f.h)):(E||(m=Xu(m,zL)),f.i=new Yu(m,f.h))}function Ke(f,m,E){f.i.set(m,E)}function tf(f){return Ke(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Qu(f,m){return f?m?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Xu(f,m,E){return typeof f=="string"?(f=encodeURI(f).replace(m,FL),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function FL(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Px=/[#\/\?@]/g,BL=/[#\?:]/g,UL=/[#\?]/g,zL=/[#\?@]/g,qL=/#/g;function Yu(f,m){this.h=this.g=null,this.i=f||null,this.j=!!m}function ki(f){f.g||(f.g=new Map,f.h=0,f.i&&jL(f.i,function(m,E){f.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}t=Yu.prototype,t.add=function(f,m){ki(this),this.i=null,f=Qa(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(m),this.h+=1,this};function Ox(f,m){ki(f),m=Qa(f,m),f.g.has(m)&&(f.i=null,f.h-=f.g.get(m).length,f.g.delete(m))}function Cx(f,m){return ki(f),m=Qa(f,m),f.g.has(m)}t.forEach=function(f,m){ki(this),this.g.forEach(function(E,k){E.forEach(function($){f.call(m,$,k,this)},this)},this)},t.na=function(){ki(this);const f=Array.from(this.g.values()),m=Array.from(this.g.keys()),E=[];for(let k=0;k<m.length;k++){const $=f[k];for(let j=0;j<$.length;j++)E.push(m[k])}return E},t.V=function(f){ki(this);let m=[];if(typeof f=="string")Cx(this,f)&&(m=m.concat(this.g.get(Qa(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)m=m.concat(f[E])}return m},t.set=function(f,m){return ki(this),this.i=null,f=Qa(this,f),Cx(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[m]),this.h+=1,this},t.get=function(f,m){return f?(f=this.V(f),0<f.length?String(f[0]):m):m};function kx(f,m,E){Ox(f,m),0<E.length&&(f.i=null,f.g.set(Qa(f,m),g(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],m=Array.from(this.g.keys());for(var E=0;E<m.length;E++){var k=m[E];const j=encodeURIComponent(String(k)),Z=this.V(k);for(k=0;k<Z.length;k++){var $=j;Z[k]!==""&&($+="="+encodeURIComponent(String(Z[k]))),f.push($)}}return this.i=f.join("&")};function Qa(f,m){return m=String(m),f.j&&(m=m.toLowerCase()),m}function WL(f,m){m&&!f.j&&(ki(f),f.i=null,f.g.forEach(function(E,k){var $=k.toLowerCase();k!=$&&(Ox(this,k),kx(this,$,E))},f)),f.j=m}function GL(f,m){const E=new Ku;if(s.Image){const k=new Image;k.onload=p(Ri,E,"TestLoadImage: loaded",!0,m,k),k.onerror=p(Ri,E,"TestLoadImage: error",!1,m,k),k.onabort=p(Ri,E,"TestLoadImage: abort",!1,m,k),k.ontimeout=p(Ri,E,"TestLoadImage: timeout",!1,m,k),s.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=f}else m(!1)}function KL(f,m){const E=new Ku,k=new AbortController,$=setTimeout(()=>{k.abort(),Ri(E,"TestPingServer: timeout",!1,m)},1e4);fetch(f,{signal:k.signal}).then(j=>{clearTimeout($),j.ok?Ri(E,"TestPingServer: ok",!0,m):Ri(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout($),Ri(E,"TestPingServer: error",!1,m)})}function Ri(f,m,E,k,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),k(E)}catch{}}function HL(){this.g=new CL}function QL(f,m,E){const k=E||"";try{Ex(f,function($,j){let Z=$;l($)&&(Z=$g($)),m.push(k+j+"="+encodeURIComponent(Z))})}catch($){throw m.push(k+"type="+encodeURIComponent("_badmap")),$}}function Ju(f){this.l=f.Ub||null,this.j=f.eb||!1}_(Ju,Lg),Ju.prototype.g=function(){return new nf(this.l,this.j)},Ju.prototype.i=function(f){return function(){return f}}({});function nf(f,m){qt.call(this),this.D=f,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(nf,qt),t=nf.prototype,t.open=function(f,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=m,this.readyState=1,el(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(m.body=f),(this.D||s).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zu(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,el(this)),this.g&&(this.readyState=3,el(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rx(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rx(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var m=f.value?f.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!f.done}))&&(this.response=this.responseText+=m)}f.done?Zu(this):el(this),this.readyState==3&&Rx(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Zu(this))},t.Qa=function(f){this.g&&(this.response=f,Zu(this))},t.ga=function(){this.g&&Zu(this)};function Zu(f){f.readyState=4,f.l=null,f.j=null,f.v=null,el(f)}t.setRequestHeader=function(f,m){this.u.append(f,m)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=m.next();return f.join(`\r
`)};function el(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(nf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Nx(f){let m="";return A(f,function(E,k){m+=k,m+=":",m+=E,m+=`\r
`}),m}function Kg(f,m,E){e:{for(k in E){var k=!1;break e}k=!0}k||(E=Nx(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):Ke(f,m,E))}function ut(f){qt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(ut,qt);var XL=/^https?$/i,YL=["POST","PUT"];t=ut.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,m,E,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);m=m?m.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fg.g(),this.v=this.o?ux(this.o):ux(Fg),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(m,String(f),!0),this.B=!1}catch(j){Dx(this,j);return}if(f=E||"",E=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var $ in k)E.set($,k[$]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const j of k.keys())E.set(j,k.get(j));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(E.keys()).find(j=>j.toLowerCase()=="content-type"),$=s.FormData&&f instanceof s.FormData,!(0<=Array.prototype.indexOf.call(YL,m,void 0))||k||$||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Z]of E)this.g.setRequestHeader(j,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lx(this),this.u=!0,this.g.send(f),this.u=!1}catch(j){Dx(this,j)}};function Dx(f,m){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=m,f.m=5,Mx(f),rf(f)}function Mx(f){f.A||(f.A=!0,rn(f,"complete"),rn(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,rn(this,"complete"),rn(this,"abort"),rf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rf(this,!0)),ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$x(this):this.bb())},t.bb=function(){$x(this)};function $x(f){if(f.h&&typeof a<"u"&&(!f.v[1]||Kr(f)!=4||f.Z()!=2)){if(f.u&&Kr(f)==4)ix(f.Ea,0,f);else if(rn(f,"readystatechange"),Kr(f)==4){f.h=!1;try{const Z=f.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var k;if(k=Z===0){var $=String(f.D).match(Ix)[1]||null;!$&&s.self&&s.self.location&&($=s.self.location.protocol.slice(0,-1)),k=!XL.test($?$.toLowerCase():"")}E=k}if(E)rn(f,"complete"),rn(f,"success");else{f.m=6;try{var j=2<Kr(f)?f.g.statusText:""}catch{j=""}f.l=j+" ["+f.Z()+"]",Mx(f)}}finally{rf(f)}}}}function rf(f,m){if(f.g){Lx(f);const E=f.g,k=f.v[0]?()=>{}:null;f.g=null,f.v=null,m||rn(f,"ready");try{E.onreadystatechange=k}catch{}}}function Lx(f){f.I&&(s.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Kr(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Kr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var m=this.g.responseText;return f&&m.indexOf(f)==0&&(m=m.substring(f.length)),OL(m)}};function Vx(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function JL(f){const m={};f=(f.g&&2<=Kr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<f.length;k++){if(y(f[k]))continue;var E=R(f[k]);const $=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const j=m[$]||[];m[$]=j,j.push(E)}I(m,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function tl(f,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||m}function jx(f){this.Aa=0,this.i=[],this.j=new Ku,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tl("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tl("baseRetryDelayMs",5e3,f),this.cb=tl("retryDelaySeedMs",1e4,f),this.Wa=tl("forwardChannelMaxRetries",2,f),this.wa=tl("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new wx(f&&f.concurrentRequestLimit),this.Da=new HL,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=jx.prototype,t.la=8,t.G=1,t.connect=function(f,m,E,k){on(0),this.W=f,this.H=m||{},E&&k!==void 0&&(this.H.OSID=E,this.H.OAID=k),this.F=this.X,this.I=Hx(this,null,this.W),af(this)};function Hg(f){if(Fx(f),f.G==3){var m=f.U++,E=Gr(f.I);if(Ke(E,"SID",f.K),Ke(E,"RID",m),Ke(E,"TYPE","terminate"),nl(f,E),m=new Ci(f,f.j,m),m.L=2,m.v=tf(Gr(E)),E=!1,s.navigator&&s.navigator.sendBeacon)try{E=s.navigator.sendBeacon(m.v.toString(),"")}catch{}!E&&s.Image&&(new Image().src=m.v,E=!0),E||(m.g=Qx(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Jh(m)}Kx(f)}function of(f){f.g&&(Xg(f),f.g.cancel(),f.g=null)}function Fx(f){of(f),f.u&&(s.clearTimeout(f.u),f.u=null),sf(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&s.clearTimeout(f.s),f.s=null)}function af(f){if(!bx(f.h)&&!f.s){f.s=!0;var m=f.Ga;Q||X(),V||(Q(),V=!0),G.add(m,f),f.B=0}}function ZL(f,m){return xx(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=m.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Gu(d(f.Ga,f,m),Gx(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const $=new Ci(this,this.j,f);let j=this.o;if(this.S&&(j?(j=S(j),O(j,this.S)):j=this.S),this.m!==null||this.O||($.H=j,j=null),this.P)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var k=this.i[E];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(m+=k,4096<m){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=Ux(this,$,m),E=Gr(this.I),Ke(E,"RID",f),Ke(E,"CVER",22),this.D&&Ke(E,"X-HTTP-Session-Id",this.D),nl(this,E),j&&(this.O?m="headers="+encodeURIComponent(String(Nx(j)))+"&"+m:this.m&&Kg(E,this.m,j)),Gg(this.h,$),this.Ua&&Ke(E,"TYPE","init"),this.P?(Ke(E,"$req",m),Ke(E,"SID","null"),$.T=!0,Ug($,E,null)):Ug($,E,m),this.G=2}}else this.G==3&&(f?Bx(this,f):this.i.length==0||bx(this.h)||Bx(this))};function Bx(f,m){var E;m?E=m.l:E=f.U++;const k=Gr(f.I);Ke(k,"SID",f.K),Ke(k,"RID",E),Ke(k,"AID",f.T),nl(f,k),f.m&&f.o&&Kg(k,f.m,f.o),E=new Ci(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),m&&(f.i=m.D.concat(f.i)),m=Ux(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Gg(f.h,E),Ug(E,k,m)}function nl(f,m){f.H&&A(f.H,function(E,k){Ke(m,k,E)}),f.l&&Ex({},function(E,k){Ke(m,k,E)})}function Ux(f,m,E){E=Math.min(f.i.length,E);var k=f.l?d(f.l.Na,f.l,f):null;e:{var $=f.i;let j=-1;for(;;){const Z=["count="+E];j==-1?0<E?(j=$[0].g,Z.push("ofs="+j)):j=0:Z.push("ofs="+j);let Fe=!0;for(let $t=0;$t<E;$t++){let Ae=$[$t].g;const Wt=$[$t].map;if(Ae-=j,0>Ae)j=Math.max(0,$[$t].g-100),Fe=!1;else try{QL(Wt,Z,"req"+Ae+"_")}catch{k&&k(Wt)}}if(Fe){k=Z.join("&");break e}}}return f=f.i.splice(0,E),m.D=f,k}function zx(f){if(!f.g&&!f.u){f.Y=1;var m=f.Fa;Q||X(),V||(Q(),V=!0),G.add(m,f),f.v=0}}function Qg(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Gu(d(f.Fa,f),Gx(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,qx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Gu(d(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,on(10),of(this),qx(this))};function Xg(f){f.A!=null&&(s.clearTimeout(f.A),f.A=null)}function qx(f){f.g=new Ci(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var m=Gr(f.qa);Ke(m,"RID","rpc"),Ke(m,"SID",f.K),Ke(m,"AID",f.T),Ke(m,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ke(m,"TO",f.ja),Ke(m,"TYPE","xmlhttp"),nl(f,m),f.m&&f.o&&Kg(m,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=tf(Gr(m)),E.m=null,E.P=!0,yx(E,f)}t.Za=function(){this.C!=null&&(this.C=null,of(this),Qg(this),on(19))};function sf(f){f.C!=null&&(s.clearTimeout(f.C),f.C=null)}function Wx(f,m){var E=null;if(f.g==m){sf(f),Xg(f),f.g=null;var k=2}else if(Wg(f.h,m))E=m.D,Tx(f.h,m),k=1;else return;if(f.G!=0){if(m.o)if(k==1){E=m.m?m.m.length:0,m=Date.now()-m.F;var $=f.B;k=Qh(),rn(k,new dx(k,E)),af(f)}else zx(f);else if($=m.s,$==3||$==0&&0<m.X||!(k==1&&ZL(f,m)||k==2&&Qg(f)))switch(E&&0<E.length&&(m=f.h,m.i=m.i.concat(E)),$){case 1:jo(f,5);break;case 4:jo(f,10);break;case 3:jo(f,6);break;default:jo(f,2)}}}function Gx(f,m){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*m}function jo(f,m){if(f.j.info("Error code "+m),m==2){var E=d(f.fb,f),k=f.Xa;const $=!k;k=new Vo(k||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Zh(k,"https"),tf(k),$?GL(k.toString(),E):KL(k.toString(),E)}else on(2);f.G=0,f.l&&f.l.sa(m),Kx(f),Fx(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),on(2)):(this.j.info("Failed to ping google.com"),on(1))};function Kx(f){if(f.G=0,f.ka=[],f.l){const m=Sx(f.h);(m.length!=0||f.i.length!=0)&&(v(f.ka,m),v(f.ka,f.i),f.h.i.length=0,g(f.i),f.i.length=0),f.l.ra()}}function Hx(f,m,E){var k=E instanceof Vo?Gr(E):new Vo(E);if(k.g!="")m&&(k.g=m+"."+k.g),ef(k,k.s);else{var $=s.location;k=$.protocol,m=m?m+"."+$.hostname:$.hostname,$=+$.port;var j=new Vo(null);k&&Zh(j,k),m&&(j.g=m),$&&ef(j,$),E&&(j.l=E),k=j}return E=f.D,m=f.ya,E&&m&&Ke(k,E,m),Ke(k,"VER",f.la),nl(f,k),k}function Qx(f,m,E){if(m&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=f.Ca&&!f.pa?new ut(new Ju({eb:E})):new ut(f.pa),m.Ha(f.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xx(){}t=Xx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function uf(){}uf.prototype.g=function(f,m){return new In(f,m)};function In(f,m){qt.call(this),this.g=new jx(m),this.l=f,this.h=m&&m.messageUrlParams||null,f=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(f?f["X-WebChannel-Content-Type"]=m.messageContentType:f={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(f?f["X-WebChannel-Client-Profile"]=m.va:f={"X-WebChannel-Client-Profile":m.va}),this.g.S=f,(f=m&&m.Sb)&&!y(f)&&(this.g.m=f),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!y(m)&&(this.g.D=m,f=this.h,f!==null&&m in f&&(f=this.h,m in f&&delete f[m])),this.j=new Xa(this)}_(In,qt),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){Hg(this.g)},In.prototype.o=function(f){var m=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=$g(f),f=E);m.i.push(new $L(m.Ya++,f)),m.G==3&&af(m)},In.prototype.N=function(){this.g.l=null,delete this.j,Hg(this.g),delete this.g,In.aa.N.call(this)};function Yx(f){Vg.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var m=f.__sm__;if(m){e:{for(const E in m){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,m=m!==null&&f in m?m[f]:void 0),this.data=m}else this.data=f}_(Yx,Vg);function Jx(){jg.call(this),this.status=1}_(Jx,jg);function Xa(f){this.g=f}_(Xa,Xx),Xa.prototype.ua=function(){rn(this.g,"a")},Xa.prototype.ta=function(f){rn(this.g,new Yx(f))},Xa.prototype.sa=function(f){rn(this.g,new Jx)},Xa.prototype.ra=function(){rn(this.g,"b")},uf.prototype.createWebChannel=uf.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,NR=function(){return new uf},RR=function(){return Qh()},kR=$o,p0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xh.NO_ERROR=0,Xh.TIMEOUT=8,Xh.HTTP_ERROR=6,ud=Xh,px.COMPLETE="complete",CR=px,lx.EventType=qu,qu.OPEN="a",qu.CLOSE="b",qu.ERROR="c",qu.MESSAGE="d",qt.prototype.listen=qt.prototype.K,Cl=lx,OR=Ju,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,PR=ut}).apply(typeof Pf<"u"?Pf:typeof self<"u"?self:typeof window<"u"?window:{});const AS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eu="10.12.5";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new qw("@firebase/firestore");function ss(){return Ta.logLevel}function W(t,...e){if(Ta.logLevel<=be.DEBUG){const n=e.map(Gw);Ta.debug(`Firestore (${Eu}): ${t}`,...n)}}function dt(t,...e){if(Ta.logLevel<=be.ERROR){const n=e.map(Gw);Ta.error(`Firestore (${Eu}): ${t}`,...n)}}function Sa(t,...e){if(Ta.logLevel<=be.WARN){const n=e.map(Gw);Ta.warn(`Firestore (${Eu}): ${t}`,...n)}}function Gw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${Eu}) INTERNAL ASSERTION FAILED: `+t;throw dt(e),new Error(e)}function ce(t,e){t||se()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends zr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class s4{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new yr,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},s=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>s(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?s(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new yr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ce(typeof r.accessToken=="string"),new o4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ce(e===null||typeof e=="string"),new Yt(e)}}class u4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class l4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new u4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class c4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class h4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,W("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ce(typeof n.token=="string"),this.R=n.token,new c4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=f4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function Ws(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function MR(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new at(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new at(0,0))}static max(){return new he(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Sc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ce extends Sc{construct(e,n,r){return new Ce(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ce(n)}static emptyPath(){return new Ce([])}}const d4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class it extends Sc{construct(e,n,r){return new it(e,n,r)}static isValidIdentifier(e){return d4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),it.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new it(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new J(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new J(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new J(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new J(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new it(n)}static emptyPath(){return new it([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Ce.fromString(e))}static fromName(e){return new ne(Ce.fromString(e).popFirst(5))}static empty(){return new ne(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Ce(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function m0(t){return t.fields.find(e=>e.kind===2)}function Go(t){return t.fields.filter(e=>e.kind!==2)}Xd.UNKNOWN_ID=-1;class ld{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ec{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ec(0,Ln.min())}}function $R(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new Ln(i,ne.empty(),e)}function LR(t){return new Ln(t.readTime,t.key,-1)}class Ln{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ln(he.min(),ne.empty(),-1)}static max(){return new Ln(he.max(),ne.empty(),-1)}}function Kw(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==VR)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},u=>r(u))}),a=!0,o===i&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(i=>i?L.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new L((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let u=0;u<o;u++){const l=u;n(e[l]).next(c=>{a[l]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(e,n){return new L((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new yr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Gl(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Hw(r.target.error);this.V.reject(new Gl(e,i))}}static open(e,n,r,i){try{return new Em(n,e.transaction(i,r))}catch(o){throw new Gl(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(W("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new m4(n)}}class co{constructor(e,n,r){this.name=e,this.version=n,this.p=r,co.S(_t())===12.2&&dt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return W("SimpleDb","Removing database:",e),Xo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!wR())return!1;if(co.C())return!0;const e=_t(),n=co.S(e),r=0<n&&n<10,i=FR(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(W("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const a=o.target.result;n(a)},i.onblocked=()=>{r(new Gl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const a=o.target.error;a.name==="VersionError"?r(new J(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new J(B.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new Gl(e,a))},i.onupgradeneeded=o=>{W("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const a=o.target.result;this.p.O(a,i.transaction,o.oldVersion,this.version).next(()=>{W("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.M(e);const s=Em.open(this.db,e,o?"readonly":"readwrite",r),u=i(s).next(l=>(s.g(),l)).catch(l=>(s.abort(l),L.reject(l))).toPromise();return u.catch(()=>{}),await s.m,u}catch(s){const u=s,l=u.name!=="FirebaseError"&&a<3;if(W("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),!l)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}function FR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class p4{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Xo(this.B.delete())}}class Gl extends J{constructor(e,n){super(B.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ao(t){return t.name==="IndexedDbTransactionError"}class m4{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(W("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(W("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Xo(r)}add(e){return W("SimpleDb","ADD",this.store.name,e,e),Xo(this.store.add(e))}get(e){return Xo(this.store.get(e)).next(n=>(n===void 0&&(n=null),W("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return W("SimpleDb","DELETE",this.store.name,e),Xo(this.store.delete(e))}count(){return W("SimpleDb","COUNT",this.store.name),Xo(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new L((a,s)=>{o.onerror=u=>{s(u.target.error)},o.onsuccess=u=>{a(u.target.result)}})}{const o=this.cursor(r),a=[];return this.W(o,(s,u)=>{a.push(u)}).next(()=>a)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new L((i,o)=>{r.onerror=a=>{o(a.target.error)},r.onsuccess=a=>{i(a.target.result)}})}j(e,n){W("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(o,a,s)=>s.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new L((r,i)=>{n.onerror=o=>{const a=Hw(o.target.error);i(a)},n.onsuccess=o=>{const a=o.target.result;a?e(a.primaryKey,a.value).next(s=>{s?a.continue():r()}):r()}})}W(e,n){const r=[];return new L((i,o)=>{e.onerror=a=>{o(a.target.error)},e.onsuccess=a=>{const s=a.target.result;if(!s)return void i();const u=new p4(s),l=n(s.primaryKey,s.value,u);if(l instanceof L){const c=l.catch(h=>(u.done(),L.reject(h)));r.push(c)}u.isDone?i():u.K===null?s.continue():s.continue(u.K)}}).next(()=>L.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Xo(t){return new L((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Hw(r.target.error);n(i)}})}let PS=!1;function Hw(t){const e=co.S(_t());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new J("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return PS||(PS=!0,setTimeout(()=>{throw r},0)),r}}return t}class g4{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){W("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{W("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){Ao(n)?W("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Io(n)}await this.X(6e4)})}}class y4{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,o=!0;return L.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!r.has(a))return W("IndexBackfiller",`Processing collection: ${a}`),this.ne(e,a,i).next(s=>{i-=s,r.add(a)});o=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const a=o.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.re(i,o)).next(s=>(W("IndexBackfiller",`Updating offset: ${s}`),this.localStore.indexManager.updateCollectionGroup(e,n,s))).next(()=>a.size)}))}re(e,n){let r=e;return n.changes.forEach((i,o)=>{const a=LR(o);Kw(a,r)>0&&(r=a)}),new Ln(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}_n.oe=-1;function Im(t){return t==null}function Ic(t){return t===0&&1/t==-1/0}function BR(t){return typeof t=="number"&&Number.isInteger(t)&&!Ic(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=OS(e)),e=v4(t.get(n),e);return OS(e)}function v4(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function OS(t){return t+""}function Or(t){const e=t.length;if(ce(e>=2),e===2)return ce(t.charAt(0)===""&&t.charAt(1)===""),Ce.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const a=t.indexOf("",o);switch((a<0||a>n)&&se(),t.charAt(a+1)){case"":const s=t.substring(o,a);let u;i.length===0?u=s:(i+=s,u=i,i=""),r.push(u);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:se()}o=a+2}return new Ce(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t,e){return[t,hn(e)]}function UR(t,e,n){return[t,hn(e),n]}const _4={},w4=["prefixPath","collectionGroup","readTime","documentId"],b4=["prefixPath","collectionGroup","documentId"],x4=["collectionGroup","readTime","prefixPath","documentId"],T4=["canonicalId","targetId"],S4=["targetId","path"],E4=["path","targetId"],I4=["collectionId","parent"],A4=["indexId","uid"],P4=["uid","sequenceNumber"],O4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],C4=["indexId","uid","orderedDocumentKey"],k4=["userId","collectionPath","documentId"],R4=["userId","collectionPath","largestBatchId"],N4=["userId","collectionGroup","largestBatchId"],zR=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],D4=[...zR,"documentOverlays"],qR=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],WR=qR,Qw=[...WR,"indexConfiguration","indexState","indexEntries"],M4=Qw,$4=[...Qw,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0 extends jR{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function St(t,e){const n=ue(t);return co.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ba(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Of(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Of(this.root,e,this.comparator,!1)}getReverseIterator(){return new Of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Of(this.root,e,this.comparator,!0)}}class Of{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r!=null?r:jt.RED,this.left=i!=null?i:jt.EMPTY,this.right=o!=null?o:jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new jt(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,o){return this}insert(e,n,r){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new RS(this.data.getIterator())}getIteratorFrom(e){return new RS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ve)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ve(this.comparator);return n.data=e,n}}class RS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Za(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(it.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Ve(it.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ws(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new KR("Invalid base64 string: "+o):o}}(e);return new mt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mt.EMPTY_BYTE_STRING=new mt("");const L4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yi(t){if(ce(!!t),typeof t=="string"){let e=0;const n=L4.exec(t);if(ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vo(t){return typeof t=="string"?mt.fromBase64String(t):mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Yw(t){const e=t.mapValue.fields.__previous_value__;return Xw(e)?Yw(e):e}function Ac(t){const e=yi(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n,r,i,o,a,s,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=l}}class Ea{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ea("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ea&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},hd={nullValue:"NULL_VALUE"};function Ia(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xw(t)?4:HR(t)?9007199254740991:10:se()}function Vr(t,e){if(t===e)return!0;const n=Ia(t);if(n!==Ia(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ac(t).isEqual(Ac(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=yi(i.timestampValue),s=yi(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return vo(i.bytesValue).isEqual(vo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ct(i.geoPointValue.latitude)===ct(o.geoPointValue.latitude)&&ct(i.geoPointValue.longitude)===ct(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ct(i.integerValue)===ct(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=ct(i.doubleValue),s=ct(o.doubleValue);return a===s?Ic(a)===Ic(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return Ws(t.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(kS(a)!==kS(s))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(s[u]===void 0||!Vr(a[u],s[u])))return!1;return!0}(t,e);default:return se()}}function Pc(t,e){return(t.values||[]).find(n=>Vr(n,e))!==void 0}function _o(t,e){if(t===e)return 0;const n=Ia(t),r=Ia(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=ct(o.integerValue||o.doubleValue),u=ct(a.integerValue||a.doubleValue);return s<u?-1:s>u?1:s===u?0:isNaN(s)?isNaN(u)?0:-1:1}(t,e);case 3:return NS(t.timestampValue,e.timestampValue);case 4:return NS(Ac(t),Ac(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(o,a){const s=vo(o),u=vo(a);return s.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),u=a.split("/");for(let l=0;l<s.length&&l<u.length;l++){const c=ge(s[l],u[l]);if(c!==0)return c}return ge(s.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=ge(ct(o.latitude),ct(a.latitude));return s!==0?s:ge(ct(o.longitude),ct(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,a){const s=o.values||[],u=a.values||[];for(let l=0;l<s.length&&l<u.length;++l){const c=_o(s[l],u[l]);if(c)return c}return ge(s.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,a){if(o===Yi.mapValue&&a===Yi.mapValue)return 0;if(o===Yi.mapValue)return 1;if(a===Yi.mapValue)return-1;const s=o.fields||{},u=Object.keys(s),l=a.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let h=0;h<u.length&&h<c.length;++h){const d=ge(u[h],c[h]);if(d!==0)return d;const p=_o(s[u[h]],l[c[h]]);if(p!==0)return p}return ge(u.length,c.length)}(t.mapValue,e.mapValue);default:throw se()}}function NS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=yi(t),r=yi(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function Gs(t){return y0(t)}function y0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=yi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=y0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${y0(n.fields[a])}`;return i+"}"}(t.mapValue):se()}function Oc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function v0(t){return!!t&&"integerValue"in t}function Cc(t){return!!t&&"arrayValue"in t}function DS(t){return!!t&&"nullValue"in t}function MS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fd(t){return!!t&&"mapValue"in t}function Kl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ba(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Kl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function HR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function j4(t){return"nullValue"in t?hd:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Oc(Ea.empty(),ne.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:se()}function F4(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Oc(Ea.empty(),ne.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Yi:se()}function $S(t,e){const n=_o(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function LS(t,e){const n=_o(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(n)}setAll(e){let n=it.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=Kl(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());fd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];fd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ba(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new tn(Kl(this.value))}}function QR(t){const e=[];return Ba(t.fields,(n,r)=>{const i=new it([n]);if(fd(r)){const o=QR(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new ht(e,0,he.min(),he.min(),he.min(),tn.empty(),0)}static newFoundDocument(e,n,r,i){return new ht(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new ht(e,2,n,he.min(),he.min(),tn.empty(),0)}static newUnknownDocument(e,n){return new ht(e,3,n,he.min(),he.min(),tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n){this.position=e,this.inclusive=n}}function VS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=ne.comparator(ne.fromName(a.referenceValue),n.key):r=_o(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function jS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n="asc"){this.field=e,this.dir=n}}function B4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{}class xe extends XR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new U4(e,n,r):n==="array-contains"?new W4(e,r):n==="in"?new nN(e,r):n==="not-in"?new G4(e,r):n==="array-contains-any"?new K4(e,r):new xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new z4(e,r):new q4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_o(n,this.value)):n!==null&&Ia(this.value)===Ia(n)&&this.matchesComparison(_o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class De extends XR{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new De(e,n)}matches(e){return Hs(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Hs(t){return t.op==="and"}function _0(t){return t.op==="or"}function Jw(t){return YR(t)&&Hs(t)}function YR(t){for(const e of t.filters)if(e instanceof De)return!1;return!0}function w0(t){if(t instanceof xe)return t.field.canonicalString()+t.op.toString()+Gs(t.value);if(Jw(t))return t.filters.map(e=>w0(e)).join(",");{const e=t.filters.map(n=>w0(n)).join(",");return`${t.op}(${e})`}}function JR(t,e){return t instanceof xe?function(r,i){return i instanceof xe&&r.op===i.op&&r.field.isEqual(i.field)&&Vr(r.value,i.value)}(t,e):t instanceof De?function(r,i){return i instanceof De&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&JR(a,i.filters[s]),!0):!1}(t,e):void se()}function ZR(t,e){const n=t.filters.concat(e);return De.create(n,t.op)}function eN(t){return t instanceof xe?function(n){return`${n.field.canonicalString()} ${n.op} ${Gs(n.value)}`}(t):t instanceof De?function(n){return n.op.toString()+" {"+n.getFilters().map(eN).join(" ,")+"}"}(t):"Filter"}class U4 extends xe{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class z4 extends xe{constructor(e,n){super(e,"in",n),this.keys=tN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class q4 extends xe{constructor(e,n){super(e,"not-in",n),this.keys=tN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class W4 extends xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cc(n)&&Pc(n.arrayValue,this.value)}}class nN extends xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pc(this.value.arrayValue,n)}}class G4 extends xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Pc(this.value.arrayValue,n)}}class K4 extends xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Pc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function b0(t,e=null,n=[],r=[],i=null,o=null,a=null){return new H4(t,e,n,r,i,o,a)}function Aa(t){const e=ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>w0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Im(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Gs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Gs(r)).join(",")),e.ue=n}return e.ue}function Ih(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!B4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!JR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jS(t.startAt,e.startAt)&&jS(t.endAt,e.endAt)}function Yd(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Jd(t,e){return t.filters.filter(n=>n instanceof xe&&n.field.isEqual(e))}function FS(t,e,n){let r=hd,i=!0;for(const o of Jd(t,e)){let a=hd,s=!0;switch(o.op){case"<":case"<=":a=j4(o.value);break;case"==":case"in":case">=":a=o.value;break;case">":a=o.value,s=!1;break;case"!=":case"not-in":a=hd}$S({value:r,inclusive:i},{value:a,inclusive:s})<0&&(r=a,i=s)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const a=n.position[o];$S({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function BS(t,e,n){let r=Yi,i=!0;for(const o of Jd(t,e)){let a=Yi,s=!0;switch(o.op){case">=":case">":a=F4(o.value),s=!1;break;case"==":case"in":case"<=":a=o.value;break;case"<":a=o.value,s=!1;break;case"!=":case"not-in":a=Yi}LS({value:r,inclusive:i},{value:a,inclusive:s})>0&&(r=a,i=s)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const a=n.position[o];LS({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function rN(t,e,n,r,i,o,a,s){return new Iu(t,e,n,r,i,o,a,s)}function Ah(t){return new Iu(t)}function US(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iN(t){return t.collectionGroup!==null}function Hl(t){const e=ue(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new Ve(it.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(s=s.add(l.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new kc(o,r))}),n.has(it.keyField().canonicalString())||e.ce.push(new kc(it.keyField(),r))}return e.ce}function Dn(t){const e=ue(t);return e.le||(e.le=Q4(e,Hl(t))),e.le}function Q4(t,e){if(t.limitType==="F")return b0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new kc(i.field,o)});const n=t.endAt?new Ks(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ks(t.startAt.position,t.startAt.inclusive):null;return b0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function x0(t,e){const n=t.filters.concat([e]);return new Iu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function T0(t,e,n){return new Iu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Am(t,e){return Ih(Dn(t),Dn(e))&&t.limitType===e.limitType}function oN(t){return`${Aa(Dn(t))}|lt:${t.limitType}`}function us(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>eN(i)).join(", ")}]`),Im(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Gs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Gs(i)).join(",")),`Target(${r})`}(Dn(t))}; limitType=${t.limitType})`}function Ph(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ne.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Hl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,u){const l=VS(a,s,u);return a.inclusive?l<=0:l<0}(r.startAt,Hl(r),i)||r.endAt&&!function(a,s,u){const l=VS(a,s,u);return a.inclusive?l>=0:l>0}(r.endAt,Hl(r),i))}(t,e)}function aN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sN(t){return(e,n)=>{let r=!1;for(const i of Hl(t)){const o=X4(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function X4(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(o,a,s){const u=a.data.field(o),l=s.data.field(o);return u!==null&&l!==null?_o(u,l):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ba(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return GR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=new qe(ne.comparator);function Rn(){return Y4}const uN=new qe(ne.comparator);function kl(...t){let e=uN;for(const n of t)e=e.insert(n.key,n);return e}function lN(t){let e=uN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Cr(){return Ql()}function cN(){return Ql()}function Ql(){return new Po(t=>t.toString(),(t,e)=>t.isEqual(e))}const J4=new qe(ne.comparator),Z4=new Ve(ne.comparator);function ve(...t){let e=Z4;for(const n of t)e=e.add(n);return e}const e3=new Ve(ge);function Zw(){return e3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ic(e)?"-0":e}}function fN(t){return{integerValue:""+t}}function t3(t,e){return BR(e)?fN(e):hN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this._=void 0}}function n3(t,e,n){return t instanceof Rc?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Xw(o)&&(o=Yw(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof Qs?pN(t,e):t instanceof Xs?mN(t,e):function(i,o){const a=dN(i,o),s=zS(a)+zS(i.Pe);return v0(a)&&v0(i.Pe)?fN(s):hN(i.serializer,s)}(t,e)}function r3(t,e,n){return t instanceof Qs?pN(t,e):t instanceof Xs?mN(t,e):n}function dN(t,e){return t instanceof Nc?function(r){return v0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Rc extends Pm{}class Qs extends Pm{constructor(e){super(),this.elements=e}}function pN(t,e){const n=gN(e);for(const r of t.elements)n.some(i=>Vr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Xs extends Pm{constructor(e){super(),this.elements=e}}function mN(t,e){let n=gN(e);for(const r of t.elements)n=n.filter(i=>!Vr(i,r));return{arrayValue:{values:n}}}class Nc extends Pm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function zS(t){return ct(t.integerValue||t.doubleValue)}function gN(t){return Cc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n){this.field=e,this.transform=n}}function o3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Qs&&i instanceof Qs||r instanceof Xs&&i instanceof Xs?Ws(r.elements,i.elements,Vr):r instanceof Nc&&i instanceof Nc?Vr(r.Pe,i.Pe):r instanceof Rc&&i instanceof Rc}(t.transform,e.transform)}class a3{constructor(e,n){this.version=e,this.transformResults=n}}class un{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Om{}function yN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Cm(t.key,un.none()):new Au(t.key,t.data,un.none());{const n=t.data,r=tn.empty();let i=new Ve(it.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new Ii(t.key,r,new wn(i.toArray()),un.none())}}function s3(t,e,n){t instanceof Au?function(i,o,a){const s=i.value.clone(),u=WS(i.fieldTransforms,o,a.transformResults);s.setAll(u),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Ii?function(i,o,a){if(!dd(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=WS(i.fieldTransforms,o,a.transformResults),u=o.data;u.setAll(vN(i)),u.setAll(s),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Xl(t,e,n,r){return t instanceof Au?function(o,a,s,u){if(!dd(o.precondition,a))return s;const l=o.value.clone(),c=GS(o.fieldTransforms,u,a);return l.setAll(c),a.convertToFoundDocument(a.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ii?function(o,a,s,u){if(!dd(o.precondition,a))return s;const l=GS(o.fieldTransforms,u,a),c=a.data;return c.setAll(vN(o)),c.setAll(l),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,a,s){return dd(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function u3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=dN(r.transform,i||null);o!=null&&(n===null&&(n=tn.empty()),n.set(r.field,o))}return n||null}function qS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ws(r,i,(o,a)=>o3(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Au extends Om{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ii extends Om{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function vN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function WS(t,e,n){const r=new Map;ce(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,r3(a,s,n[i]))}return r}function GS(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,n3(o,a,e))}return r}class Cm extends Om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _N extends Om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&s3(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cN();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const u=yN(a,s);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&Ws(this.mutations,e.mutations,(n,r)=>qS(n,r))&&Ws(this.baseMutations,e.baseMutations,(n,r)=>qS(n,r))}}class tb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ce(e.mutations.length===r.length);let i=function(){return J4}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new tb(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Se;function c3(t){switch(t){default:return se();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function wN(t){if(t===void 0)return dt("GRPC error has no .code"),B.UNKNOWN;switch(t){case gt.OK:return B.OK;case gt.CANCELLED:return B.CANCELLED;case gt.UNKNOWN:return B.UNKNOWN;case gt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case gt.INTERNAL:return B.INTERNAL;case gt.UNAVAILABLE:return B.UNAVAILABLE;case gt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case gt.NOT_FOUND:return B.NOT_FOUND;case gt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case gt.ABORTED:return B.ABORTED;case gt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case gt.DATA_LOSS:return B.DATA_LOSS;default:return se()}}(Se=gt||(gt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=new ca([4294967295,4294967295],0);function KS(t){const e=h3().encode(t),n=new AR;return n.update(e),new Uint8Array(n.digest())}function HS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ca([n,r],0),new ca([i,o],0)]}class rb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Rl(`Invalid padding: ${n}`);if(r<0)throw new Rl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ca.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ca.fromNumber(r)));return i.compare(f3)===1&&(i=new ca([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=KS(e),[r,i]=HS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new rb(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const n=KS(e),[r,i]=HS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ch.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Oh(he.min(),i,new qe(ge),Rn(),ve())}}class Ch{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ch(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class bN{constructor(e,n){this.targetId=e,this.me=n}}class xN{constructor(e,n,r=mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class QS{constructor(){this.fe=0,this.ge=YS(),this.pe=mt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ve(),n=ve(),r=ve();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new Ch(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=YS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ce(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class d3{constructor(e){this.Le=e,this.Be=new Map,this.ke=Rn(),this.qe=XS(),this.Qe=new qe(ge)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Yd(o))if(r===0){const a=new ne(o.path);this.Ue(n,a,ht.newNoDocument(a,he.min()))}else ce(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(e),u=s?this.Xe(s,e,a):1;if(u!==0){this.je(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=vo(r).toUint8Array()}catch(u){if(u instanceof KR)return Sa("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{s=new rb(a,i,o)}catch(u){return Sa(u instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&Yd(s.target)){const u=new ne(s.target.path);this.ke.get(u)!==null||this.it(a,u)||this.Ue(a,u,ht.newNoDocument(u,e))}o.be&&(n.set(a,o.Ce()),o.ve())}});let r=ve();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(u=>{const l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new Oh(e,n,this.Qe,this.ke,r);return this.ke=Rn(),this.qe=XS(),this.Qe=new qe(ge),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new QS,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ve(ge),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new QS),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function XS(){return new qe(ne.comparator)}function YS(){return new qe(ne.comparator)}const p3=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),m3=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),g3=(()=>({and:"AND",or:"OR"}))();class y3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function S0(t,e){return t.useProto3Json||Im(e)?e:{value:e}}function Ys(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function v3(t,e){return Ys(t,e.toTimestamp())}function fn(t){return ce(!!t),he.fromTimestamp(function(n){const r=yi(n);return new at(r.seconds,r.nanos)}(t))}function ib(t,e){return E0(t,e).canonicalString()}function E0(t,e){const n=function(i){return new Ce(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function SN(t){const e=Ce.fromString(t);return ce(NN(e)),e}function Zd(t,e){return ib(t.databaseId,e.path)}function ha(t,e){const n=SN(e);if(n.get(1)!==t.databaseId.projectId)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(AN(n))}function EN(t,e){return ib(t.databaseId,e)}function IN(t){const e=SN(t);return e.length===4?Ce.emptyPath():AN(e)}function I0(t){return new Ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AN(t){return ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function JS(t,e,n){return{name:Zd(t,e),fields:n.value.mapValue.fields}}function _3(t,e,n){const r=ha(t,e.name),i=fn(e.updateTime),o=e.createTime?fn(e.createTime):he.min(),a=new tn({mapValue:{fields:e.fields}}),s=ht.newFoundDocument(r,i,o,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function w3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,c){return l.useProto3Json?(ce(c===void 0||typeof c=="string"),mt.fromBase64String(c||"")):(ce(c===void 0||c instanceof Buffer||c instanceof Uint8Array),mt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(l){const c=l.code===void 0?B.UNKNOWN:wN(l.code);return new J(c,l.message||"")}(a);n=new xN(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ha(t,r.document.name),o=fn(r.document.updateTime),a=r.document.createTime?fn(r.document.createTime):he.min(),s=new tn({mapValue:{fields:r.document.fields}}),u=ht.newFoundDocument(i,o,a,s),l=r.targetIds||[],c=r.removedTargetIds||[];n=new pd(l,c,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ha(t,r.document),o=r.readTime?fn(r.readTime):he.min(),a=ht.newNoDocument(i,o),s=r.removedTargetIds||[];n=new pd([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ha(t,r.document),o=r.removedTargetIds||[];n=new pd([],o,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new l3(i,o),s=r.targetId;n=new bN(s,a)}}return n}function ep(t,e){let n;if(e instanceof Au)n={update:JS(t,e.key,e.value)};else if(e instanceof Cm)n={delete:Zd(t,e.key)};else if(e instanceof Ii)n={update:JS(t,e.key,e.data),updateMask:I3(e.fieldMask)};else{if(!(e instanceof _N))return se();n={verify:Zd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof Rc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Qs)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Xs)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Nc)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:v3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:se()}(t,e.precondition)),n}function A0(t,e){const n=e.currentDocument?function(o){return o.updateTime!==void 0?un.updateTime(fn(o.updateTime)):o.exists!==void 0?un.exists(o.exists):un.none()}(e.currentDocument):un.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,s){let u=null;if("setToServerValue"in s)ce(s.setToServerValue==="REQUEST_TIME"),u=new Rc;else if("appendMissingElements"in s){const c=s.appendMissingElements.values||[];u=new Qs(c)}else if("removeAllFromArray"in s){const c=s.removeAllFromArray.values||[];u=new Xs(c)}else"increment"in s?u=new Nc(a,s.increment):se();const l=it.fromServerFormat(s.fieldPath);return new i3(l,u)}(t,i)):[];if(e.update){e.update.name;const i=ha(t,e.update.name),o=new tn({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(u){const l=u.fieldPaths||[];return new wn(l.map(c=>it.fromServerFormat(c)))}(e.updateMask);return new Ii(i,o,a,n,r)}return new Au(i,o,n,r)}if(e.delete){const i=ha(t,e.delete);return new Cm(i,n)}if(e.verify){const i=ha(t,e.verify);return new _N(i,n)}return se()}function b3(t,e){return t&&t.length>0?(ce(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?fn(i.updateTime):fn(o);return a.isEqual(he.min())&&(a=fn(o)),new a3(a,i.transformResults||[])}(n,e))):[]}function PN(t,e){return{documents:[EN(t,e.path)]}}function ON(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=EN(t,i);const o=function(l){if(l.length!==0)return RN(De.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:ls(d.field),direction:T3(d.dir)}}(c))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=S0(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function CN(t){let e=IN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ce(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(h){const d=kN(h);return d instanceof De&&Jw(d)?d.getFilters():[d]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(d=>function(_){return new kc(cs(_.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(d))}(n.orderBy));let s=null;n.limit&&(s=function(h){let d;return d=typeof h=="object"?h.value:h,Im(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(h){const d=!!h.before,p=h.values||[];return new Ks(p,d)}(n.startAt));let l=null;return n.endAt&&(l=function(h){const d=!h.before,p=h.values||[];return new Ks(p,d)}(n.endAt)),rN(e,i,a,o,s,"F",u,l)}function x3(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=cs(n.unaryFilter.field);return xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=cs(n.unaryFilter.field);return xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=cs(n.unaryFilter.field);return xe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=cs(n.unaryFilter.field);return xe.create(a,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return xe.create(cs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return De.create(n.compositeFilter.filters.map(r=>kN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function T3(t){return p3[t]}function S3(t){return m3[t]}function E3(t){return g3[t]}function ls(t){return{fieldPath:t.canonicalString()}}function cs(t){return it.fromServerFormat(t.fieldPath)}function RN(t){return t instanceof xe?function(n){if(n.op==="=="){if(MS(n.value))return{unaryFilter:{field:ls(n.field),op:"IS_NAN"}};if(DS(n.value))return{unaryFilter:{field:ls(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(MS(n.value))return{unaryFilter:{field:ls(n.field),op:"IS_NOT_NAN"}};if(DS(n.value))return{unaryFilter:{field:ls(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ls(n.field),op:S3(n.op),value:n.value}}}(t):t instanceof De?function(n){const r=n.getFilters().map(i=>RN(i));return r.length===1?r[0]:{compositeFilter:{op:E3(n.op),filters:r}}}(t):se()}function I3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,r,i,o=he.min(),a=he.min(),s=mt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=u}withSequenceNumber(e){return new ei(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.ct=e}}function A3(t,e){let n;if(e.document)n=_3(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ne.fromSegments(e.noDocument.path),i=Oa(e.noDocument.readTime);n=ht.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return se();{const r=ne.fromSegments(e.unknownDocument.path),i=Oa(e.unknownDocument.version);n=ht.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new at(i[0],i[1]);return he.fromTimestamp(o)}(e.readTime)),n}function ZS(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:tp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,a){return{name:Zd(o,a.key),fields:a.data.value.mapValue.fields,updateTime:Ys(o,a.version.toTimestamp()),createTime:Ys(o,a.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Pa(e.version)};else{if(!e.isUnknownDocument())return se();r.unknownDocument={path:n.path.toArray(),version:Pa(e.version)}}return r}function tp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Pa(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Oa(t){const e=new at(t.seconds,t.nanoseconds);return he.fromTimestamp(e)}function Yo(t,e){const n=(e.baseMutations||[]).map(o=>A0(t.ct,o));for(let o=0;o<e.mutations.length-1;++o){const a=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const s=e.mutations[o+1];a.updateTransforms=s.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>A0(t.ct,o)),i=at.fromMillis(e.localWriteTimeMs);return new eb(e.batchId,i,n,r)}function Nl(t){const e=Oa(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Oa(t.lastLimboFreeSnapshotVersion):he.min();let r;return r=function(o){return o.documents!==void 0}(t.query)?function(o){return ce(o.documents.length===1),Dn(Ah(IN(o.documents[0])))}(t.query):function(o){return Dn(CN(o))}(t.query),new ei(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,mt.fromBase64String(t.resumeToken))}function MN(t,e){const n=Pa(e.snapshotVersion),r=Pa(e.lastLimboFreeSnapshotVersion);let i;i=Yd(e.target)?PN(t.ct,e.target):ON(t.ct,e.target)._t;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Aa(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function $N(t){const e=CN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?T0(e,e.limit,"L"):e}function Cy(t,e){return new nb(e.largestBatchId,A0(t.ct,e.overlayMutation))}function eE(t,e){const n=e.path.lastSegment();return[t,hn(e.path.popLast()),n]}function tE(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Pa(r.readTime),documentKey:hn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{getBundleMetadata(e,n){return nE(e).get(n).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Oa(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,n){return nE(e).put(function(i){return{bundleId:i.id,createTime:Pa(fn(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return rE(e).get(n).next(r=>{if(r)return function(o){return{name:o.name,query:$N(o.bundledQuery),readTime:Oa(o.readTime)}}(r)})}saveNamedQuery(e,n){return rE(e).put(function(i){return{name:i.name,readTime:Pa(fn(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function nE(t){return St(t,"bundles")}function rE(t){return St(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new km(e,r)}getOverlay(e,n){return hl(e).get(eE(this.userId,n)).next(r=>r?Cy(this.serializer,r):null)}getOverlays(e,n){const r=Cr();return L.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,a)=>{const s=new nb(n,a);i.push(this.ht(e,s))}),L.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(a=>i.add(hn(a.getCollectionPath())));const o=[];return i.forEach(a=>{const s=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);o.push(hl(e).j("collectionPathOverlayIndex",s))}),L.waitFor(o)}getOverlaysForCollection(e,n,r){const i=Cr(),o=hn(n),a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return hl(e).U("collectionPathOverlayIndex",a).next(s=>{for(const u of s){const l=Cy(this.serializer,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=Cr();let a;const s=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return hl(e).J({index:"collectionGroupOverlayIndex",range:s},(u,l,c)=>{const h=Cy(this.serializer,l);o.size()<i||h.largestBatchId===a?(o.set(h.getKey(),h),a=h.largestBatchId):c.done()}).next(()=>o)}ht(e,n){return hl(e).put(function(i,o,a){const[s,u,l]=eE(o,a.mutation.key);return{userId:o,collectionPath:u,documentId:l,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:ep(i.ct,a.mutation)}}(this.serializer,this.userId,n))}}function hl(t){return St(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{Pt(e){return St(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?mt.fromUint8Array(r):mt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(ct(e.integerValue));else if("doubleValue"in e){const r=ct(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Ic(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=yi(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(vo(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?HR(e)?this.dt(n,Number.MAX_SAFE_INTEGER):(this.wt(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.St(e.arrayValue,n),this.ft(n)):se()}Vt(e,n){this.dt(n,25),this.bt(e,n)}bt(e,n){n.Rt(e)}wt(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}St(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ne.fromName(e).path.forEach(r=>{this.dt(n,60),this.bt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}Jo.Dt=new Jo;function C3(t){if(t===0)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function iE(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const a=C3(255&r[o]);if(i+=a,a!==8)break}return i}(t);return Math.ceil(e/8)}class k3{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.vt(r.value),r=n.next();this.Ft()}Mt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.xt(r.value),r=n.next();this.Ot()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.vt(r);else if(r<2048)this.vt(960|r>>>6),this.vt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.vt(480|r>>>12),this.vt(128|63&r>>>6),this.vt(128|63&r);else{const i=n.codePointAt(0);this.vt(240|i>>>18),this.vt(128|63&i>>>12),this.vt(128|63&i>>>6),this.vt(128|63&i)}}this.Ft()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.xt(r);else if(r<2048)this.xt(960|r>>>6),this.xt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.xt(480|r>>>12),this.xt(128|63&r>>>6),this.xt(128|63&r);else{const i=n.codePointAt(0);this.xt(240|i>>>18),this.xt(128|63&i>>>12),this.xt(128|63&i>>>6),this.xt(128|63&i)}}this.Ot()}Bt(e){const n=this.kt(e),r=iE(n);this.qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Qt(e){const n=this.kt(e),r=iE(n);this.qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Kt(){this.$t(255),this.$t(255)}Ut(){this.Wt(255),this.Wt(255)}reset(){this.position=0}seed(e){this.qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Gt(){return this.buffer.slice(0,this.position)}kt(e){const n=function(o){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,o,!1),new Uint8Array(a.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}vt(e){const n=255&e;n===0?(this.$t(0),this.$t(255)):n===255?(this.$t(255),this.$t(0)):this.$t(n)}xt(e){const n=255&e;n===0?(this.Wt(0),this.Wt(255)):n===255?(this.Wt(255),this.Wt(0)):this.Wt(e)}Ft(){this.$t(0),this.$t(1)}Ot(){this.Wt(0),this.Wt(1)}$t(e){this.qt(1),this.buffer[this.position++]=e}Wt(e){this.qt(1),this.buffer[this.position++]=~e}qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class R3{constructor(e){this.zt=e}gt(e){this.zt.Ct(e)}Rt(e){this.zt.Nt(e)}At(e){this.zt.Bt(e)}Et(){this.zt.Kt()}}class N3{constructor(e){this.zt=e}gt(e){this.zt.Mt(e)}Rt(e){this.zt.Lt(e)}At(e){this.zt.Qt(e)}Et(){this.zt.Ut()}}class fl{constructor(){this.zt=new k3,this.jt=new R3(this.zt),this.Ht=new N3(this.zt)}seed(e){this.zt.seed(e)}Jt(e){return e===0?this.jt:this.Ht}Gt(){return this.zt.Gt()}reset(){this.zt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Yt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Zo(this.indexId,this.documentKey,this.arrayValue,r)}}function Di(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=oE(t.arrayValue,e.arrayValue),n!==0?n:(n=oE(t.directionalValue,e.directionalValue),n!==0?n:ne.comparator(t.documentKey,e.documentKey)))}function oE(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e){this.Zt=new Ve((n,r)=>it.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Xt=e.orderBy,this.en=[];for(const n of e.filters){const r=n;r.isInequality()?this.Zt=this.Zt.add(r):this.en.push(r)}}get tn(){return this.Zt.size>1}nn(e){if(ce(e.collectionGroup===this.collectionId),this.tn)return!1;const n=m0(e);if(n!==void 0&&!this.rn(n))return!1;const r=Go(e);let i=new Set,o=0,a=0;for(;o<r.length&&this.rn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Zt.size>0){const s=this.Zt.getIterator().getNext();if(!i.has(s.field.canonicalString())){const u=r[o];if(!this.sn(s,u)||!this.on(this.Xt[a++],u))return!1}++o}for(;o<r.length;++o){const s=r[o];if(a>=this.Xt.length||!this.on(this.Xt[a++],s))return!1}return!0}_n(){if(this.tn)return null;let e=new Ve(it.comparator);const n=[];for(const r of this.en)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new ld(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new ld(r.field,0))}for(const r of this.Xt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new ld(r.field,r.dir==="asc"?0:1)));return new Xd(Xd.UNKNOWN_ID,this.collectionId,n,Ec.empty())}rn(e){for(const n of this.en)if(this.sn(n,e))return!0;return!1}sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}on(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t){var e,n;if(ce(t instanceof xe||t instanceof De),t instanceof xe){if(t instanceof nN){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>xe.create(t.field,"==",o)))||[];return De.create(i,"or")}return t}const r=t.filters.map(i=>LN(i));return De.create(r,t.op)}function D3(t){if(t.getFilters().length===0)return[];const e=C0(LN(t));return ce(VN(e)),P0(e)||O0(e)?[e]:e.getFilters()}function P0(t){return t instanceof xe}function O0(t){return t instanceof De&&Jw(t)}function VN(t){return P0(t)||O0(t)||function(n){if(n instanceof De&&_0(n)){for(const r of n.getFilters())if(!P0(r)&&!O0(r))return!1;return!0}return!1}(t)}function C0(t){if(ce(t instanceof xe||t instanceof De),t instanceof xe)return t;if(t.filters.length===1)return C0(t.filters[0]);const e=t.filters.map(r=>C0(r));let n=De.create(e,t.op);return n=np(n),VN(n)?n:(ce(n instanceof De),ce(Hs(n)),ce(n.filters.length>1),n.filters.reduce((r,i)=>ob(r,i)))}function ob(t,e){let n;return ce(t instanceof xe||t instanceof De),ce(e instanceof xe||e instanceof De),n=t instanceof xe?e instanceof xe?function(i,o){return De.create([i,o],"and")}(t,e):sE(t,e):e instanceof xe?sE(e,t):function(i,o){if(ce(i.filters.length>0&&o.filters.length>0),Hs(i)&&Hs(o))return ZR(i,o.getFilters());const a=_0(i)?i:o,s=_0(i)?o:i,u=a.filters.map(l=>ob(l,s));return De.create(u,"or")}(t,e),np(n)}function sE(t,e){if(Hs(e))return ZR(e,t.getFilters());{const n=e.filters.map(r=>ob(t,r));return De.create(n,"or")}}function np(t){if(ce(t instanceof xe||t instanceof De),t instanceof xe)return t;const e=t.getFilters();if(e.length===1)return np(e[0]);if(YR(t))return t;const n=e.map(i=>np(i)),r=[];return n.forEach(i=>{i instanceof xe?r.push(i):i instanceof De&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:De.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(){this.an=new ab}addToCollectionParentIndex(e,n){return this.an.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Ln.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Ln.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class ab{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ve(Ce.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ve(Ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=new Uint8Array(0);class $3{constructor(e,n){this.databaseId=n,this.un=new ab,this.cn=new Po(r=>Aa(r),(r,i)=>Ih(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.un.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.un.add(n)});const o={collectionId:r,parent:hn(i)};return uE(e).put(o)}return L.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[MR(n),""],!1,!0);return uE(e).U(i).next(o=>{for(const a of o){if(a.collectionId!==n)break;r.push(Or(a.parent))}return r})}addFieldIndex(e,n){const r=dl(e),i=function(s){return{indexId:s.indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])}}(n);delete i.indexId;const o=r.add(i);if(n.indexState){const a=ts(e);return o.next(s=>{a.put(tE(s,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=dl(e),i=ts(e),o=es(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=dl(e),r=es(e),i=ts(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return L.forEach(this.ln(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new aE(r)._n();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=es(e);let i=!0;const o=new Map;return L.forEach(this.ln(n),a=>this.hn(e,a).next(s=>{i&&(i=!!s),o.set(a,s)})).next(()=>{if(i){let a=ve();const s=[];return L.forEach(o,(u,l)=>{W("IndexedDbIndexManager",`Using index ${function(w){return`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(x=>`${x.fieldPath}:${x.kind}`).join(",")}`}(u)} to execute ${Aa(n)}`);const c=function(w,x){const T=m0(x);if(T===void 0)return null;for(const A of Jd(w,T.fieldPath))switch(A.op){case"array-contains-any":return A.value.arrayValue.values||[];case"array-contains":return[A.value]}return null}(l,u),h=function(w,x){const T=new Map;for(const A of Go(x))for(const I of Jd(w,A.fieldPath))switch(I.op){case"==":case"in":T.set(A.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return T.set(A.fieldPath.canonicalString(),I.value),Array.from(T.values())}return null}(l,u),d=function(w,x){const T=[];let A=!0;for(const I of Go(x)){const S=I.kind===0?FS(w,I.fieldPath,w.startAt):BS(w,I.fieldPath,w.startAt);T.push(S.value),A&&(A=S.inclusive)}return new Ks(T,A)}(l,u),p=function(w,x){const T=[];let A=!0;for(const I of Go(x)){const S=I.kind===0?BS(w,I.fieldPath,w.endAt):FS(w,I.fieldPath,w.endAt);T.push(S.value),A&&(A=S.inclusive)}return new Ks(T,A)}(l,u),_=this.Pn(u,l,d),g=this.Pn(u,l,p),v=this.In(u,l,h),b=this.Tn(u.indexId,c,_,d.inclusive,g,p.inclusive,v);return L.forEach(b,y=>r.G(y,n.limit).next(w=>{w.forEach(x=>{const T=ne.fromSegments(x.documentKey);a.has(T)||(a=a.add(T),s.push(T))})}))}).next(()=>s)}return L.resolve(null)})}ln(e){let n=this.cn.get(e);return n||(e.filters.length===0?n=[e]:n=D3(De.create(e.filters,"and")).map(r=>b0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.cn.set(e,n),n)}Tn(e,n,r,i,o,a,s){const u=(n!=null?n.length:1)*Math.max(r.length,o.length),l=u/(n!=null?n.length:1),c=[];for(let h=0;h<u;++h){const d=n?this.En(n[h/l]):Cf,p=this.dn(e,d,r[h%l],i),_=this.An(e,d,o[h%l],a),g=s.map(v=>this.dn(e,d,v,!0));c.push(...this.createRange(p,_,g))}return c}dn(e,n,r,i){const o=new Zo(e,ne.empty(),n,r);return i?o:o.Yt()}An(e,n,r,i){const o=new Zo(e,ne.empty(),n,r);return i?o.Yt():o}hn(e,n){const r=new aE(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let a=null;for(const s of o)r.nn(s)&&(!a||s.fields.length>a.fields.length)&&(a=s);return a})}getIndexType(e,n){let r=2;const i=this.ln(n);return L.forEach(i,o=>this.hn(e,o).next(a=>{a?r!==0&&a.fields.length<function(u){let l=new Ve(it.comparator),c=!1;for(const h of u.filters)for(const d of h.getFlattenedFilters())d.field.isKeyField()||(d.op==="array-contains"||d.op==="array-contains-any"?c=!0:l=l.add(d.field));for(const h of u.orderBy)h.field.isKeyField()||(l=l.add(h.field));return l.size+(c?1:0)}(o)&&(r=1):r=0})).next(()=>function(a){return a.limit!==null}(n)&&i.length>1&&r===2?1:r)}Rn(e,n){const r=new fl;for(const i of Go(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const a=r.Jt(i.kind);Jo.Dt.It(o,a)}return r.Gt()}En(e){const n=new fl;return Jo.Dt.It(e,n.Jt(0)),n.Gt()}Vn(e,n){const r=new fl;return Jo.Dt.It(Oc(this.databaseId,n),r.Jt(function(o){const a=Go(o);return a.length===0?0:a[a.length-1].kind}(e))),r.Gt()}In(e,n,r){if(r===null)return[];let i=[];i.push(new fl);let o=0;for(const a of Go(e)){const s=r[o++];for(const u of i)if(this.mn(n,a.fieldPath)&&Cc(s))i=this.fn(i,a,s);else{const l=u.Jt(a.kind);Jo.Dt.It(s,l)}}return this.gn(i)}Pn(e,n,r){return this.In(e,n,r.position)}gn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Gt();return n}fn(e,n,r){const i=[...e],o=[];for(const a of r.arrayValue.values||[])for(const s of i){const u=new fl;u.seed(s.Gt()),Jo.Dt.It(a,u.Jt(n.kind)),o.push(u)}return o}mn(e,n){return!!e.filters.find(r=>r instanceof xe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=dl(e),i=ts(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(o=>{const a=[];return L.forEach(o,s=>i.get([s.indexId,this.uid]).next(u=>{a.push(function(c,h){const d=h?new Ec(h.sequenceNumber,new Ln(Oa(h.readTime),new ne(Or(h.documentKey)),h.largestBatchId)):Ec.empty(),p=c.fields.map(([_,g])=>new ld(it.fromServerFormat(_),g));return new Xd(c.indexId,c.collectionGroup,p,d)}(s,u))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:ge(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=dl(e),o=ts(e);return this.pn(e).next(a=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(s=>L.forEach(s,u=>o.put(tE(u.indexId,this.uid,a,r)))))}updateIndexEntries(e,n){const r=new Map;return L.forEach(n,(i,o)=>{const a=r.get(i.collectionGroup);return(a?L.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next(s=>(r.set(i.collectionGroup,s),L.forEach(s,u=>this.yn(e,i,u).next(l=>{const c=this.wn(o,u);return l.isEqual(c)?L.resolve():this.Sn(e,o,u,l,c)}))))})}bn(e,n,r,i){return es(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Vn(r,n.key),documentKey:n.key.path.toArray()})}Dn(e,n,r,i){return es(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Vn(r,n.key),n.key.path.toArray()])}yn(e,n,r){const i=es(e);let o=new Ve(Di);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Vn(r,n)])},(a,s)=>{o=o.add(new Zo(r.indexId,n,s.arrayValue,s.directionalValue))}).next(()=>o)}wn(e,n){let r=new Ve(Di);const i=this.Rn(n,e);if(i==null)return r;const o=m0(n);if(o!=null){const a=e.data.field(o.fieldPath);if(Cc(a))for(const s of a.arrayValue.values||[])r=r.add(new Zo(n.indexId,e.key,this.En(s),i))}else r=r.add(new Zo(n.indexId,e.key,Cf,i));return r}Sn(e,n,r,i,o){W("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const a=[];return function(u,l,c,h,d){const p=u.getIterator(),_=l.getIterator();let g=Za(p),v=Za(_);for(;g||v;){let b=!1,y=!1;if(g&&v){const w=c(g,v);w<0?y=!0:w>0&&(b=!0)}else g!=null?y=!0:b=!0;b?(h(v),v=Za(_)):y?(d(g),g=Za(p)):(g=Za(p),v=Za(_))}}(i,o,Di,s=>{a.push(this.bn(e,n,r,s))},s=>{a.push(this.Dn(e,n,r,s))}),L.waitFor(a)}pn(e){let n=1;return ts(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((a,s)=>Di(a,s)).filter((a,s,u)=>!s||Di(a,u[s-1])!==0);const i=[];i.push(e);for(const a of r){const s=Di(a,e),u=Di(a,n);if(s===0)i[0]=e.Yt();else if(s>0&&u<0)i.push(a),i.push(a.Yt());else if(u>0)break}i.push(n);const o=[];for(let a=0;a<i.length;a+=2){if(this.Cn(i[a],i[a+1]))return[];const s=[i[a].indexId,this.uid,i[a].arrayValue,i[a].directionalValue,Cf,[]],u=[i[a+1].indexId,this.uid,i[a+1].arrayValue,i[a+1].directionalValue,Cf,[]];o.push(IDBKeyRange.bound(s,u))}return o}Cn(e,n){return Di(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(lE)}getMinOffset(e,n){return L.mapArray(this.ln(n),r=>this.hn(e,r).next(i=>i||se())).next(lE)}}function uE(t){return St(t,"collectionParents")}function es(t){return St(t,"indexEntries")}function dl(t){return St(t,"indexConfiguration")}function ts(t){return St(t,"indexState")}function lE(t){ce(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Kw(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ln(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class gn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],a=IDBKeyRange.only(n.batchId);let s=0;const u=r.J({range:a},(c,h,d)=>(s++,d.delete()));o.push(u.next(()=>{ce(s===1)}));const l=[];for(const c of n.mutations){const h=UR(e,c.key.path,n.batchId);o.push(i.delete(h)),l.push(c.key)}return L.waitFor(o).next(()=>l)}function rp(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw se();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(41943040,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class Rm{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.vn={}}static lt(e,n,r,i){ce(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new Rm(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mi(e).J({index:"userMutationsIndex",range:r},(i,o,a)=>{n=!1,a.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=hs(e),a=Mi(e);return a.add({}).next(s=>{ce(typeof s=="number");const u=new eb(s,n,r,i),l=function(p,_,g){const v=g.baseMutations.map(y=>ep(p.ct,y)),b=g.mutations.map(y=>ep(p.ct,y));return{userId:_,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:v,mutations:b}}(this.serializer,this.userId,u),c=[];let h=new Ve((d,p)=>ge(d.canonicalString(),p.canonicalString()));for(const d of i){const p=UR(this.userId,d.key.path,s);h=h.add(d.key.path.popLast()),c.push(a.put(l)),c.push(o.put(p,_4))}return h.forEach(d=>{c.push(this.indexManager.addToCollectionParentIndex(e,d))}),e.addOnCommittedListener(()=>{this.vn[s]=u.keys()}),L.waitFor(c).next(()=>u)})}lookupMutationBatch(e,n){return Mi(e).get(n).next(r=>r?(ce(r.userId===this.userId),Yo(this.serializer,r)):null)}Fn(e,n){return this.vn[n]?L.resolve(this.vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.vn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Mi(e).J({index:"userMutationsIndex",range:i},(a,s,u)=>{s.userId===this.userId&&(ce(s.batchId>=r),o=Yo(this.serializer,s)),u.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Mi(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,o,a)=>{r=o.batchId,a.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mi(e).U("userMutationsIndex",n).next(r=>r.map(i=>Yo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=cd(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return hs(e).J({range:i},(a,s,u)=>{const[l,c,h]=a,d=Or(c);if(l===this.userId&&n.path.isEqual(d))return Mi(e).get(h).next(p=>{if(!p)throw se();ce(p.userId===this.userId),o.push(Yo(this.serializer,p))});u.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ve(ge);const i=[];return n.forEach(o=>{const a=cd(this.userId,o.path),s=IDBKeyRange.lowerBound(a),u=hs(e).J({range:s},(l,c,h)=>{const[d,p,_]=l,g=Or(p);d===this.userId&&o.path.isEqual(g)?r=r.add(_):h.done()});i.push(u)}),L.waitFor(i).next(()=>this.Mn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=cd(this.userId,r),a=IDBKeyRange.lowerBound(o);let s=new Ve(ge);return hs(e).J({range:a},(u,l,c)=>{const[h,d,p]=u,_=Or(d);h===this.userId&&r.isPrefixOf(_)?_.length===i&&(s=s.add(p)):c.done()}).next(()=>this.Mn(e,s))}Mn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(Mi(e).get(o).next(a=>{if(a===null)throw se();ce(a.userId===this.userId),r.push(Yo(this.serializer,a))}))}),L.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return jN(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.xn(n.batchId)}),L.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}xn(e){delete this.vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return L.resolve();const r=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),i=[];return hs(e).J({range:r},(o,a,s)=>{if(o[0]===this.userId){const u=Or(o[1]);i.push(u)}else s.done()}).next(()=>{ce(i.length===0)})})}containsKey(e,n){return FN(e,this.userId,n)}On(e){return BN(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function FN(t,e,n){const r=cd(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let a=!1;return hs(t).J({range:o,H:!0},(s,u,l)=>{const[c,h,d]=s;c===e&&h===i&&(a=!0),l.done()}).next(()=>a)}function Mi(t){return St(t,"mutations")}function hs(t){return St(t,"documentMutations")}function BN(t){return St(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Ln(){return new Ca(0)}static Bn(){return new Ca(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.kn(e).next(n=>{const r=new Ca(n.highestTargetId);return n.highestTargetId=r.next(),this.qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.kn(e).next(n=>he.fromTimestamp(new at(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.kn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.kn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.qn(e,i)))}addTargetData(e,n){return this.Qn(e,n).next(()=>this.kn(e).next(r=>(r.targetCount+=1,this.Kn(n,r),this.qn(e,r))))}updateTargetData(e,n){return this.Qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>ns(e).delete(n.targetId)).next(()=>this.kn(e)).next(r=>(ce(r.targetCount>0),r.targetCount-=1,this.qn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return ns(e).J((a,s)=>{const u=Nl(s);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,o.push(this.removeTargetData(e,u)))}).next(()=>L.waitFor(o)).next(()=>i)}forEachTarget(e,n){return ns(e).J((r,i)=>{const o=Nl(i);n(o)})}kn(e){return hE(e).get("targetGlobalKey").next(n=>(ce(n!==null),n))}qn(e,n){return hE(e).put("targetGlobalKey",n)}Qn(e,n){return ns(e).put(MN(this.serializer,n))}Kn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.kn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Aa(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return ns(e).J({range:i,index:"queryTargetsIndex"},(a,s,u)=>{const l=Nl(s);Ih(n,l.target)&&(o=l,u.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=zi(e);return n.forEach(a=>{const s=hn(a.path);i.push(o.put({targetId:r,path:s})),i.push(this.referenceDelegate.addReference(e,r,a))}),L.waitFor(i)}removeMatchingKeys(e,n,r){const i=zi(e);return L.forEach(n,o=>{const a=hn(o.path);return L.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=zi(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=zi(e);let o=ve();return i.J({range:r,H:!0},(a,s,u)=>{const l=Or(a[1]),c=new ne(l);o=o.add(c)}).next(()=>o)}containsKey(e,n){const r=hn(n.path),i=IDBKeyRange.bound([r],[MR(r)],!1,!0);let o=0;return zi(e).J({index:"documentTargetsIndex",H:!0,range:i},([a,s],u,l)=>{a!==0&&(o++,l.done())}).next(()=>o>0)}ot(e,n){return ns(e).get(n).next(r=>r?Nl(r):null)}}function ns(t){return St(t,"targets")}function hE(t){return St(t,"targetGlobal")}function zi(t){return St(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE([t,e],[n,r]){const i=ge(t,n);return i===0?ge(e,r):i}class V3{constructor(e){this.$n=e,this.buffer=new Ve(fE),this.Un=0}Wn(){return++this.Un}Gn(e){const n=[e,this.Wn()];if(this.buffer.size<this.$n)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();fE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class j3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.zn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.jn(6e4)}stop(){this.zn&&(this.zn.cancel(),this.zn=null)}get started(){return this.zn!==null}jn(e){W("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.zn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.zn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ao(n)?W("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Io(n)}await this.jn(3e5)})}}class F3{constructor(e,n){this.Hn=e,this.params=n}calculateTargetCount(e,n){return this.Hn.Jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return L.resolve(_n.oe);const r=new V3(n);return this.Hn.forEachTarget(e,i=>r.Gn(i.sequenceNumber)).next(()=>this.Hn.Yn(e,i=>r.Gn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Hn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Hn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(cE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cE):this.Zn(e,n))}getCacheSize(e){return this.Hn.getCacheSize(e)}Zn(e,n){let r,i,o,a,s,u,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,a=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,s=Date.now(),this.removeTargets(e,r,n))).next(h=>(o=h,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(l=Date.now(),ss()<=be.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-c}ms
	Determined least recently used ${i} in `+(s-a)+`ms
	Removed ${o} targets in `+(u-s)+`ms
	Removed ${h} documents in `+(l-u)+`ms
Total Duration: ${l-c}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}}function B3(t,e){return new F3(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n){this.db=e,this.garbageCollector=B3(this,n)}Jn(e){const n=this.Xn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Xn(e){let n=0;return this.Yn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Yn(e,n){return this.er(e,(r,i)=>n(i))}addReference(e,n,r){return kf(e,r)}removeReference(e,n,r){return kf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return kf(e,n)}tr(e,n){return function(i,o){let a=!1;return BN(i).Y(s=>FN(i,s,o).next(u=>(u&&(a=!0),L.resolve(!u)))).next(()=>a)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.er(e,(a,s)=>{if(s<=n){const u=this.tr(e,a).next(l=>{if(!l)return o++,r.getEntry(e,a).next(()=>(r.removeEntry(a,he.min()),zi(e).delete(function(h){return[0,hn(h.path)]}(a))))});i.push(u)}}).next(()=>L.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return kf(e,n)}er(e,n){const r=zi(e);let i,o=_n.oe;return r.J({index:"documentTargetsIndex"},([a,s],{path:u,sequenceNumber:l})=>{a===0?(o!==_n.oe&&n(new ne(Or(i)),o),o=l,i=u):o=_n.oe}).next(()=>{o!==_n.oe&&n(new ne(Or(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function kf(t,e){return zi(t).put(function(r,i){return{targetId:0,path:hn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.changes=new Po(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Bo(e).put(r)}removeEntry(e,n,r){return Bo(e).delete(function(o,a){const s=o.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],tp(a),s[s.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.nr(e,r)))}getEntry(e,n){let r=ht.newInvalidDocument(n);return Bo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(pl(n))},(i,o)=>{r=this.rr(n,o)}).next(()=>r)}ir(e,n){let r={size:0,document:ht.newInvalidDocument(n)};return Bo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(pl(n))},(i,o)=>{r={document:this.rr(n,o),size:rp(o)}}).next(()=>r)}getEntries(e,n){let r=Rn();return this.sr(e,n,(i,o)=>{const a=this.rr(i,o);r=r.insert(i,a)}).next(()=>r)}_r(e,n){let r=Rn(),i=new qe(ne.comparator);return this.sr(e,n,(o,a)=>{const s=this.rr(o,a);r=r.insert(o,s),i=i.insert(o,rp(a))}).next(()=>({documents:r,ar:i}))}sr(e,n,r){if(n.isEmpty())return L.resolve();let i=new Ve(mE);n.forEach(u=>i=i.add(u));const o=IDBKeyRange.bound(pl(i.first()),pl(i.last())),a=i.getIterator();let s=a.getNext();return Bo(e).J({index:"documentKeyIndex",range:o},(u,l,c)=>{const h=ne.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;s&&mE(s,h)<0;)r(s,null),s=a.getNext();s&&s.isEqual(h)&&(r(s,l),s=a.hasNext()?a.getNext():null),s?c.$(pl(s)):c.done()}).next(()=>{for(;s;)r(s,null),s=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const a=n.path,s=[a.popLast().toArray(),a.lastSegment(),tp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Bo(e).U(IDBKeyRange.bound(s,u,!0)).next(l=>{o==null||o.incrementDocumentReadCount(l.length);let c=Rn();for(const h of l){const d=this.rr(ne.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);d.isFoundDocument()&&(Ph(n,d)||i.has(d.key))&&(c=c.insert(d.key,d))}return c})}getAllFromCollectionGroup(e,n,r,i){let o=Rn();const a=pE(n,r),s=pE(n,Ln.max());return Bo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,s,!0)},(u,l,c)=>{const h=this.rr(ne.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(h.key,h),o.size===i&&c.done()}).next(()=>o)}newChangeBuffer(e){return new q3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return dE(e).get("remoteDocumentGlobalKey").next(n=>(ce(!!n),n))}nr(e,n){return dE(e).put("remoteDocumentGlobalKey",n)}rr(e,n){if(n){const r=A3(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(he.min())))return r}return ht.newInvalidDocument(e)}}function zN(t){return new z3(t)}class q3 extends UN{constructor(e,n){super(),this.ur=e,this.trackRemovals=n,this.cr=new Po(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Ve((o,a)=>ge(o.canonicalString(),a.canonicalString()));return this.changes.forEach((o,a)=>{const s=this.cr.get(o);if(n.push(this.ur.removeEntry(e,o,s.readTime)),a.isValidDocument()){const u=ZS(this.ur.serializer,a);i=i.add(o.path.popLast());const l=rp(u);r+=l-s.size,n.push(this.ur.addEntry(e,o,u))}else if(r-=s.size,this.trackRemovals){const u=ZS(this.ur.serializer,a.convertToNoDocument(he.min()));n.push(this.ur.addEntry(e,o,u))}}),i.forEach(o=>{n.push(this.ur.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.ur.updateMetadata(e,r)),L.waitFor(n)}getFromCache(e,n){return this.ur.ir(e,n).next(r=>(this.cr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ur._r(e,n).next(({documents:r,ar:i})=>(i.forEach((o,a)=>{this.cr.set(o,{size:a,readTime:r.get(o).readTime})}),r))}}function dE(t){return St(t,"remoteDocumentGlobal")}function Bo(t){return St(t,"remoteDocumentsV14")}function pl(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function pE(t,e){const n=e.documentKey.path.toArray();return[t,tp(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function mE(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=ge(n[o],r[o]),i)return i;return i=ge(n.length,r.length),i||(i=ge(n[n.length-2],r[r.length-2]),i||ge(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Xl(r.mutation,i,wn.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const i=Cr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=kl();return o.forEach((s,u)=>{a=a.insert(s,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Cr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=Rn();const a=Ql(),s=function(){return Ql()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof Ii)?o=o.insert(l.key,l):c!==void 0?(a.set(l.key,c.mutation.getFieldMask()),Xl(c.mutation,l,c.mutation.getFieldMask(),at.now())):a.set(l.key,wn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,c)=>a.set(l,c)),n.forEach((l,c)=>{var h;return s.set(l,new W3(c,(h=a.get(l))!==null&&h!==void 0?h:null))}),s))}recalculateAndSaveOverlays(e,n){const r=Ql();let i=new qe((a,s)=>a-s),o=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||wn.empty();c=s.applyToLocalView(l,c),r.set(u,c);const h=(i.get(s.batchId)||ve()).add(u);i=i.insert(s.batchId,h)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const u=s.getNext(),l=u.key,c=u.value,h=cN();c.forEach(d=>{if(!o.has(d)){const p=yN(n.get(d),r.get(d));p!==null&&h.set(d,p),o=o.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,l,h))}return L.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ne.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):L.resolve(Cr());let s=-1,u=o;return a.next(l=>L.forEach(l,(c,h)=>(s<h.largestBatchId&&(s=h.largestBatchId),o.get(c)?L.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{u=u.insert(c,d)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ve())).next(c=>({batchId:s,changes:lN(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=kl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=kl();return this.indexManager.getCollectionParents(e,o).next(s=>L.forEach(s,u=>{const l=function(h,d){return new Iu(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(c=>{c.forEach((h,d)=>{a=a.insert(h,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((u,l)=>{const c=l.getKey();a.get(c)===null&&(a=a.insert(c,ht.newInvalidDocument(c)))});let s=kl();return a.forEach((u,l)=>{const c=o.get(u);c!==void 0&&Xl(c.mutation,l,wn.empty(),at.now()),Ph(n,l)&&(s=s.insert(u,l))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return L.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fn(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:$N(i.bundledQuery),readTime:fn(i.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(){this.overlays=new qe(ne.comparator),this.Pr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Cr();return L.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Pr.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const i=Cr(),o=n.length+1,a=new ne(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const u=s.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new qe((l,c)=>l-c);const a=this.overlays.getIterator();for(;a.hasNext();){const l=a.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=o.get(l.largestBatchId);c===null&&(c=Cr(),o=o.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const s=Cr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>s.set(l,c)),!(s.size()>=i)););return L.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new nb(n,r));let o=this.Pr.get(n);o===void 0&&(o=ve(),this.Pr.set(n,o)),this.Pr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(){this.sessionToken=mt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(){this.Ir=new Ve(At.Tr),this.Er=new Ve(At.dr)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new At(e,n);this.Ir=this.Ir.add(r),this.Er=this.Er.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new At(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new ne(new Ce([])),r=new At(n,e),i=new At(n,e+1),o=[];return this.Er.forEachInRange([r,i],a=>{this.Rr(a),o.push(a.key)}),o}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Er=this.Er.delete(e)}pr(e){const n=new ne(new Ce([])),r=new At(n,e),i=new At(n,e+1);let o=ve();return this.Er.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new At(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class At{constructor(e,n){this.key=e,this.yr=n}static Tr(e,n){return ne.comparator(e.key,n.key)||ge(e.yr,n.yr)}static dr(e,n){return ge(e.yr,n.yr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Ve(At.Tr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new eb(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.Sr=this.Sr.add(new At(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return L.resolve(a)}lookupMutationBatch(e,n){return L.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new At(n,0),i=new At(n,Number.POSITIVE_INFINITY),o=[];return this.Sr.forEachInRange([r,i],a=>{const s=this.br(a.yr);o.push(s)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ve(ge);return n.forEach(i=>{const o=new At(i,0),a=new At(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([o,a],s=>{r=r.add(s.yr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ne.isDocumentKey(o)||(o=o.child(""));const a=new At(new ne(o),0);let s=new Ve(ge);return this.Sr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(s=s.add(u.yr)),!0)},a),L.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ce(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return L.forEach(n.mutations,i=>{const o=new At(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new At(n,0),i=this.Sr.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.Fr=e,this.docs=function(){return new qe(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():ht.newInvalidDocument(n))}getEntries(e,n){let r=Rn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ht.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Rn();const a=n.path,s=new ne(a.child("")),u=this.docs.getIteratorFrom(s);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||Kw(LR(c),r)<=0||(i.has(c.key)||Ph(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,n,r,i){se()}Mr(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Y3(this)}getSize(e){return L.resolve(this.size)}}class Y3 extends UN{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e){this.persistence=e,this.Or=new Po(n=>Aa(n),Ih),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Nr=0,this.Lr=new sb,this.targetCount=0,this.Br=Ca.Ln()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),L.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Ca(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Qn(n),L.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Lr.mr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Or.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Or.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Lr.Ar(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Lr.Vr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Lr.mr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Lr.pr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Lr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n){this.kr={},this.overlays={},this.qr=new _n(0),this.Qr=!1,this.Qr=!0,this.Kr=new H3,this.referenceDelegate=e(this),this.$r=new J3(this),this.indexManager=new M3,this.remoteDocumentCache=function(i){return new X3(i)}(r=>this.referenceDelegate.Ur(r)),this.serializer=new DN(n),this.Wr=new G3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new K3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new Q3(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getGlobalsCache(){return this.Kr}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Wr}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new Z3(this.qr.next());return this.referenceDelegate.Gr(),r(i).next(o=>this.referenceDelegate.zr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}jr(e,n){return L.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class Z3 extends jR{constructor(e){super(),this.currentSequenceNumber=e}}class Nm{constructor(e){this.persistence=e,this.Hr=new sb,this.Jr=null}static Yr(e){return new Nm(e)}get Zr(){if(this.Jr)return this.Jr;throw se()}addReference(e,n,r){return this.Hr.addReference(r,n),this.Zr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Hr.removeReference(r,n),this.Zr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Zr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Hr.mr(n.targetId).forEach(i=>this.Zr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Zr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Gr(){this.Jr=new Set}zr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Zr,r=>{const i=ne.fromPath(r);return this.Xr(e,i).next(o=>{o||n.removeEntry(i,he.min())})}).next(()=>(this.Jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Xr(e,n).next(r=>{r?this.Zr.delete(n.toString()):this.Zr.add(n.toString())})}Ur(e){return 0}Xr(e,n){return L.or([()=>L.resolve(this.Hr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.jr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e){this.serializer=e}O(e,n,r,i){const o=new Em("createOrUpgrade",n);r<1&&i>=1&&(function(u){u.createObjectStore("owner")}(e),function(u){u.createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CS,{unique:!0}),u.createObjectStore("documentMutations")}(e),gE(e),function(u){u.createObjectStore("remoteDocuments")}(e));let a=L.resolve();return r<3&&i>=3&&(r!==0&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),gE(e)),a=a.next(()=>function(u){const l=u.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:he.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",c)}(o))),r<4&&i>=4&&(r!==0&&(a=a.next(()=>function(u,l){return l.store("mutations").U().next(c=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CS,{unique:!0});const h=l.store("mutations"),d=c.map(p=>h.put(p));return L.waitFor(d)})}(e,o))),a=a.next(()=>{(function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(a=a.next(()=>this.ti(o))),r<6&&i>=6&&(a=a.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.ni(o)))),r<7&&i>=7&&(a=a.next(()=>this.ri(o))),r<8&&i>=8&&(a=a.next(()=>this.ii(e,o))),r<9&&i>=9&&(a=a.next(()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(a=a.next(()=>this.si(o))),r<11&&i>=11&&(a=a.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(a=a.next(()=>{(function(u){const l=u.createObjectStore("documentOverlays",{keyPath:k4});l.createIndex("collectionPathOverlayIndex",R4,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",N4,{unique:!1})})(e)})),r<13&&i>=13&&(a=a.next(()=>function(u){const l=u.createObjectStore("remoteDocumentsV14",{keyPath:w4});l.createIndex("documentKeyIndex",b4),l.createIndex("collectionGroupIndex",x4)}(e)).next(()=>this.oi(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(a=a.next(()=>this._i(e,o))),r<15&&i>=15&&(a=a.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:A4}).createIndex("sequenceNumberIndex",P4,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:O4}).createIndex("documentKeyIndex",C4,{unique:!1})}(e))),r<16&&i>=16&&(a=a.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(a=a.next(()=>{(function(u){u.createObjectStore("globals",{keyPath:"name"})})(e)})),a}ni(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=rp(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ti(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>L.forEach(i,o=>{const a=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",a).next(s=>L.forEach(s,u=>{ce(u.userId===o.userId);const l=Yo(this.serializer,u);return jN(e,o.userId,l).next(()=>{})}))}))}ri(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((a,s)=>{const u=new Ce(a),l=function(h){return[0,hn(h)]}(u);o.push(n.get(l).next(c=>c?L.resolve():(h=>n.put({targetId:0,path:hn(h),sequenceNumber:i.highestListenSequenceNumber}))(u)))}).next(()=>L.waitFor(o))})}ii(e,n){e.createObjectStore("collectionParents",{keyPath:I4});const r=n.store("collectionParents"),i=new ab,o=a=>{if(i.add(a)){const s=a.lastSegment(),u=a.popLast();return r.put({collectionId:s,parent:hn(u)})}};return n.store("remoteDocuments").J({H:!0},(a,s)=>{const u=new Ce(a);return o(u.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([a,s,u],l)=>{const c=Or(s);return o(c.popLast())}))}si(e){const n=e.store("targets");return n.J((r,i)=>{const o=Nl(i),a=MN(this.serializer,o);return n.put(a)})}oi(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((o,a)=>{const s=n.store("remoteDocumentsV14"),u=function(h){return h.document?new ne(Ce.fromString(h.document.name).popFirst(5)):h.noDocument?ne.fromSegments(h.noDocument.path):h.unknownDocument?ne.fromSegments(h.unknownDocument.path):se()}(a).path.toArray(),l={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(s.put(l))}).next(()=>L.waitFor(i))}_i(e,n){const r=n.store("mutations"),i=zN(this.serializer),o=new WN(Nm.Yr,this.serializer.ct);return r.U().next(a=>{const s=new Map;return a.forEach(u=>{var l;let c=(l=s.get(u.userId))!==null&&l!==void 0?l:ve();Yo(this.serializer,u).keys().forEach(h=>c=c.add(h)),s.set(u.userId,c)}),L.forEach(s,(u,l)=>{const c=new Yt(l),h=km.lt(this.serializer,c),d=o.getIndexManager(c),p=Rm.lt(c,this.serializer,d,o.referenceDelegate);return new qN(i,p,h,d).recalculateAndSaveOverlaysForDocumentKeys(new g0(n,_n.oe),u).next()})})}}function gE(t){t.createObjectStore("targetDocuments",{keyPath:S4}).createIndex("documentTargetsIndex",E4,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",T4,{unique:!0}),t.createObjectStore("targetGlobal")}const ky="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ub{constructor(e,n,r,i,o,a,s,u,l,c,h=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ai=o,this.window=a,this.document=s,this.ui=l,this.ci=c,this.li=h,this.qr=null,this.Qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.hi=null,this.inForeground=!1,this.Pi=null,this.Ii=null,this.Ti=Number.NEGATIVE_INFINITY,this.Ei=d=>Promise.resolve(),!ub.D())throw new J(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new U3(this,i),this.di=n+"main",this.serializer=new DN(u),this.Ai=new co(this.di,this.li,new ez(this.serializer)),this.Kr=new O3,this.$r=new L3(this.referenceDelegate,this.serializer),this.remoteDocumentCache=zN(this.serializer),this.Wr=new P3,this.window&&this.window.localStorage?this.Ri=this.window.localStorage:(this.Ri=null,c===!1&&dt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Vi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new J(B.FAILED_PRECONDITION,ky);return this.mi(),this.fi(),this.gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.$r.getHighestSequenceNumber(e))}).then(e=>{this.qr=new _n(e,this.ui)}).then(()=>{this.Qr=!0}).catch(e=>(this.Ai&&this.Ai.close(),Promise.reject(e)))}pi(e){return this.Ei=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ai.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ai.enqueueAndForget(async()=>{this.started&&await this.Vi()}))}Vi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Rf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.yi(e).next(n=>{n||(this.isPrimary=!1,this.ai.enqueueRetryable(()=>this.Ei(!1)))})}).next(()=>this.wi(e)).next(n=>this.isPrimary&&!n?this.Si(e).next(()=>!1):!!n&&this.bi(e).next(()=>!0))).catch(e=>{if(Ao(e))return W("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return W("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ai.enqueueRetryable(()=>this.Ei(e)),this.isPrimary=e})}yi(e){return ml(e).get("owner").next(n=>L.resolve(this.Di(n)))}Ci(e){return Rf(e).delete(this.clientId)}async vi(){if(this.isPrimary&&!this.Fi(this.Ti,18e5)){this.Ti=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=St(n,"clientMetadata");return r.U().next(i=>{const o=this.Mi(i,18e5),a=i.filter(s=>o.indexOf(s)===-1);return L.forEach(a,s=>r.delete(s.clientId)).next(()=>a)})}).catch(()=>[]);if(this.Ri)for(const n of e)this.Ri.removeItem(this.xi(n.clientId))}}gi(){this.Ii=this.ai.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Vi().then(()=>this.vi()).then(()=>this.gi()))}Di(e){return!!e&&e.ownerId===this.clientId}wi(e){return this.ci?L.resolve(!0):ml(e).get("owner").next(n=>{if(n!==null&&this.Fi(n.leaseTimestampMs,5e3)&&!this.Oi(n.ownerId)){if(this.Di(n)&&this.networkEnabled)return!0;if(!this.Di(n)){if(!n.allowTabSynchronization)throw new J(B.FAILED_PRECONDITION,ky);return!1}}return!(!this.networkEnabled||!this.inForeground)||Rf(e).U().next(r=>this.Mi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,s=this.networkEnabled===i.networkEnabled;if(o||a&&s)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&W("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Qr=!1,this.Ni(),this.Ii&&(this.Ii.cancel(),this.Ii=null),this.Li(),this.Bi(),await this.Ai.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new g0(e,_n.oe);return this.Si(n).next(()=>this.Ci(n))}),this.Ai.close(),this.ki()}Mi(e,n){return e.filter(r=>this.Fi(r.updateTimeMs,n)&&!this.Oi(r.clientId))}qi(){return this.runTransaction("getActiveClients","readonly",e=>Rf(e).U().next(n=>this.Mi(n,18e5).map(r=>r.clientId)))}get started(){return this.Qr}getGlobalsCache(){return this.Kr}getMutationQueue(e,n){return Rm.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $3(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return km.lt(this.serializer,e)}getBundleCache(){return this.Wr}runTransaction(e,n,r){W("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=function(u){return u===17?$4:u===16?M4:u===15?Qw:u===14?WR:u===13?qR:u===12?D4:u===11?zR:void se()}(this.li);let a;return this.Ai.runTransaction(e,i,o,s=>(a=new g0(s,this.qr?this.qr.next():_n.oe),n==="readwrite-primary"?this.yi(a).next(u=>!!u||this.wi(a)).next(u=>{if(!u)throw dt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ai.enqueueRetryable(()=>this.Ei(!1)),new J(B.FAILED_PRECONDITION,VR);return r(a)}).next(u=>this.bi(a).next(()=>u)):this.Qi(a).next(()=>r(a)))).then(s=>(a.raiseOnCommittedEvent(),s))}Qi(e){return ml(e).get("owner").next(n=>{if(n!==null&&this.Fi(n.leaseTimestampMs,5e3)&&!this.Oi(n.ownerId)&&!this.Di(n)&&!(this.ci||this.allowTabSynchronization&&n.allowTabSynchronization))throw new J(B.FAILED_PRECONDITION,ky)})}bi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ml(e).put("owner",n)}static D(){return co.D()}Si(e){const n=ml(e);return n.get("owner").next(r=>this.Di(r)?(W("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):L.resolve())}Fi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(dt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}mi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Pi=()=>{this.ai.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Vi()))},this.document.addEventListener("visibilitychange",this.Pi),this.inForeground=this.document.visibilityState==="visible")}Li(){this.Pi&&(this.document.removeEventListener("visibilitychange",this.Pi),this.Pi=null)}fi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.hi=()=>{this.Ni();const n=/(?:Version|Mobile)\/1[456]/;_R()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ai.enterRestrictedMode(!0),this.ai.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.hi))}Bi(){this.hi&&(this.window.removeEventListener("pagehide",this.hi),this.hi=null)}Oi(e){var n;try{const r=((n=this.Ri)===null||n===void 0?void 0:n.getItem(this.xi(e)))!==null;return W("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return dt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ni(){if(this.Ri)try{this.Ri.setItem(this.xi(this.clientId),String(Date.now()))}catch(e){dt("Failed to set zombie client id.",e)}}ki(){if(this.Ri)try{this.Ri.removeItem(this.xi(this.clientId))}catch{}}xi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ml(t){return St(t,"owner")}function Rf(t){return St(t,"clientMetadata")}function GN(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ki=r,this.$i=i}static Ui(e,n){let r=ve(),i=ve();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new lb(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.Wi=!1,this.Gi=!1,this.zi=100,this.ji=function(){return _R()?8:FR(_t())>0?6:4}()}initialize(e,n){this.Hi=e,this.indexManager=n,this.Wi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Ji(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Yi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new tz;return this.Zi(e,n,a).next(s=>{if(o.result=s,this.Gi)return this.Xi(e,n,a,s.size)})}).next(()=>o.result)}Xi(e,n,r,i){return r.documentReadCount<this.zi?(ss()<=be.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",us(n),"since it only creates cache indexes for collection contains","more than or equal to",this.zi,"documents"),L.resolve()):(ss()<=be.DEBUG&&W("QueryEngine","Query:",us(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ji*i?(ss()<=be.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",us(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dn(n))):L.resolve())}Ji(e,n){if(US(n))return L.resolve(null);let r=Dn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=T0(n,null,"F"),r=Dn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=ve(...o);return this.Hi.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.es(n,s);return this.ts(n,l,a,u.readTime)?this.Ji(e,T0(n,null,"F")):this.ns(e,l,n,u)}))})))}Yi(e,n,r,i){return US(n)||i.isEqual(he.min())?L.resolve(null):this.Hi.getDocuments(e,r).next(o=>{const a=this.es(n,o);return this.ts(n,a,r,i)?L.resolve(null):(ss()<=be.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),us(n)),this.ns(e,a,n,$R(i,-1)).next(s=>s))})}es(e,n){let r=new Ve(sN(e));return n.forEach((i,o)=>{Ph(e,o)&&(r=r.add(o))}),r}ts(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Zi(e,n,r){return ss()<=be.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",us(n)),this.Hi.getDocumentsMatchingQuery(e,n,Ln.min(),r)}ns(e,n,r,i){return this.Hi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e,n,r,i){this.persistence=e,this.rs=n,this.serializer=i,this.ss=new qe(ge),this.os=new Po(o=>Aa(o),Ih),this._s=new Map,this.us=e.getRemoteDocumentCache(),this.$r=e.getTargetCache(),this.Wr=e.getBundleCache(),this.cs(r)}cs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qN(this.us,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.us.setIndexManager(this.indexManager),this.rs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ss))}}function HN(t,e,n,r){return new nz(t,e,n,r)}async function QN(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.cs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let u=ve();for(const l of i){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of o){s.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({ls:l,removedBatchIds:a,addedBatchIds:s}))})})}function rz(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.us.newChangeBuffer({trackRemovals:!0});return function(s,u,l,c){const h=l.batch,d=h.keys();let p=L.resolve();return d.forEach(_=>{p=p.next(()=>c.getEntry(u,_)).next(g=>{const v=l.docVersions.get(_);ce(v!==null),g.version.compareTo(v)<0&&(h.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),c.addEntry(g)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(u,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let u=ve();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(u=u.add(s.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function XN(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.$r.getLastRemoteSnapshotVersion(n))}function iz(t,e){const n=ue(t),r=e.snapshotVersion;let i=n.ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.us.newChangeBuffer({trackRemovals:!0});i=n.ss;const s=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;s.push(n.$r.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.$r.addMatchingKeys(o,c.addedDocuments,h)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(mt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(g,v,b){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(d,p,c)&&s.push(n.$r.updateTargetData(o,p))});let u=Rn(),l=ve();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(oz(o,a,e.documentUpdates).next(c=>{u=c.hs,l=c.Ps})),!r.isEqual(he.min())){const c=n.$r.getLastRemoteSnapshotVersion(o).next(h=>n.$r.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return L.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.ss=i,o))}function oz(t,e,n){let r=ve(),i=ve();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Rn();return n.forEach((s,u)=>{const l=o.get(s);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(s)),u.isNoDocument()&&u.version.isEqual(he.min())?(e.removeEntry(s,u.readTime),a=a.insert(s,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),a=a.insert(s,u)):W("LocalStore","Ignoring outdated watch update for ",s,". Current version:",l.version," Watch version:",u.version)}),{hs:a,Ps:i}})}function az(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ip(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.$r.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):n.$r.allocateTargetId(r).next(a=>(i=new ei(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.$r.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ss=n.ss.insert(r.targetId,r),n.os.set(e,r.targetId)),r})}async function Js(t,e,n){const r=ue(t),i=r.ss.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Ao(a))throw a;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ss=r.ss.remove(e),r.os.delete(i.target)}function k0(t,e,n){const r=ue(t);let i=he.min(),o=ve();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,l,c){const h=ue(u),d=h.os.get(c);return d!==void 0?L.resolve(h.ss.get(d)):h.$r.getTargetData(l,c)}(r,a,Dn(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.$r.getMatchingKeysForTargetId(a,s.targetId).next(u=>{o=u})}).next(()=>r.rs.getDocumentsMatchingQuery(a,e,n?i:he.min(),n?o:ve())).next(s=>(ZN(r,aN(e),s),{documents:s,Is:o})))}function YN(t,e){const n=ue(t),r=ue(n.$r),i=n.ss.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r.ot(o,e).next(a=>a?a.target:null))}function JN(t,e){const n=ue(t),r=n._s.get(e)||he.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.us.getAllFromCollectionGroup(i,e,$R(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(ZN(n,e,i),i))}function ZN(t,e,n){let r=t._s.get(e)||he.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t._s.set(e,r)}function yE(t,e){return`firestore_clients_${t}_${e}`}function vE(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Ry(t,e){return`firestore_targets_${t}_${e}`}class op{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static As(e,n,r){const i=JSON.parse(r);let o,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(o=new J(i.error.code,i.error.message))),a?new op(e,n,i.state,o):(dt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Rs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yl{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static As(e,n){const r=JSON.parse(n);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new J(r.error.code,r.error.message))),o?new Yl(e,r.state,i):(dt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Rs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ap{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static As(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Zw();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=BR(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new ap(e,o):(dt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class cb{constructor(e,n){this.clientId=e,this.onlineState=n}static As(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new cb(n.clientId,n.onlineState):(dt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class R0{constructor(){this.activeTargetIds=Zw()}Vs(e){this.activeTargetIds=this.activeTargetIds.add(e)}fs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Rs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ny{constructor(e,n,r,i,o){this.window=e,this.ai=n,this.persistenceKey=r,this.gs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ps=this.ys.bind(this),this.ws=new qe(ge),this.started=!1,this.Ss=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.bs=yE(this.persistenceKey,this.gs),this.Ds=function(u){return`firestore_sequence_number_${u}`}(this.persistenceKey),this.ws=this.ws.insert(this.gs,new R0),this.Cs=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.vs=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Fs=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.Ms=function(u){return`firestore_online_state_${u}`}(this.persistenceKey),this.xs=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.ps)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.qi();for(const r of e){if(r===this.gs)continue;const i=this.getItem(yE(this.persistenceKey,r));if(i){const o=ap.As(r,i);o&&(this.ws=this.ws.insert(o.clientId,o))}}this.Os();const n=this.storage.getItem(this.Ms);if(n){const r=this.Ns(n);r&&this.Ls(r)}for(const r of this.Ss)this.ys(r);this.Ss=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ds,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Bs(this.ws)}isActiveQueryTarget(e){let n=!1;return this.ws.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.ks(e,"pending")}updateMutationState(e,n,r){this.ks(e,n,r),this.qs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Ry(this.persistenceKey,e));if(r){const i=Yl.As(e,r);i&&(n=i.state)}}return this.Qs.Vs(e),this.Os(),n}removeLocalQueryTarget(e){this.Qs.fs(e),this.Os()}isLocalQueryTarget(e){return this.Qs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ry(this.persistenceKey,e))}updateQueryState(e,n,r){this.Ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.$s(e)}notifyBundleLoaded(e){this.Us(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ps),this.removeItem(this.bs),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return W("SharedClientState","READ",e,n),n}setItem(e,n){W("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){W("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ys(e){const n=e;if(n.storageArea===this.storage){if(W("SharedClientState","EVENT",n.key,n.newValue),n.key===this.bs)return void dt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ai.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Cs.test(n.key)){if(n.newValue==null){const r=this.Ws(n.key);return this.Gs(r,null)}{const r=this.zs(n.key,n.newValue);if(r)return this.Gs(r.clientId,r)}}else if(this.vs.test(n.key)){if(n.newValue!==null){const r=this.js(n.key,n.newValue);if(r)return this.Hs(r)}}else if(this.Fs.test(n.key)){if(n.newValue!==null){const r=this.Js(n.key,n.newValue);if(r)return this.Ys(r)}}else if(n.key===this.Ms){if(n.newValue!==null){const r=this.Ns(n.newValue);if(r)return this.Ls(r)}}else if(n.key===this.Ds){const r=function(o){let a=_n.oe;if(o!=null)try{const s=JSON.parse(o);ce(typeof s=="number"),a=s}catch(s){dt("SharedClientState","Failed to read sequence number from WebStorage",s)}return a}(n.newValue);r!==_n.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.xs){const r=this.Zs(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Xs(i)))}}}else this.Ss.push(n)})}}get Qs(){return this.ws.get(this.gs)}Os(){this.setItem(this.bs,this.Qs.Rs())}ks(e,n,r){const i=new op(this.currentUser,e,n,r),o=vE(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Rs())}qs(e){const n=vE(this.persistenceKey,this.currentUser,e);this.removeItem(n)}$s(e){const n={clientId:this.gs,onlineState:e};this.storage.setItem(this.Ms,JSON.stringify(n))}Ks(e,n,r){const i=Ry(this.persistenceKey,e),o=new Yl(e,n,r);this.setItem(i,o.Rs())}Us(e){const n=JSON.stringify(Array.from(e));this.setItem(this.xs,n)}Ws(e){const n=this.Cs.exec(e);return n?n[1]:null}zs(e,n){const r=this.Ws(e);return ap.As(r,n)}js(e,n){const r=this.vs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return op.As(new Yt(o),i,n)}Js(e,n){const r=this.Fs.exec(e),i=Number(r[1]);return Yl.As(i,n)}Ns(e){return cb.As(e)}Zs(e){return JSON.parse(e)}async Hs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.eo(e.batchId,e.state,e.error);W("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Ys(e){return this.syncEngine.no(e.targetId,e.state,e.error)}Gs(e,n){const r=n?this.ws.insert(e,n):this.ws.remove(e),i=this.Bs(this.ws),o=this.Bs(r),a=[],s=[];return o.forEach(u=>{i.has(u)||a.push(u)}),i.forEach(u=>{o.has(u)||s.push(u)}),this.syncEngine.ro(a,s).then(()=>{this.ws=r})}Ls(e){this.ws.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Bs(e){let n=Zw();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class eD{constructor(){this.io=new R0,this.so={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.io.Vs(e),this.so[e]||"not-current"}updateQueryState(e,n,r){this.so[e]=n}removeLocalQueryTarget(e){this.io.fs(e)}isLocalQueryTarget(e){return this.io.activeTargetIds.has(e)}clearQueryState(e){delete this.so[e]}getAllActiveQueryTargets(){return this.io.activeTargetIds}isActiveQueryTarget(e){return this.io.activeTargetIds.has(e)}start(){return this.io=new R0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this._o=()=>this.ao(),this.uo=()=>this.co(),this.lo=[],this.ho()}oo(e){this.lo.push(e)}shutdown(){window.removeEventListener("online",this._o),window.removeEventListener("offline",this.uo)}ho(){window.addEventListener("online",this._o),window.addEventListener("offline",this.uo)}ao(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.lo)e(0)}co(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.lo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nf=null;function Dy(){return Nf===null?Nf=function(){return 268435456+Math.round(2147483648*Math.random())}():Nf++,"0x"+Nf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e){this.Po=e.Po,this.Io=e.Io}To(e){this.Eo=e}Ao(e){this.Ro=e}Vo(e){this.mo=e}onMessage(e){this.fo=e}close(){this.Io()}send(e){this.Po(e)}po(){this.Eo()}yo(){this.Ro()}wo(e){this.mo(e)}So(e){this.fo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class cz extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.bo=r+"://"+n.host,this.Do=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get vo(){return!1}Fo(n,r,i,o,a){const s=Dy(),u=this.Mo(n,r.toUriEncodedString());W("RestConnection",`Sending RPC '${n}' ${s}:`,u,i);const l={"google-cloud-resource-prefix":this.Do,"x-goog-request-params":this.Co};return this.xo(l,o,a),this.Oo(n,u,l,i).then(c=>(W("RestConnection",`Received RPC '${n}' ${s}: `,c),c),c=>{throw Sa("RestConnection",`RPC '${n}' ${s} failed with error: `,c,"url: ",u,"request:",i),c})}No(n,r,i,o,a,s){return this.Fo(n,r,i,o,a)}xo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Eu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}Mo(n,r){const i=uz[n];return`${this.bo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Oo(e,n,r,i){const o=Dy();return new Promise((a,s)=>{const u=new PR;u.setWithCredentials(!0),u.listenOnce(CR.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ud.NO_ERROR:const c=u.getResponseJson();W(Qt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),a(c);break;case ud.TIMEOUT:W(Qt,`RPC '${e}' ${o} timed out`),s(new J(B.DEADLINE_EXCEEDED,"Request time out"));break;case ud.HTTP_ERROR:const h=u.getStatus();if(W(Qt,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const _=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(b)>=0?b:B.UNKNOWN}(p.status);s(new J(_,p.message))}else s(new J(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else s(new J(B.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{W(Qt,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(i);W(Qt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Lo(e,n,r){const i=Dy(),o=[this.bo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=NR(),s=RR(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new OR({})),this.xo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=o.join("");W(Qt,`Creating RPC '${e}' stream ${i}: ${c}`,u);const h=a.createWebChannel(c,u);let d=!1,p=!1;const _=new lz({Po:v=>{p?W(Qt,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(W(Qt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),W(Qt,`RPC '${e}' stream ${i} sending:`,v),h.send(v))},Io:()=>h.close()}),g=(v,b,y)=>{v.listen(b,w=>{try{y(w)}catch(x){setTimeout(()=>{throw x},0)}})};return g(h,Cl.EventType.OPEN,()=>{p||(W(Qt,`RPC '${e}' stream ${i} transport opened.`),_.po())}),g(h,Cl.EventType.CLOSE,()=>{p||(p=!0,W(Qt,`RPC '${e}' stream ${i} transport closed`),_.wo())}),g(h,Cl.EventType.ERROR,v=>{p||(p=!0,Sa(Qt,`RPC '${e}' stream ${i} transport errored:`,v),_.wo(new J(B.UNAVAILABLE,"The operation could not be completed")))}),g(h,Cl.EventType.MESSAGE,v=>{var b;if(!p){const y=v.data[0];ce(!!y);const w=y,x=w.error||((b=w[0])===null||b===void 0?void 0:b.error);if(x){W(Qt,`RPC '${e}' stream ${i} received error:`,x);const T=x.status;let A=function(P){const O=gt[P];if(O!==void 0)return wN(O)}(T),I=x.message;A===void 0&&(A=B.INTERNAL,I="Unknown error status: "+T+" with message "+x.message),p=!0,_.wo(new J(A,I)),h.close()}else W(Qt,`RPC '${e}' stream ${i} received:`,y),_.So(y)}}),g(s,kR.STAT_EVENT,v=>{v.stat===p0.PROXY?W(Qt,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===p0.NOPROXY&&W(Qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.yo()},0),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(){return typeof window<"u"?window:null}function md(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t){return new y3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ai=e,this.timerId=n,this.Bo=r,this.ko=i,this.qo=o,this.Qo=0,this.Ko=null,this.$o=Date.now(),this.reset()}reset(){this.Qo=0}Uo(){this.Qo=this.qo}Wo(e){this.cancel();const n=Math.floor(this.Qo+this.Go()),r=Math.max(0,Date.now()-this.$o),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Qo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ko=this.ai.enqueueAfterDelay(this.timerId,i,()=>(this.$o=Date.now(),e())),this.Qo*=this.ko,this.Qo<this.Bo&&(this.Qo=this.Bo),this.Qo>this.qo&&(this.Qo=this.qo)}zo(){this.Ko!==null&&(this.Ko.skipDelay(),this.Ko=null)}cancel(){this.Ko!==null&&(this.Ko.cancel(),this.Ko=null)}Go(){return(Math.random()-.5)*this.Qo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,n,r,i,o,a,s,u){this.ai=e,this.jo=r,this.Ho=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Jo=0,this.Yo=null,this.Zo=null,this.stream=null,this.Xo=0,this.e_=new nD(e,n)}t_(){return this.state===1||this.state===5||this.n_()}n_(){return this.state===2||this.state===3}start(){this.Xo=0,this.state!==4?this.auth():this.r_()}async stop(){this.t_()&&await this.close(0)}i_(){this.state=0,this.e_.reset()}s_(){this.n_()&&this.Yo===null&&(this.Yo=this.ai.enqueueAfterDelay(this.jo,6e4,()=>this.o_()))}__(e){this.a_(),this.stream.send(e)}async o_(){if(this.n_())return this.close(0)}a_(){this.Yo&&(this.Yo.cancel(),this.Yo=null)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}async close(e,n){this.a_(),this.u_(),this.e_.cancel(),this.Jo++,e!==4?this.e_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(dt(n.toString()),dt("Using maximum backoff delay to prevent overloading the backend."),this.e_.Uo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.c_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Vo(n)}c_(){}auth(){this.state=1;const e=this.l_(this.Jo),n=this.Jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Jo===n&&this.h_(r,i)},r=>{e(()=>{const i=new J(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.P_(i)})})}h_(e,n){const r=this.l_(this.Jo);this.stream=this.I_(e,n),this.stream.To(()=>{r(()=>this.listener.To())}),this.stream.Ao(()=>{r(()=>(this.state=2,this.Zo=this.ai.enqueueAfterDelay(this.Ho,1e4,()=>(this.n_()&&(this.state=3),Promise.resolve())),this.listener.Ao()))}),this.stream.Vo(i=>{r(()=>this.P_(i))}),this.stream.onMessage(i=>{r(()=>++this.Xo==1?this.T_(i):this.onNext(i))})}r_(){this.state=5,this.e_.Wo(async()=>{this.state=0,this.start()})}P_(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}l_(e){return n=>{this.ai.enqueueAndForget(()=>this.Jo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hz extends rD{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}I_(e,n){return this.connection.Lo("Listen",e,n)}T_(e){return this.onNext(e)}onNext(e){this.e_.reset();const n=w3(this.serializer,e),r=function(o){if(!("targetChange"in o))return he.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?he.min():a.readTime?fn(a.readTime):he.min()}(e);return this.listener.E_(n,r)}d_(e){const n={};n.database=I0(this.serializer),n.addTarget=function(o,a){let s;const u=a.target;if(s=Yd(u)?{documents:PN(o,u)}:{query:ON(o,u)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=TN(o,a.resumeToken);const l=S0(o,a.expectedCount);l!==null&&(s.expectedCount=l)}else if(a.snapshotVersion.compareTo(he.min())>0){s.readTime=Ys(o,a.snapshotVersion.toTimestamp());const l=S0(o,a.expectedCount);l!==null&&(s.expectedCount=l)}return s}(this.serializer,e);const r=x3(this.serializer,e);r&&(n.labels=r),this.__(n)}A_(e){const n={};n.database=I0(this.serializer),n.removeTarget=e,this.__(n)}}class fz extends rD{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get R_(){return this.Xo>0}start(){this.lastStreamToken=void 0,super.start()}c_(){this.R_&&this.V_([])}I_(e,n){return this.connection.Lo("Write",e,n)}T_(e){return ce(!!e.streamToken),this.lastStreamToken=e.streamToken,ce(!e.writeResults||e.writeResults.length===0),this.listener.m_()}onNext(e){ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.e_.reset();const n=b3(e.writeResults,e.commitTime),r=fn(e.commitTime);return this.listener.f_(r,n)}g_(){const e={};e.database=I0(this.serializer),this.__(e)}V_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ep(this.serializer,r))};this.__(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.p_=!1}y_(){if(this.p_)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.")}Fo(e,n,r,i){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Fo(e,E0(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(B.UNKNOWN,o.toString())})}No(e,n,r,i,o){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.No(e,E0(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new J(B.UNKNOWN,a.toString())})}terminate(){this.p_=!0,this.connection.terminate()}}class pz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.w_=0,this.S_=null,this.b_=!0}D_(){this.w_===0&&(this.C_("Unknown"),this.S_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.S_=null,this.v_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}F_(e){this.state==="Online"?this.C_("Unknown"):(this.w_++,this.w_>=1&&(this.M_(),this.v_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.M_(),this.w_=0,e==="Online"&&(this.b_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}v_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.b_?(dt(n),this.b_=!1):W("OnlineStateTracker",n)}M_(){this.S_!==null&&(this.S_.cancel(),this.S_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.x_=[],this.O_=new Map,this.N_=new Set,this.L_=[],this.B_=o,this.B_.oo(a=>{r.enqueueAndForget(async()=>{Ua(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=ue(u);l.N_.add(4),await kh(l),l.k_.set("Unknown"),l.N_.delete(4),await Mm(l)}(this))})}),this.k_=new pz(r,i)}}async function Mm(t){if(Ua(t))for(const e of t.L_)await e(!0)}async function kh(t){for(const e of t.L_)await e(!1)}function $m(t,e){const n=ue(t);n.O_.has(e.targetId)||(n.O_.set(e.targetId,e),db(n)?fb(n):Ou(n).n_()&&hb(n,e))}function Zs(t,e){const n=ue(t),r=Ou(n);n.O_.delete(e),r.n_()&&iD(n,e),n.O_.size===0&&(r.n_()?r.s_():Ua(n)&&n.k_.set("Unknown"))}function hb(t,e){if(t.q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ou(t).d_(e)}function iD(t,e){t.q_.xe(e),Ou(t).A_(e)}function fb(t){t.q_=new d3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.O_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ou(t).start(),t.k_.D_()}function db(t){return Ua(t)&&!Ou(t).t_()&&t.O_.size>0}function Ua(t){return ue(t).N_.size===0}function oD(t){t.q_=void 0}async function gz(t){t.k_.set("Online")}async function yz(t){t.O_.forEach((e,n)=>{hb(t,e)})}async function vz(t,e){oD(t),db(t)?(t.k_.F_(e),fb(t)):t.k_.set("Unknown")}async function _z(t,e,n){if(t.k_.set("Online"),e instanceof xN&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.O_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.O_.delete(s),i.q_.removeTarget(s))}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sp(t,r)}else if(e instanceof pd?t.q_.Ke(e):e instanceof bN?t.q_.He(e):t.q_.We(e),!n.isEqual(he.min()))try{const r=await XN(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.q_.rt(a);return s.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=o.O_.get(l);c&&o.O_.set(l,c.withResumeToken(u.resumeToken,a))}}),s.targetMismatches.forEach((u,l)=>{const c=o.O_.get(u);if(!c)return;o.O_.set(u,c.withResumeToken(mt.EMPTY_BYTE_STRING,c.snapshotVersion)),iD(o,u);const h=new ei(c.target,u,l,c.sequenceNumber);hb(o,h)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){W("RemoteStore","Failed to raise snapshot:",r),await sp(t,r)}}async function sp(t,e,n){if(!Ao(e))throw e;t.N_.add(1),await kh(t),t.k_.set("Offline"),n||(n=()=>XN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t.N_.delete(1),await Mm(t)})}function aD(t,e){return e().catch(n=>sp(t,n,e))}async function Pu(t){const e=ue(t),n=wo(e);let r=e.x_.length>0?e.x_[e.x_.length-1].batchId:-1;for(;wz(e);)try{const i=await az(e.localStore,r);if(i===null){e.x_.length===0&&n.s_();break}r=i.batchId,bz(e,i)}catch(i){await sp(e,i)}sD(e)&&uD(e)}function wz(t){return Ua(t)&&t.x_.length<10}function bz(t,e){t.x_.push(e);const n=wo(t);n.n_()&&n.R_&&n.V_(e.mutations)}function sD(t){return Ua(t)&&!wo(t).t_()&&t.x_.length>0}function uD(t){wo(t).start()}async function xz(t){wo(t).g_()}async function Tz(t){const e=wo(t);for(const n of t.x_)e.V_(n.mutations)}async function Sz(t,e,n){const r=t.x_.shift(),i=tb.from(r,e,n);await aD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Pu(t)}async function Ez(t,e){e&&wo(t).R_&&await async function(r,i){if(function(a){return c3(a)&&a!==B.ABORTED}(i.code)){const o=r.x_.shift();wo(r).i_(),await aD(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Pu(r)}}(t,e),sD(t)&&uD(t)}async function wE(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const r=Ua(n);n.N_.add(3),await kh(n),r&&n.k_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.N_.delete(3),await Mm(n)}async function N0(t,e){const n=ue(t);e?(n.N_.delete(2),await Mm(n)):e||(n.N_.add(2),await kh(n),n.k_.set("Unknown"))}function Ou(t){return t.Q_||(t.Q_=function(n,r,i){const o=ue(n);return o.y_(),new hz(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{To:gz.bind(null,t),Ao:yz.bind(null,t),Vo:vz.bind(null,t),E_:_z.bind(null,t)}),t.L_.push(async e=>{e?(t.Q_.i_(),db(t)?fb(t):t.k_.set("Unknown")):(await t.Q_.stop(),oD(t))})),t.Q_}function wo(t){return t.K_||(t.K_=function(n,r,i){const o=ue(n);return o.y_(),new fz(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{To:()=>Promise.resolve(),Ao:xz.bind(null,t),Vo:Ez.bind(null,t),m_:Tz.bind(null,t),f_:Sz.bind(null,t)}),t.L_.push(async e=>{e?(t.K_.i_(),await Pu(t)):(await t.K_.stop(),t.x_.length>0&&(W("RemoteStore",`Stopping write stream with ${t.x_.length} pending writes`),t.x_=[]))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new pb(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mb(t,e){if(dt("AsyncQueue",`${e}: ${t}`),Ao(t))return new J(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=kl(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new ks(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ks)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ks;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(){this.U_=new qe(ne.comparator)}track(e){const n=e.doc.key,r=this.U_.get(n);r?e.type!==0&&r.type===3?this.U_=this.U_.insert(n,e):e.type===3&&r.type!==1?this.U_=this.U_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.U_=this.U_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.U_=this.U_.remove(n):e.type===1&&r.type===2?this.U_=this.U_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):se():this.U_=this.U_.insert(n,e)}W_(){const e=[];return this.U_.inorderTraversal((n,r)=>{e.push(r)}),e}}class eu{constructor(e,n,r,i,o,a,s,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new eu(e,n,ks.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Am(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(){this.G_=void 0,this.z_=[]}j_(){return this.z_.some(e=>e.H_())}}class Az{constructor(){this.queries=xE(),this.onlineState="Unknown",this.J_=new Set}terminate(){(function(n,r){const i=ue(n),o=i.queries;i.queries=xE(),o.forEach((a,s)=>{for(const u of s.z_)u.onError(r)})})(this,new J(B.ABORTED,"Firestore shutting down"))}}function xE(){return new Po(t=>oN(t),Am)}async function gb(t,e){const n=ue(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.j_()&&e.H_()&&(r=2):(o=new Iz,r=e.H_()?0:1);try{switch(r){case 0:o.G_=await n.onListen(i,!0);break;case 1:o.G_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=mb(a,`Initialization of query '${us(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.z_.push(e),e.Y_(n.onlineState),o.G_&&e.Z_(o.G_)&&vb(n)}async function yb(t,e){const n=ue(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.z_.indexOf(e);a>=0&&(o.z_.splice(a,1),o.z_.length===0?i=e.H_()?0:1:!o.j_()&&e.H_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Pz(t,e){const n=ue(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.z_)s.Z_(i)&&(r=!0);a.G_=i}}r&&vb(n)}function Oz(t,e,n){const r=ue(t),i=r.queries.get(e);if(i)for(const o of i.z_)o.onError(n);r.queries.delete(e)}function vb(t){t.J_.forEach(e=>{e.next()})}var D0,TE;(TE=D0||(D0={})).X_="default",TE.Cache="cache";class _b{constructor(e,n,r){this.query=e,this.ea=n,this.ta=!1,this.na=null,this.onlineState="Unknown",this.options=r||{}}Z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new eu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ta?this.ra(e)&&(this.ea.next(e),n=!0):this.ia(e,this.onlineState)&&(this.sa(e),n=!0),this.na=e,n}onError(e){this.ea.error(e)}Y_(e){this.onlineState=e;let n=!1;return this.na&&!this.ta&&this.ia(this.na,e)&&(this.sa(this.na),n=!0),n}ia(e,n){if(!e.fromCache||!this.H_())return!0;const r=n!=="Offline";return(!this.options.oa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ra(e){if(e.docChanges.length>0)return!0;const n=this.na&&this.na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}sa(e){e=eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ta=!0,this.ea.next(e)}H_(){return this.options.source!==D0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.key=e}}class cD{constructor(e){this.key=e}}class Cz{constructor(e,n){this.query=e,this.Ia=n,this.Ta=null,this.hasCachedResults=!1,this.current=!1,this.Ea=ve(),this.mutatedKeys=ve(),this.da=sN(e),this.Aa=new ks(this.da)}get Ra(){return this.Ia}Va(e,n){const r=n?n.ma:new bE,i=n?n.Aa:this.Aa;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),p=Ph(this.query,h)?h:null,_=!!d&&this.mutatedKeys.has(d.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;d&&p?d.data.isEqual(p.data)?_!==g&&(r.track({type:3,doc:p}),v=!0):this.fa(d,p)||(r.track({type:2,doc:p}),v=!0,(u&&this.da(p,u)>0||l&&this.da(p,l)<0)&&(s=!0)):!d&&p?(r.track({type:0,doc:p}),v=!0):d&&!p&&(r.track({type:1,doc:d}),v=!0,(u||l)&&(s=!0)),v&&(p?(a=a.add(p),o=g?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Aa:a,ma:r,ts:s,mutatedKeys:o}}fa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Aa;this.Aa=e.Aa,this.mutatedKeys=e.mutatedKeys;const a=e.ma.W_();a.sort((c,h)=>function(p,_){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return g(p)-g(_)}(c.type,h.type)||this.da(c.doc,h.doc)),this.ga(r),i=i!=null&&i;const s=n&&!i?this.pa():[],u=this.Ea.size===0&&this.current&&!i?1:0,l=u!==this.Ta;return this.Ta=u,a.length!==0||l?{snapshot:new eu(this.query,e.Aa,o,a,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ya:s}:{ya:s}}Y_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Aa:this.Aa,ma:new bE,mutatedKeys:this.mutatedKeys,ts:!1},!1)):{ya:[]}}wa(e){return!this.Ia.has(e)&&!!this.Aa.has(e)&&!this.Aa.get(e).hasLocalMutations}ga(e){e&&(e.addedDocuments.forEach(n=>this.Ia=this.Ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ia=this.Ia.delete(n)),this.current=e.current)}pa(){if(!this.current)return[];const e=this.Ea;this.Ea=ve(),this.Aa.forEach(r=>{this.wa(r.key)&&(this.Ea=this.Ea.add(r.key))});const n=[];return e.forEach(r=>{this.Ea.has(r)||n.push(new cD(r))}),this.Ea.forEach(r=>{e.has(r)||n.push(new lD(r))}),n}Sa(e){this.Ia=e.Is,this.Ea=ve();const n=this.Va(e.documents);return this.applyChanges(n,!0)}ba(){return eu.fromInitialDocuments(this.query,this.Aa,this.mutatedKeys,this.Ta===0,this.hasCachedResults)}}class kz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Rz{constructor(e){this.key=e,this.Da=!1}}class Nz{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.va=new Po(s=>oN(s),Am),this.Fa=new Map,this.Ma=new Set,this.xa=new qe(ne.comparator),this.Oa=new Map,this.Na=new sb,this.La={},this.Ba=new Map,this.ka=Ca.Bn(),this.onlineState="Unknown",this.qa=void 0}get isPrimaryClient(){return this.qa===!0}}async function Dz(t,e,n=!0){const r=Lm(t);let i;const o=r.va.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ba()):i=await hD(r,e,n,!0),i}async function Mz(t,e){const n=Lm(t);await hD(n,e,!0,!1)}async function hD(t,e,n,r){const i=await ip(t.localStore,Dn(e)),o=i.targetId,a=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let s;return r&&(s=await wb(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&$m(t.remoteStore,i),s}async function wb(t,e,n,r,i){t.Qa=(h,d,p)=>async function(g,v,b,y){let w=v.view.Va(b);w.ts&&(w=await k0(g.localStore,v.query,!1).then(({documents:I})=>v.view.Va(I,w)));const x=y&&y.targetChanges.get(v.targetId),T=y&&y.targetMismatches.get(v.targetId)!=null,A=v.view.applyChanges(w,g.isPrimaryClient,x,T);return M0(g,v.targetId,A.ya),A.snapshot}(t,h,d,p);const o=await k0(t.localStore,e,!0),a=new Cz(e,o.Is),s=a.Va(o.documents),u=Ch.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=a.applyChanges(s,t.isPrimaryClient,u);M0(t,n,l.ya);const c=new kz(e,n,a);return t.va.set(e,c),t.Fa.has(n)?t.Fa.get(n).push(e):t.Fa.set(n,[e]),l.snapshot}async function $z(t,e,n){const r=ue(t),i=r.va.get(e),o=r.Fa.get(i.targetId);if(o.length>1)return r.Fa.set(i.targetId,o.filter(a=>!Am(a,e))),void r.va.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Js(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Zs(r.remoteStore,i.targetId),tu(r,i.targetId)}).catch(Io)):(tu(r,i.targetId),await Js(r.localStore,i.targetId,!0))}async function Lz(t,e){const n=ue(t),r=n.va.get(e),i=n.Fa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zs(n.remoteStore,r.targetId))}async function Vz(t,e,n){const r=Sb(t);try{const i=await function(a,s){const u=ue(a),l=at.now(),c=s.reduce((p,_)=>p.add(_.key),ve());let h,d;return u.persistence.runTransaction("Locally write mutations","readwrite",p=>{let _=Rn(),g=ve();return u.us.getEntries(p,c).next(v=>{_=v,_.forEach((b,y)=>{y.isValidDocument()||(g=g.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(p,_)).next(v=>{h=v;const b=[];for(const y of s){const w=u3(y,h.get(y.key).overlayedDocument);w!=null&&b.push(new Ii(y.key,w,QR(w.value.mapValue),un.exists(!0)))}return u.mutationQueue.addMutationBatch(p,l,b,s)}).next(v=>{d=v;const b=v.applyToLocalDocumentSet(h,g);return u.documentOverlayCache.saveOverlays(p,v.batchId,b)})}).then(()=>({batchId:d.batchId,changes:lN(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,u){let l=a.La[a.currentUser.toKey()];l||(l=new qe(ge)),l=l.insert(s,u),a.La[a.currentUser.toKey()]=l}(r,i.batchId,n),await Oo(r,i.changes),await Pu(r.remoteStore)}catch(i){const o=mb(i,"Failed to persist write");n.reject(o)}}async function fD(t,e){const n=ue(t);try{const r=await iz(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Oa.get(o);a&&(ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.Da=!0:i.modifiedDocuments.size>0?ce(a.Da):i.removedDocuments.size>0&&(ce(a.Da),a.Da=!1))}),await Oo(n,r,e)}catch(r){await Io(r)}}function SE(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.va.forEach((o,a)=>{const s=a.view.Y_(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const u=ue(a);u.onlineState=s;let l=!1;u.queries.forEach((c,h)=>{for(const d of h.z_)d.Y_(s)&&(l=!0)}),l&&vb(u)}(r.eventManager,e),i.length&&r.Ca.E_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jz(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Oa.get(e),o=i&&i.key;if(o){let a=new qe(ne.comparator);a=a.insert(o,ht.newNoDocument(o,he.min()));const s=ve().add(o),u=new Oh(he.min(),new Map,new qe(ge),a,s);await fD(r,u),r.xa=r.xa.remove(o),r.Oa.delete(e),Tb(r)}else await Js(r.localStore,e,!1).then(()=>tu(r,e,n)).catch(Io)}async function Fz(t,e){const n=ue(t),r=e.batch.batchId;try{const i=await rz(n.localStore,e);xb(n,r,null),bb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Oo(n,i)}catch(i){await Io(i)}}async function Bz(t,e,n){const r=ue(t);try{const i=await function(a,s){const u=ue(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,s).next(h=>(ce(h!==null),c=h.keys(),u.mutationQueue.removeMutationBatch(l,h))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,s)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,e);xb(r,e,n),bb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Oo(r,i)}catch(i){await Io(i)}}function bb(t,e){(t.Ba.get(e)||[]).forEach(n=>{n.resolve()}),t.Ba.delete(e)}function xb(t,e,n){const r=ue(t);let i=r.La[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.La[r.currentUser.toKey()]=i}}function tu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Fa.get(e))t.va.delete(r),n&&t.Ca.Ka(r,n);t.Fa.delete(e),t.isPrimaryClient&&t.Na.mr(e).forEach(r=>{t.Na.containsKey(r)||dD(t,r)})}function dD(t,e){t.Ma.delete(e.path.canonicalString());const n=t.xa.get(e);n!==null&&(Zs(t.remoteStore,n),t.xa=t.xa.remove(e),t.Oa.delete(n),Tb(t))}function M0(t,e,n){for(const r of n)r instanceof lD?(t.Na.addReference(r.key,e),Uz(t,r)):r instanceof cD?(W("SyncEngine","Document no longer in limbo: "+r.key),t.Na.removeReference(r.key,e),t.Na.containsKey(r.key)||dD(t,r.key)):se()}function Uz(t,e){const n=e.key,r=n.path.canonicalString();t.xa.get(n)||t.Ma.has(r)||(W("SyncEngine","New document in limbo: "+n),t.Ma.add(r),Tb(t))}function Tb(t){for(;t.Ma.size>0&&t.xa.size<t.maxConcurrentLimboResolutions;){const e=t.Ma.values().next().value;t.Ma.delete(e);const n=new ne(Ce.fromString(e)),r=t.ka.next();t.Oa.set(r,new Rz(n)),t.xa=t.xa.insert(n,r),$m(t.remoteStore,new ei(Dn(Ah(n.path)),r,"TargetPurposeLimboResolution",_n.oe))}}async function Oo(t,e,n){const r=ue(t),i=[],o=[],a=[];r.va.isEmpty()||(r.va.forEach((s,u)=>{a.push(r.Qa(u,e,n).then(l=>{var c;if((l||n)&&r.isPrimaryClient){const h=l?!l.fromCache:(c=n==null?void 0:n.targetChanges.get(u.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(l){i.push(l);const h=lb.Ui(u.targetId,l);o.push(h)}}))}),await Promise.all(a),r.Ca.E_(i),await async function(u,l){const c=ue(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>L.forEach(l,d=>L.forEach(d.Ki,p=>c.persistence.referenceDelegate.addReference(h,d.targetId,p)).next(()=>L.forEach(d.$i,p=>c.persistence.referenceDelegate.removeReference(h,d.targetId,p)))))}catch(h){if(!Ao(h))throw h;W("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const d=h.targetId;if(!h.fromCache){const p=c.ss.get(d),_=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(_);c.ss=c.ss.insert(d,g)}}}(r.localStore,o))}async function zz(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const r=await QN(n.localStore,e);n.currentUser=e,function(o,a){o.Ba.forEach(s=>{s.forEach(u=>{u.reject(new J(B.CANCELLED,a))})}),o.Ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Oo(n,r.ls)}}function qz(t,e){const n=ue(t),r=n.Oa.get(e);if(r&&r.Da)return ve().add(r.key);{let i=ve();const o=n.Fa.get(e);if(!o)return i;for(const a of o){const s=n.va.get(a);i=i.unionWith(s.view.Ra)}return i}}async function Wz(t,e){const n=ue(t),r=await k0(n.localStore,e.query,!0),i=e.view.Sa(r);return n.isPrimaryClient&&M0(n,e.targetId,i.ya),i}async function Gz(t,e){const n=ue(t);return JN(n.localStore,e).then(r=>Oo(n,r))}async function Kz(t,e,n,r){const i=ue(t),o=await function(s,u){const l=ue(s),c=ue(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",h=>c.Fn(h,u).next(d=>d?l.localDocuments.getDocuments(h,d):L.resolve(null)))}(i.localStore,e);o!==null?(n==="pending"?await Pu(i.remoteStore):n==="acknowledged"||n==="rejected"?(xb(i,e,r||null),bb(i,e),function(s,u){ue(ue(s).mutationQueue).xn(u)}(i.localStore,e)):se(),await Oo(i,o)):W("SyncEngine","Cannot apply mutation batch with id: "+e)}async function Hz(t,e){const n=ue(t);if(Lm(n),Sb(n),e===!0&&n.qa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await EE(n,r.toArray());n.qa=!0,await N0(n.remoteStore,!0);for(const o of i)$m(n.remoteStore,o)}else if(e===!1&&n.qa!==!1){const r=[];let i=Promise.resolve();n.Fa.forEach((o,a)=>{n.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then(()=>(tu(n,a),Js(n.localStore,a,!0))),Zs(n.remoteStore,a)}),await i,await EE(n,r),function(a){const s=ue(a);s.Oa.forEach((u,l)=>{Zs(s.remoteStore,l)}),s.Na.gr(),s.Oa=new Map,s.xa=new qe(ne.comparator)}(n),n.qa=!1,await N0(n.remoteStore,!1)}}async function EE(t,e,n){const r=ue(t),i=[],o=[];for(const a of e){let s;const u=r.Fa.get(a);if(u&&u.length!==0){s=await ip(r.localStore,Dn(u[0]));for(const l of u){const c=r.va.get(l),h=await Wz(r,c);h.snapshot&&o.push(h.snapshot)}}else{const l=await YN(r.localStore,a);s=await ip(r.localStore,l),await wb(r,pD(l),a,!1,s.resumeToken)}i.push(s)}return r.Ca.E_(o),i}function pD(t){return rN(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Qz(t){return function(n){return ue(ue(n).persistence).qi()}(ue(t).localStore)}async function Xz(t,e,n,r){const i=ue(t);if(i.qa)return void W("SyncEngine","Ignoring unexpected query state notification.");const o=i.Fa.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const a=await JN(i.localStore,aN(o[0])),s=Oh.createSynthesizedRemoteEventForCurrentChange(e,n==="current",mt.EMPTY_BYTE_STRING);await Oo(i,a,s);break}case"rejected":await Js(i.localStore,e,!0),tu(i,e,r);break;default:se()}}async function Yz(t,e,n){const r=Lm(t);if(r.qa){for(const i of e){if(r.Fa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){W("SyncEngine","Adding an already active target "+i);continue}const o=await YN(r.localStore,i),a=await ip(r.localStore,o);await wb(r,pD(o),a.targetId,!1,a.resumeToken),$m(r.remoteStore,a)}for(const i of n)r.Fa.has(i)&&await Js(r.localStore,i,!1).then(()=>{Zs(r.remoteStore,i),tu(r,i)}).catch(Io)}}function Lm(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jz.bind(null,e),e.Ca.E_=Pz.bind(null,e.eventManager),e.Ca.Ka=Oz.bind(null,e.eventManager),e}function Sb(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bz.bind(null,e),e}class $0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Dm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return HN(this.persistence,new KN,e.initialUser,this.serializer)}createPersistence(e){return new WN(Nm.Yr,this.serializer)}createSharedClientState(e){return new eD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Jz extends $0{constructor(e,n,r){super(),this.Ua=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ua.initialize(this,e),await Sb(this.Ua.syncEngine),await Pu(this.Ua.remoteStore),await this.persistence.pi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return HN(this.persistence,new KN,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new j3(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new y4(n,this.persistence);return new g4(e.asyncQueue,r)}createPersistence(e){const n=GN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new ub(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,tD(),md(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new eD}}class Zz extends Jz{constructor(e,n){super(e,n,!1),this.Ua=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Ua.syncEngine;this.sharedClientState instanceof Ny&&(this.sharedClientState.syncEngine={eo:Kz.bind(null,n),no:Xz.bind(null,n),ro:Yz.bind(null,n),qi:Qz.bind(null,n),Xs:Gz.bind(null,n)},await this.sharedClientState.start()),await this.persistence.pi(async r=>{await Hz(this.Ua.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=tD();if(!Ny.D(n))throw new J(B.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=GN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ny(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class mD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zz.bind(null,this.syncEngine),await N0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Az}()}createDatastore(e){const n=Dm(e.databaseInfo.databaseId),r=function(o){return new cz(o)}(e.databaseInfo);return function(o,a,s,u){return new dz(o,a,s,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new mz(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>SE(this.syncEngine,n,0),function(){return _E.D()?new _E:new sz}())}createSyncEngine(e,n){return function(i,o,a,s,u,l,c){const h=new Nz(i,o,a,s,u,l);return c&&(h.qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ue(i);W("RemoteStore","RemoteStore shutting down."),o.N_.add(5),await kh(o),o.B_.shutdown(),o.k_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Wa(this.observer.next,e)}error(e){this.observer.error?this.Wa(this.observer.error,e):dt("Uncaught Error in snapshot listener:",e.toString())}Ga(){this.muted=!0}Wa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=DR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{W("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(W("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=mb(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gd(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await QN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function L0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await t6(t);W("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>wE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>wE(e.remoteStore,i)),t._onlineComponents=e}function gD(t){return t.name==="FirebaseError"?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function t6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await gd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!gD(n))throw n;Sa("Error using user provided cache. Falling back to memory cache: "+n),await gd(t,new $0)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await gd(t,new $0);return t._offlineComponents}async function yD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await L0(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await L0(t,new mD))),t._onlineComponents}function n6(t){return yD(t).then(e=>e.syncEngine)}async function up(t){const e=await yD(t),n=e.eventManager;return n.onListen=Dz.bind(null,e.syncEngine),n.onUnlisten=$z.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Mz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Lz.bind(null,e.syncEngine),n}function r6(t,e,n={}){const r=new yr;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,u,l){const c=new Eb({next:d=>{a.enqueueAndForget(()=>yb(o,h));const p=d.docs.has(s);!p&&d.fromCache?l.reject(new J(B.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&u&&u.source==="server"?l.reject(new J(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),h=new _b(Ah(s.path),c,{includeMetadataChanges:!0,oa:!0});return gb(o,h)}(await up(t),t.asyncQueue,e,n,r)),r.promise}function i6(t,e,n={}){const r=new yr;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,u,l){const c=new Eb({next:d=>{a.enqueueAndForget(()=>yb(o,h)),d.fromCache&&u.source==="server"?l.reject(new J(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),h=new _b(s,c,{includeMetadataChanges:!0,oa:!0});return gb(o,h)}(await up(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t,e,n){if(!n)throw new J(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function o6(t,e,n,r){if(e===!0&&r===!0)throw new J(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function AE(t){if(!ne.isDocumentKey(t))throw new J(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function PE(t){if(ne.isDocumentKey(t))throw new J(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function Yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vm(t);throw new J(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}o6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ib{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new a4;switch(r.type){case"firstParty":return new l4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=IE.get(n);r&&(W("ComponentProvider","Removing Datastore"),IE.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Co(this.firestore,e,this._query)}}class dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class ho extends Co{constructor(e,n,r){super(e,n,Ah(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new ne(e))}withConverter(e){return new ho(this.firestore,e,this._path)}}function jm(t,e,...n){if(t=Rt(t),_D("collection","path",e),t instanceof Ib){const r=Ce.fromString(e,...n);return PE(r),new ho(t,null,r)}{if(!(t instanceof dn||t instanceof ho))throw new J(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ce.fromString(e,...n));return PE(r),new ho(t.firestore,null,r)}}function Dc(t,e,...n){if(t=Rt(t),arguments.length===1&&(e=DR.newId()),_D("doc","path",e),t instanceof Ib){const r=Ce.fromString(e,...n);return AE(r),new dn(t,null,new ne(r))}{if(!(t instanceof dn||t instanceof ho))throw new J(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ce.fromString(e,...n));return AE(r),new dn(t.firestore,t instanceof ho?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(){this._u=Promise.resolve(),this.au=[],this.uu=!1,this.cu=[],this.lu=null,this.hu=!1,this.Pu=!1,this.Iu=[],this.e_=new nD(this,"async_queue_retry"),this.Tu=()=>{const n=md();n&&W("AsyncQueue","Visibility state changed to "+n.visibilityState),this.e_.zo()};const e=md();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Tu)}get isShuttingDown(){return this.uu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Eu(),this.du(e)}enterRestrictedMode(e){if(!this.uu){this.uu=!0,this.Pu=e||!1;const n=md();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Tu)}}enqueue(e){if(this.Eu(),this.uu)return new Promise(()=>{});const n=new yr;return this.du(()=>this.uu&&this.Pu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.au.push(e),this.Au()))}async Au(){if(this.au.length!==0){try{await this.au[0](),this.au.shift(),this.e_.reset()}catch(e){if(!Ao(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.au.length>0&&this.e_.Wo(()=>this.Au())}}du(e){const n=this._u.then(()=>(this.hu=!0,e().catch(r=>{this.lu=r,this.hu=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw dt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.hu=!1,r))));return this._u=n,n}enqueueAfterDelay(e,n,r){this.Eu(),this.Iu.indexOf(e)>-1&&(n=0);const i=pb.createAndSchedule(this,e,n,r,o=>this.Ru(o));return this.cu.push(i),i}Eu(){this.lu&&se()}verifyOperationInProgress(){}async Vu(){let e;do e=this._u,await e;while(e!==this._u)}mu(e){for(const n of this.cu)if(n.timerId===e)return!0;return!1}fu(e){return this.Vu().then(()=>{this.cu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.cu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Vu()})}gu(e){this.Iu.push(e)}Ru(e){const n=this.cu.indexOf(e);this.cu.splice(n,1)}}function CE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=-1;class vi extends Ib{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new a6}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||wD(this),this._firestoreClient.terminate()}}function u6(t,e,n){n||(n="(default)");const r=Sm(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),o=r.getOptions(n);if(xc(o,e))return i;throw new J(B.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new J(B.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function Rh(t){return t._firestoreClient||wD(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function wD(t){var e,n,r;const i=t._freezeSettings(),o=function(s,u,l,c){return new V4(s,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,vD(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new e6(t._authCredentials,t._appCheckCredentials,t._queue,o),((n=i.localCache)===null||n===void 0?void 0:n._offlineComponentProvider)&&((r=i.localCache)===null||r===void 0?void 0:r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function l6(t){h6(t=Yn(t,vi));const e=Rh(t);if(e._uninitializedComponentsProvider)throw new J(B.FAILED_PRECONDITION,"SDK cache is already specified.");Sa("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new mD;return c6(e,r,new Zz(r,n.cacheSizeBytes))}function c6(t,e,n){const r=new yr;return t.asyncQueue.enqueue(async()=>{try{await gd(t,n),await L0(t,e),r.resolve()}catch(i){const o=i;if(!gD(o))throw o;Sa("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}}).then(()=>r.promise)}function h6(t){if(t._initialized||t._terminated)throw new J(B.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nu(mt.fromBase64String(e))}catch(n){throw new J(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new nu(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new it(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=/^__.*__$/;class d6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ii(e,this.data,this.fieldMask,n,this.fieldTransforms):new Au(e,this.data,n,this.fieldTransforms)}}class bD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ii(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class Ob{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.pu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get yu(){return this.settings.yu}wu(e){return new Ob(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.Du(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.pu(),i}vu(e){return this.wu({path:void 0,bu:!0})}Fu(e){return lp(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.xu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Du(this.path.get(e))}Du(e){if(e.length===0)throw this.Fu("Document fields must not be empty");if(xD(this.yu)&&f6.test(e))throw this.Fu('Document fields cannot begin and end with "__"')}}class p6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dm(e)}Ou(e,n,r,i=!1){return new Ob({yu:e,methodName:n,xu:r,path:it.emptyPath(),bu:!1,Mu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cb(t){const e=t._freezeSettings(),n=Dm(t._databaseId);return new p6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function m6(t,e,n,r,i,o={}){const a=t.Ou(o.merge||o.mergeFields?2:0,e,n,i);kb("Data must be an object, but it was:",a,r);const s=TD(r,a);let u,l;if(o.merge)u=new wn(a.fieldMask),l=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const h of o.mergeFields){const d=V0(e,h,n);if(!a.contains(d))throw new J(B.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);ED(c,d)||c.push(d)}u=new wn(c),l=a.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,l=a.fieldTransforms;return new d6(new tn(s),u,l)}class Bm extends Ab{_toFieldTransform(e){if(e.yu!==2)throw e.yu===1?e.Fu(`${this._methodName}() can only appear at the top level of your update data`):e.Fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bm}}function g6(t,e,n,r){const i=t.Ou(1,e,n);kb("Data must be an object, but it was:",i,r);const o=[],a=tn.empty();Ba(r,(u,l)=>{const c=Rb(e,u,n);l=Rt(l);const h=i.Cu(c);if(l instanceof Bm)o.push(c);else{const d=Nh(l,h);d!=null&&(o.push(c),a.set(c,d))}});const s=new wn(o);return new bD(a,s,i.fieldTransforms)}function y6(t,e,n,r,i,o){const a=t.Ou(1,e,n),s=[V0(e,r,n)],u=[i];if(o.length%2!=0)throw new J(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)s.push(V0(e,o[d])),u.push(o[d+1]);const l=[],c=tn.empty();for(let d=s.length-1;d>=0;--d)if(!ED(l,s[d])){const p=s[d];let _=u[d];_=Rt(_);const g=a.Cu(p);if(_ instanceof Bm)l.push(p);else{const v=Nh(_,g);v!=null&&(l.push(p),c.set(p,v))}}const h=new wn(l);return new bD(c,h,a.fieldTransforms)}function v6(t,e,n,r=!1){return Nh(n,t.Ou(r?4:3,e))}function Nh(t,e){if(SD(t=Rt(t)))return kb("Unsupported field value:",e,t),TD(t,e);if(t instanceof Ab)return function(r,i){if(!xD(i.yu))throw i.Fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Fu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.bu&&e.yu!==4)throw e.Fu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let u=Nh(s,i.vu(a));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return t3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=at.fromDate(r);return{timestampValue:Ys(i.serializer,o)}}if(r instanceof at){const o=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ys(i.serializer,o)}}if(r instanceof Pb)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof nu)return{bytesValue:TN(i.serializer,r._byteString)};if(r instanceof dn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Fu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ib(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Fu(`Unsupported field value: ${Vm(r)}`)}(t,e)}function TD(t,e){const n={};return GR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ba(t,(r,i)=>{const o=Nh(i,e.Su(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function SD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof Pb||t instanceof nu||t instanceof dn||t instanceof Ab)}function kb(t,e,n){if(!SD(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Vm(n);throw r==="an object"?e.Fu(t+" a custom object"):e.Fu(t+" "+r)}}function V0(t,e,n){if((e=Rt(e))instanceof Fm)return e._internalPath;if(typeof e=="string")return Rb(t,e);throw lp("Field path arguments must be of type string or ",t,!1,void 0,n)}const _6=new RegExp("[~\\*/\\[\\]]");function Rb(t,e,n){if(e.search(_6)>=0)throw lp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fm(...e.split("."))._internalPath}catch{throw lp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lp(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let u="";return(o||a)&&(u+=" (found",o&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new J(B.INVALID_ARGUMENT,s+t+u)}function ED(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new w6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Um("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class w6 extends ID{data(){return super.data()}}function Um(t,e){return typeof e=="string"?Rb(t,e):e instanceof Fm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Nb{}class PD extends Nb{}function Db(t,e,...n){let r=[];e instanceof Nb&&r.push(e),r=r.concat(n),function(o){const a=o.filter(u=>u instanceof $b).length,s=o.filter(u=>u instanceof zm).length;if(a>1||a>0&&s>0)throw new J(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class zm extends PD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new zm(e,n,r)}_apply(e){const n=this._parse(e);return OD(e._query,n),new Co(e.firestore,e.converter,x0(e._query,n))}_parse(e){const n=Cb(e.firestore);return function(o,a,s,u,l,c,h){let d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new J(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){RE(h,c);const p=[];for(const _ of h)p.push(kE(u,o,_));d={arrayValue:{values:p}}}else d=kE(u,o,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||RE(h,c),d=v6(s,a,h,c==="in"||c==="not-in");return xe.create(l,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Mb(t,e,n){const r=e,i=Um("where",t);return zm._create(i,r,n)}class $b extends Nb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $b(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:De.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const u of s)OD(a,u),a=x0(a,u)}(e._query,n),new Co(e.firestore,e.converter,x0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lb extends PD{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Lb(e,n)}_apply(e){const n=function(i,o,a){if(i.startAt!==null)throw new J(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new J(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kc(o,a)}(e._query,this._field,this._direction);return new Co(e.firestore,e.converter,function(i,o){const a=i.explicitOrderBy.concat([o]);return new Iu(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function b6(t,e="asc"){const n=e,r=Um("orderBy",t);return Lb._create(r,n)}function kE(t,e,n){if(typeof(n=Rt(n))=="string"){if(n==="")throw new J(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iN(e)&&n.indexOf("/")!==-1)throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ce.fromString(n));if(!ne.isDocumentKey(r))throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Oc(t,new ne(r))}if(n instanceof dn)return Oc(t,n._key);throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vm(n)}.`)}function RE(t,e){if(!Array.isArray(t)||t.length===0)throw new J(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OD(t,e){const n=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class x6{convertValue(e,n="none"){switch(Ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ba(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Pb(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ac(e));default:return null}}convertTimestamp(e){const n=yi(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ce.fromString(e);ce(NN(r));const i=new Ea(r.get(1),r.get(3)),o=new ne(r.popFirst(5));return i.isEqual(n)||dt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class CD extends ID{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Um("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class yd extends CD{data(e={}){return super.data(e)}}class kD{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Dl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new yd(this._firestore,this._userDataWriter,r.key,r,new Dl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const u=new yd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Dl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const u=new yd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Dl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return s.type!==0&&(l=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:S6(s.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function S6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(t){t=Yn(t,dn);const e=Yn(t.firestore,vi);return r6(Rh(e),t._key).then(n=>DD(e,t,n))}class Vb extends x6{constructor(e){super(),this.firestore=e}convertBytes(e){return new nu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function RD(t){t=Yn(t,Co);const e=Yn(t.firestore,vi),n=Rh(e),r=new Vb(e);return AD(t._query),i6(n,t._query).then(i=>new kD(e,r,t,i))}function ND(t,e,n,...r){t=Yn(t,dn);const i=Yn(t.firestore,vi),o=Cb(i);let a;return a=typeof(e=Rt(e))=="string"||e instanceof Fm?y6(o,"updateDoc",t._key,e,n,r):g6(o,"updateDoc",t._key,e),jb(i,[a.toMutation(t._key,un.exists(!0))])}function I6(t){return jb(Yn(t.firestore,vi),[new Cm(t._key,un.none())])}function A6(t,e){const n=Yn(t.firestore,vi),r=Dc(t),i=T6(t.converter,e);return jb(n,[m6(Cb(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,un.exists(!1))]).then(()=>r)}function P6(t,...e){var n,r,i;t=Rt(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||CE(e[a])||(o=e[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(CE(e[a])){const h=e[a];e[a]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[a+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[a+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let u,l,c;if(t instanceof dn)l=Yn(t.firestore,vi),c=Ah(t._key.path),u={next:h=>{e[a]&&e[a](DD(l,t,h))},error:e[a+1],complete:e[a+2]};else{const h=Yn(t,Co);l=Yn(h.firestore,vi),c=h._query;const d=new Vb(l);u={next:p=>{e[a]&&e[a](new kD(l,d,h,p))},error:e[a+1],complete:e[a+2]},AD(t._query)}return function(d,p,_,g){const v=new Eb(g),b=new _b(p,v,_);return d.asyncQueue.enqueueAndForget(async()=>gb(await up(d),b)),()=>{v.Ga(),d.asyncQueue.enqueueAndForget(async()=>yb(await up(d),b))}}(Rh(l),c,s,u)}function jb(t,e){return function(r,i){const o=new yr;return r.asyncQueue.enqueueAndForget(async()=>Vz(await n6(r),i,o)),o.promise}(Rh(t),e)}function DD(t,e,n){const r=n.docs.get(e._key),i=new Vb(t);return new CD(t,i,e._key,r,new Dl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Eu=i})(Fa),xa(new yo("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new vi(new s4(r.getProvider("auth-internal")),new h4(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new J(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ea(l.options.projectId,c)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),Dr(AS,"4.6.5",e),Dr(AS,"4.6.5","esm2017")})();function Fb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function MD(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const O6=MD,$D=new Sh("auth","Firebase",MD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=new qw("@firebase/auth");function C6(t,...e){cp.logLevel<=be.WARN&&cp.warn(`Auth (${Fa}): ${t}`,...e)}function vd(t,...e){cp.logLevel<=be.ERROR&&cp.error(`Auth (${Fa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,...e){throw Ub(t,...e)}function vr(t,...e){return Ub(t,...e)}function Bb(t,e,n){const r=Object.assign(Object.assign({},O6()),{[e]:n});return new Sh("auth","Firebase",r).create(e,{appName:t.name})}function fa(t){return Bb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function k6(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&jr(t,"argument-error"),Bb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ub(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $D.create(t,...e)}function pe(t,e,...n){if(!t)throw Ub(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vd(e),new Error(e)}function _i(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function R6(){return NE()==="http:"||NE()==="https:"}function NE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(R6()||FB()||"connection"in navigator)?navigator.onLine:!0}function D6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n){this.shortDelay=e,this.longDelay=n,_i(n>e,"Short delay should be less than long delay!"),this.isMobile=VB()||BB()}get(){return N6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(t,e){_i(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=new Dh(3e4,6e4);function qb(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Cu(t,e,n,r,i={}){return VD(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=Eh(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),LD.fetch()(jD(t,t.config.apiHost,n,s),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))})}async function VD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},M6),e);try{const i=new V6(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Df(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[u,l]=s.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Df(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Df(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw Df(t,"user-disabled",a);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Bb(t,c,l);jr(t,c)}}catch(i){if(i instanceof zr)throw i;jr(t,"network-request-failed",{message:String(i)})}}async function L6(t,e,n,r,i={}){const o=await Cu(t,e,n,r,i);return"mfaPendingCredential"in o&&jr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function jD(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?zb(t.config,i):`${t.config.apiScheme}://${i}`}class V6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vr(this.auth,"network-request-failed")),$6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Df(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j6(t,e){return Cu(t,"POST","/v1/accounts:delete",e)}async function FD(t,e){return Cu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F6(t,e=!1){const n=Rt(t),r=await n.getIdToken(e),i=Wb(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Jl(My(i.auth_time)),issuedAtTime:Jl(My(i.iat)),expirationTime:Jl(My(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function My(t){return Number(t)*1e3}function Wb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vd("JWT malformed, contained fewer than 3 sections"),null;try{const i=mR(n);return i?JSON.parse(i):(vd("Failed to decode base64 JWT payload"),null)}catch(i){return vd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function DE(t){const e=Wb(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zr&&B6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function B6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Mc(t,FD(n,{idToken:r}));pe(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?BD(o.providerUserInfo):[],s=q6(t.providerData,a),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),c=u?l:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new F0(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function z6(t){const e=Rt(t);await hp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function BD(t){return t.map(e=>{var{providerId:n}=e,r=Fb(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W6(t,e){const n=await VD(t,{},async()=>{const r=Eh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=jD(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",LD.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G6(t,e){return Cu(t,"POST","/v2/accounts:revokeToken",qb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=DE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await W6(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Rs;return r&&(pe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(pe(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rs,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ni{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Fb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new U6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new F0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Mc(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return F6(this,e)}reload(){return z6(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zr(this.auth.app))return Promise.reject(fa(this.auth));const e=await this.getIdToken();return await Mc(this,j6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,u,l,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,_=(a=n.photoURL)!==null&&a!==void 0?a:void 0,g=(s=n.tenantId)!==null&&s!==void 0?s:void 0,v=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,b=(l=n.createdAt)!==null&&l!==void 0?l:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:x,isAnonymous:T,providerData:A,stsTokenManager:I}=n;pe(w&&I,e,"internal-error");const S=Rs.fromJSON(this.name,I);pe(typeof w=="string",e,"internal-error"),$i(h,e.name),$i(d,e.name),pe(typeof x=="boolean",e,"internal-error"),pe(typeof T=="boolean",e,"internal-error"),$i(p,e.name),$i(_,e.name),$i(g,e.name),$i(v,e.name),$i(b,e.name),$i(y,e.name);const P=new ni({uid:w,auth:e,email:d,emailVerified:x,displayName:h,isAnonymous:T,photoURL:_,phoneNumber:p,tenantId:g,stsTokenManager:S,createdAt:b,lastLoginAt:y});return A&&Array.isArray(A)&&(P.providerData=A.map(O=>Object.assign({},O))),v&&(P._redirectEventId=v),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Rs;i.updateFromServerResponse(n);const o=new ni({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await hp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];pe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?BD(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new Rs;s.updateFromIdToken(r);const u=new ni({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new F0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,l),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new Map;function ri(t){_i(t instanceof Function,"Expected a class definition");let e=ME.get(t);return e?(_i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ME.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UD.type="NONE";const $E=UD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t,e,n){return`firebase:${t}:${e}:${n}`}class Ns{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=_d(this.userKey,i.apiKey,o),this.fullPersistenceKey=_d("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ni._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ns(ri($E),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let o=i[0]||ri($E);const a=_d(r,e.config.apiKey,e.name);let s=null;for(const l of n)try{const c=await l._get(a);if(c){const h=ni._fromJSON(e,c);l!==o&&(s=h),o=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new Ns(o,e,r):(o=u[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(a)}catch{}})),new Ns(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KD(e))return"Blackberry";if(HD(e))return"Webos";if(Gb(e))return"Safari";if((e.includes("chrome/")||qD(e))&&!e.includes("edge/"))return"Chrome";if(GD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zD(t=_t()){return/firefox\//i.test(t)}function Gb(t=_t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qD(t=_t()){return/crios\//i.test(t)}function WD(t=_t()){return/iemobile/i.test(t)}function GD(t=_t()){return/android/i.test(t)}function KD(t=_t()){return/blackberry/i.test(t)}function HD(t=_t()){return/webos/i.test(t)}function qm(t=_t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function K6(t=_t()){var e;return qm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function H6(){return UB()&&document.documentMode===10}function QD(t=_t()){return qm(t)||GD(t)||HD(t)||KD(t)||/windows phone/i.test(t)||WD(t)}function Q6(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t,e=[]){let n;switch(t){case"Browser":n=LE(_t());break;case"Worker":n=`${LE(_t())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const u=e(o);a(u)}catch(u){s(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y6(t,e={}){return Cu(t,"GET","/v2/passwordPolicy",qb(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=6;class Z6{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:J6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(s=u.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VE(this),this.idTokenSubscription=new VE(this),this.beforeStateQueue=new X6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$D,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ns.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await FD(this,{idToken:e}),r=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Zr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===s)&&(u==null?void 0:u.user)&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=D6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zr(this.app))return Promise.reject(fa(this));const n=e?Rt(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zr(this.app)?Promise.reject(fa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zr(this.app)?Promise.reject(fa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y6(this),n=new Z6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await G6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await Ns.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&C6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Wm(t){return Rt(t)}class VE{constructor(e){this.auth=e,this.observer=null,this.addObserver=HB(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t5(t){Kb=t}function n5(t){return Kb.loadJS(t)}function r5(){return Kb.gapiScript}function i5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t,e){const n=Sm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(xc(o,e!=null?e:{}))return i;jr(i,"already-initialized")}return n.initialize({options:e})}function a5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function s5(t,e,n){const r=Wm(t);pe(r._canInitEmulator,r,"emulator-config-failed"),pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=YD(e),{host:a,port:s}=u5(e),u=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||l5()}function YD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function u5(t){const e=YD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:jE(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:jE(a)}}}function jE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function l5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ds(t,e){return L6(t,"POST","/v1/accounts:signInWithIdp",qb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5="http://localhost";class ka extends JD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Fb(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new ka(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ds(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ds(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ds(e,n)}buildRequest(){const e={requestUri:c5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends Hb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Mh{constructor(){super("facebook.com")}static credential(e){return ka._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Mh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ka._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xr.credential(n,r)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Mh{constructor(){super("github.com")}static credential(e){return ka._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Mh{constructor(){super("twitter.com")}static credential(e,n){return ka._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Gi.credential(n,r)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ni._fromIdTokenResponse(e,r,i),a=FE(r);return new ru({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=FE(r);return new ru({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function FE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp extends zr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,fp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new fp(e,n,r,i)}}function ZD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fp._fromErrorAndOperation(t,o,e,r):o})}async function h5(t,e,n=!1){const r=await Mc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ru._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f5(t,e,n=!1){const{auth:r}=t;if(Zr(r.app))return Promise.reject(fa(r));const i="reauthenticate";try{const o=await Mc(t,ZD(r,i,e,t),n);pe(o.idToken,r,"internal-error");const a=Wb(o.idToken);pe(a,r,"internal-error");const{sub:s}=a;return pe(t.uid===s,r,"user-mismatch"),ru._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&jr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d5(t,e,n=!1){if(Zr(t.app))return Promise.reject(fa(t));const r="signIn",i=await ZD(t,r,e),o=await ru._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function p5(t,e,n,r){return Rt(t).onIdTokenChanged(e,n,r)}function m5(t,e,n){return Rt(t).beforeAuthStateChanged(e,n)}function e2(t){return Rt(t).signOut()}const dp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dp,"1"),this.storage.removeItem(dp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(){const t=_t();return Gb(t)||qm(t)}const y5=1e3,v5=10;class n2 extends t2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=g5()&&Q6(),this.fallbackToPolling=QD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,u)=>{this.notifyListeners(a,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);H6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,v5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},y5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}n2.type="LOCAL";const _5=n2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2 extends t2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}r2.type="SESSION";const i2=r2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Gm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async l=>l(n.origin,o)),u=await w5(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,u)=>{const l=Qb("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(d.data.response);break;default:clearTimeout(c),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return window}function x5(t){Mr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(){return typeof Mr().WorkerGlobalScope<"u"&&typeof Mr().importScripts=="function"}async function T5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function S5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function E5(){return o2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="firebaseLocalStorageDb",I5=1,pp="firebaseLocalStorage",s2="fbase_key";class $h{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Km(t,e){return t.transaction([pp],e?"readwrite":"readonly").objectStore(pp)}function A5(){const t=indexedDB.deleteDatabase(a2);return new $h(t).toPromise()}function B0(){const t=indexedDB.open(a2,I5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pp,{keyPath:s2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pp)?e(r):(r.close(),await A5(),e(await B0()))})})}async function BE(t,e,n){const r=Km(t,!0).put({[s2]:e,value:n});return new $h(r).toPromise()}async function P5(t,e){const n=Km(t,!1).get(e),r=await new $h(n).toPromise();return r===void 0?null:r.value}function UE(t,e){const n=Km(t,!0).delete(e);return new $h(n).toPromise()}const O5=800,C5=3;class u2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await B0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>C5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return o2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gm._getInstance(E5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await T5(),!this.activeServiceWorker)return;this.sender=new b5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||S5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await B0();return await BE(e,dp,"1"),await UE(e,dp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>BE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>P5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>UE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Km(i,!1).getAll();return new $h(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),O5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}u2.type="LOCAL";const k5=u2;new Dh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t,e){return e?ri(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb extends JD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ds(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ds(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ds(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function R5(t){return d5(t.auth,new Xb(t),t.bypassAuthState)}function N5(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),f5(n,new Xb(t),t.bypassAuthState)}async function D5(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),h5(n,new Xb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return R5;case"linkViaPopup":case"linkViaRedirect":return D5;case"reauthViaPopup":case"reauthViaRedirect":return N5;default:jr(this.auth,"internal-error")}}resolve(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=new Dh(2e3,1e4);async function $5(t,e,n){if(Zr(t.app))return Promise.reject(vr(t,"operation-not-supported-in-this-environment"));const r=Wm(t);k6(t,e,Hb);const i=l2(r,n);return new ia(r,"signInViaPopup",e,i).executeNotNull()}class ia extends c2{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ia.currentPopupAction&&ia.currentPopupAction.cancel(),ia.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){_i(this.filter.length===1,"Popup operations only handle one event");const e=Qb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ia.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,M5.get())};e()}}ia.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5="pendingRedirect",wd=new Map;class V5 extends c2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wd.get(this.auth._key());if(!e){try{const r=await j5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wd.set(this.auth._key(),e)}return this.bypassAuthState||wd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j5(t,e){const n=U5(e),r=B5(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function F5(t,e){wd.set(t._key(),e)}function B5(t){return ri(t._redirectPersistence)}function U5(t){return _d(L5,t.config.apiKey,t.name)}async function z5(t,e,n=!1){if(Zr(t.app))return Promise.reject(fa(t));const r=Wm(t),i=l2(r,e),a=await new V5(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=10*60*1e3;class W5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!G5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!h2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zE(e))}saveEventToCache(e){this.cachedEventUids.add(zE(e)),this.lastProcessedEventTime=Date.now()}}function zE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function h2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function G5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return h2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K5(t,e={}){return Cu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q5=/^https?/;async function X5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await K5(t);for(const n of e)try{if(Y5(n))return}catch{}jr(t,"unauthorized-domain")}function Y5(t){const e=j0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Q5.test(n))return!1;if(H5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=new Dh(3e4,6e4);function qE(){const t=Mr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Z5(t){return new Promise((e,n)=>{var r,i,o;function a(){qE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qE(),n(vr(t,"network-request-failed"))},timeout:J5.get()})}if(!((i=(r=Mr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Mr().gapi)===null||o===void 0)&&o.load)a();else{const s=i5("iframefcb");return Mr()[s]=()=>{gapi.load?a():n(vr(t,"network-request-failed"))},n5(`${r5()}?onload=${s}`).catch(u=>n(u))}}).catch(e=>{throw bd=null,e})}let bd=null;function e9(t){return bd=bd||Z5(t),bd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=new Dh(5e3,15e3),n9="__/auth/iframe",r9="emulator/auth/iframe",i9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function a9(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zb(e,r9):`https://${t.config.authDomain}/${n9}`,r={apiKey:e.apiKey,appName:t.name,v:Fa},i=o9.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Eh(r).slice(1)}`}async function s9(t){const e=await e9(t),n=Mr().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:a9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:i9,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=vr(t,"network-request-failed"),s=Mr().setTimeout(()=>{o(a)},t9.get());function u(){Mr().clearTimeout(s),i(r)}r.ping(u).then(u,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l9=500,c9=600,h9="_blank",f9="http://localhost";class WE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d9(t,e,n,r=l9,i=c9){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const u=Object.assign(Object.assign({},u9),{width:r.toString(),height:i.toString(),top:o,left:a}),l=_t().toLowerCase();n&&(s=qD(l)?h9:n),zD(l)&&(e=e||f9,u.scrollbars="yes");const c=Object.entries(u).reduce((d,[p,_])=>`${d}${p}=${_},`,"");if(K6(l)&&s!=="_self")return p9(e||"",s),new WE(null);const h=window.open(e||"",s,c);pe(h,t,"popup-blocked");try{h.focus()}catch{}return new WE(h)}function p9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9="__/auth/handler",g9="emulator/auth/handler",y9=encodeURIComponent("fac");async function GE(t,e,n,r,i,o){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fa,eventId:i};if(e instanceof Hb){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",KB(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(o||{}))a[c]=h}if(e instanceof Mh){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const u=await t._getAppCheckToken(),l=u?`#${y9}=${encodeURIComponent(u)}`:"";return`${v9(t)}?${Eh(s).slice(1)}${l}`}function v9({config:t}){return t.emulator?zb(t,g9):`https://${t.authDomain}/${m9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="webStorageSupport";class _9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i2,this._completeRedirectFn=z5,this._overrideRedirectResult=F5}async _openPopup(e,n,r,i){var o;_i((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await GE(e,n,r,j0(),i);return d9(e,a,Qb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await GE(e,n,r,j0(),i);return x5(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(_i(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await s9(e),r=new W5(e);return n.register("authEvent",i=>(pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($y,{type:$y},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[$y];a!==void 0&&n(!!a),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=X5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QD()||Gb()||qm()}}const w9=_9;var KE="@firebase/auth",HE="1.7.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function T9(t){xa(new yo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;pe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XD(t)},l=new e5(r,i,o,u);return a5(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xa(new yo("auth-internal",e=>{const n=Wm(e.getProvider("auth").getImmediate());return(r=>new b9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dr(KE,HE,x9(t)),Dr(KE,HE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=5*60,E9=vR("authIdTokenMaxAge")||S9;let QE=null;const I9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>E9)return;const i=n==null?void 0:n.token;QE!==i&&(QE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function A9(t=SR()){const e=Sm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=o5(t,{popupRedirectResolver:w9,persistence:[k5,_5,i2]}),r=vR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=I9(o.toString());m5(n,a,()=>a(n.currentUser)),p5(n,s=>a(s))}}const i=gR("auth");return i&&s5(n,`http://${i}`),n}function P9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}t5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=vr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",P9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});T9("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="firebasestorage.googleapis.com",O9="storageBucket",C9=2*60*1e3,k9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends zr{constructor(e,n,r=0){super(Ly(e),`Firebase Storage: ${n} (${Ly(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ly(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Fr||(Fr={}));function Ly(t){return"storage/"+t}function R9(){const t="An unknown error occurred, please check the error payload for server response.";return new qr(Fr.UNKNOWN,t)}function N9(){return new qr(Fr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function D9(){return new qr(Fr.CANCELED,"User canceled the upload/download.")}function M9(t){return new qr(Fr.INVALID_URL,"Invalid URL '"+t+"'.")}function $9(t){return new qr(Fr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function XE(t){return new qr(Fr.INVALID_ARGUMENT,t)}function d2(){return new qr(Fr.APP_DELETED,"The Firebase app was deleted.")}function L9(t){return new qr(Fr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=dr.makeFromUrl(e,n)}catch{return new dr(e,"")}if(r.path==="")return r;throw $9(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const a="(/(.*))?$",s=new RegExp("^gs://"+i+a,"i"),u={bucket:1,path:3};function l(x){x.path_=decodeURIComponent(x.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${c}/b/${i}/o${d}`,"i"),_={bucket:1,path:3},g=n===f2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",b=new RegExp(`^https?://${g}/${i}/${v}`,"i"),w=[{regex:s,indices:u,postModify:o},{regex:p,indices:_,postModify:l},{regex:b,indices:{bucket:1,path:2},postModify:l}];for(let x=0;x<w.length;x++){const T=w[x],A=T.regex.exec(e);if(A){const I=A[T.indices.bucket];let S=A[T.indices.path];S||(S=""),r=new dr(I,S),T.postModify(r);break}}if(r==null)throw M9(e);return r}}class V9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(t,e,n){let r=1,i=null,o=null,a=!1,s=0;function u(){return s===2}let l=!1;function c(...v){l||(l=!0,e.apply(null,v))}function h(v){i=setTimeout(()=>{i=null,t(p,u())},v)}function d(){o&&clearTimeout(o)}function p(v,...b){if(l){d();return}if(v){d(),c.call(null,v,...b);return}if(u()||a){d(),c.call(null,v,...b);return}r<64&&(r*=2);let w;s===1?(s=2,w=0):w=(r+Math.random())*1e3,h(w)}let _=!1;function g(v){_||(_=!0,d(),!l&&(i!==null?(v||(s=2),clearTimeout(i),h(0)):v||(s=1)))}return h(0),o=setTimeout(()=>{a=!0,g(!0)},n),g}function F9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(t){return t!==void 0}function YE(t,e,n,r){if(r<e)throw XE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw XE(`Invalid value for '${t}'. Expected ${n} or less.`)}function U9(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(mp||(mp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,n,r,i,o,a,s,u,l,c,h,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,_)=>{this.resolve_=p,this.reject_=_,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Mf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=s=>{const u=s.loaded,l=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const s=o.getErrorCode()===mp.NO_ERROR,u=o.getStatus();if(!s||z9(u,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===mp.ABORT;r(!1,new Mf(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new Mf(l,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(s,s.getResponse());B9(u)?o(u):o()}catch(u){a(u)}else if(s!==null){const u=R9();u.serverResponse=s.getErrorText(),this.errorCallback_?a(this.errorCallback_(s,u)):a(u)}else if(i.canceled){const u=this.appDelete_?d2():D9();a(u)}else{const u=N9();a(u)}};this.canceled_?n(!1,new Mf(!1,null,!0)):this.backoffId_=j9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&F9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Mf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function W9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function G9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function K9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function H9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Q9(t,e,n,r,i,o,a=!0){const s=U9(t.urlParams),u=t.url+s,l=Object.assign({},t.headers);return K9(l,e),W9(l,n),G9(l,o),H9(l,r),new q9(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Y9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n){this._service=e,n instanceof dr?this._location=n:this._location=dr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new gp(e,n)}get root(){const e=new dr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Y9(this._location.path)}get storage(){return this._service}get parent(){const e=X9(this._location.path);if(e===null)return null;const n=new dr(this._location.bucket,e);return new gp(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw L9(e)}}function JE(t,e){const n=e==null?void 0:e[O9];return n==null?null:dr.makeFromBucketSpec(n,t)}function J9(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:LB(i,t.app.options.projectId))}class Z9{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=f2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=C9,this._maxUploadRetryTime=k9,this._requests=new Set,i!=null?this._bucket=dr.makeFromBucketSpec(i,this._host):this._bucket=JE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=dr.makeFromBucketSpec(this._url,e):this._bucket=JE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){YE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){YE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gp(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new V9(d2());{const a=Q9(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const ZE="@firebase/storage",eI="0.12.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="storage";function eq(t=SR(),e){t=Rt(t);const r=Sm(t,p2).getImmediate({identifier:e}),i=MB("storage");return i&&tq(r,...i),r}function tq(t,e,n,r={}){J9(t,e,n,r)}function nq(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Z9(n,r,i,e,Fa)}function rq(){xa(new yo(p2,nq,"PUBLIC").setMultipleInstances(!0)),Dr(ZE,eI,""),Dr(ZE,eI,"esm2017")}rq();function iq(){return{apiKey:"AIzaSyD5VoHsQSWjOW13fjGnfcNnMOKBWFm5mAc",authDomain:"todo-list-8caac.firebaseapp.com",databaseURL:"https://todo-list-8caac-default-rtdb.firebaseio.com",projectId:"todo-list-8caac",storageBucket:"todo-list-8caac.appspot.com",messagingSenderId:"853569755701",appId:"1:853569755701:web:e9f0900fbf39e6d506ef7c"}}const Yb=TR(iq()),ui=u6(Yb,{cacheSizeBytes:s6}),wi=A9(Yb);eq(Yb);l6(ui).catch(t=>{t.code==="failed-precondition"?console.warn("Multiple tabs open, persistence can only be enabled in one tab at a time."):t.code==="unimplemented"&&console.warn("The current browser does not support all of the features required to enable persistence")});/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),m2=(...t)=>t.filter((e,n,r)=>Boolean(e)&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=M.exports.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},u)=>M.exports.createElement("svg",{ref:u,...aq,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:m2("lucide",i),...s},[...a.map(([l,c])=>M.exports.createElement(l,c)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=(t,e)=>{const n=M.exports.forwardRef(({className:r,...i},o)=>M.exports.createElement(sq,{ref:o,iconNode:e,className:m2(`lucide-${oq(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=br("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=br("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=br("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=br("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=br("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=br("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=br("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=br("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=br("SquarePlus",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=br("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=br("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),yq=()=>{const[t,e]=M.exports.useState([]),[n,r]=M.exports.useState(!0),[i,o]=M.exports.useState("all"),[a,s]=M.exports.useState(""),[u,l]=M.exports.useState("dueDate"),[c,h]=M.exports.useState("asc"),[d,p]=M.exports.useState(""),[_,g]=M.exports.useState("");M.exports.useEffect(()=>{const T=wi.currentUser;if(!T)return;const A=Db(jm(ui,"tasks"),Mb("userId","==",T.uid),b6(u,c)),I=P6(A,S=>{const P=S.docs.map(O=>({id:O.id,...O.data()}));e(P),r(!1)});return()=>I()},[u,c]);const v=async(T,A)=>{await ND(Dc(ui,"tasks",T),{completed:!A})},b=async T=>{window.confirm("Are you sure you want to delete this task?")&&await I6(Dc(ui,"tasks",T))},y=t.filter(T=>i==="active"?!T.completed:i==="completed"?T.completed:!0).filter(T=>T.title.toLowerCase().includes(a.toLowerCase())||T.description.toLowerCase().includes(a.toLowerCase())).filter(T=>d?T.category===d:!0).filter(T=>_?T.priority===_:!0),w=Array.from(new Set(t.map(T=>T.category))),x=T=>{u===T?h(c==="asc"?"desc":"asc"):(l(T),h("asc"))};return n?D("div",{children:"Loading tasks..."}):Y("div",{className:"max-w-4xl mx-auto mt-8",children:[D("h1",{className:"text-2xl font-bold mb-4",children:"Your Tasks"}),Y("div",{className:"mb-4 space-y-2",children:[Y("div",{className:"flex items-center space-x-2",children:[D(fq,{size:20}),D("input",{type:"text",placeholder:"Search tasks...",value:a,onChange:T=>s(T.target.value),className:"border rounded px-2 py-1 flex-grow"})]}),Y("div",{className:"flex space-x-2",children:[Y("select",{value:i,onChange:T=>o(T.target.value),className:"border rounded px-2 py-1",children:[D("option",{value:"all",children:"All"}),D("option",{value:"active",children:"Active"}),D("option",{value:"completed",children:"Completed"})]}),Y("select",{value:d,onChange:T=>p(T.target.value),className:"border rounded px-2 py-1",children:[D("option",{value:"",children:"All Categories"}),w.map(T=>D("option",{value:T,children:T},T))]}),Y("select",{value:_,onChange:T=>g(T.target.value),className:"border rounded px-2 py-1",children:[D("option",{value:"",children:"All Priorities"}),D("option",{value:"low",children:"Low"}),D("option",{value:"medium",children:"Medium"}),D("option",{value:"high",children:"High"})]})]}),Y("div",{className:"flex space-x-2",children:[Y("button",{onClick:()=>x("dueDate"),className:"border rounded px-2 py-1",children:["Sort by Due Date"," ",u==="dueDate"&&(c==="asc"?"\u2191":"\u2193")]}),Y("button",{onClick:()=>x("priority"),className:"border rounded px-2 py-1",children:["Sort by Priority"," ",u==="priority"&&(c==="asc"?"\u2191":"\u2193")]}),Y("button",{onClick:()=>x("category"),className:"border rounded px-2 py-1",children:["Sort by Category"," ",u==="category"&&(c==="asc"?"\u2191":"\u2193")]}),Y("button",{onClick:()=>x("title"),className:"border rounded px-2 py-1",children:["Sort by Title"," ",u==="title"&&(c==="asc"?"\u2191":"\u2193")]})]})]}),D(ra,{to:"/add-task",className:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded mb-4 inline-block",children:"Add New Task"}),y.length===0?D("p",{children:"No tasks found."}):D("ul",{className:"space-y-4",children:y.map(T=>Y("li",{className:`bg-white shadow rounded-lg p-4 ${T.completed?"opacity-50":""}`,children:[Y("div",{className:"flex justify-between items-center",children:[D("h2",{className:`text-xl font-semibold ${T.completed?"line-through":""}`,children:T.title}),Y("div",{className:"space-x-2",children:[Y("button",{onClick:()=>v(T.id,T.completed),className:`inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white ${T.completed?"bg-gray-400 hover:bg-gray-500":"bg-green-600 hover:bg-green-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500`,children:[D(lq,{size:16,className:"mr-2"}),T.completed?"Mark Incomplete":"Mark Complete"]}),Y(ra,{to:`/edit-task/${T.id}`,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[D(dq,{size:16,className:"mr-2"}),"Edit"]}),Y("button",{onClick:()=>b(T.id),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[D(mq,{size:16,className:"mr-2"}),"Delete"]})]})]}),D("p",{className:"text-gray-600 mt-2",children:T.description}),Y("div",{className:"mt-2 flex justify-between items-center",children:[Y("span",{className:"text-sm text-gray-500",children:["Due: ",T.dueDate]}),Y("span",{className:"text-sm text-gray-500",children:["Category: ",T.category]}),D("span",{className:`px-2 py-1 rounded text-xs font-semibold ${T.priority==="high"?"bg-red-100 text-red-800":T.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:T.priority.charAt(0).toUpperCase()+T.priority.slice(1)})]})]},T.id))})]})},vq=()=>{const[t,e]=M.exports.useState(""),[n,r]=M.exports.useState(""),[i,o]=M.exports.useState(""),[a,s]=M.exports.useState("medium"),[u,l]=M.exports.useState(""),[c,h]=M.exports.useState(null),[d,p]=M.exports.useState(!1),_=ja();return Y("div",{className:"max-w-2xl mx-auto mt-10 p-6 bg-white rounded-lg shadow-md",children:[D("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Add New Task"}),c&&Y("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded flex items-center",children:[D(g2,{className:"mr-2",size:20}),c]}),Y("form",{onSubmit:async v=>{v.preventDefault();const b=wi.currentUser;if(!b){h("You must be logged in to add a task.");return}if(!t.trim()){h("Title is required.");return}if(!i){h("Due date is required.");return}p(!0),h(null);try{await A6(jm(ui,"tasks"),{userId:b.uid,title:t.trim(),description:n.trim(),dueDate:i,priority:a,category:u.trim(),completed:!1,createdAt:new Date}),e(""),r(""),o(""),s("medium"),l(""),_("/tasks")}catch(y){console.error("Error adding task:",y),h("Failed to add task. Please try again.")}finally{p(!1)}},className:"space-y-4",children:[Y("div",{children:[D("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title *"}),D("input",{type:"text",id:"title",value:t,onChange:v=>e(v.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",required:!0})]}),Y("div",{children:[D("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),D("textarea",{id:"description",value:n,onChange:v=>r(v.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:3})]}),Y("div",{children:[D("label",{htmlFor:"dueDate",className:"block text-sm font-medium text-gray-700",children:"Due Date *"}),D("input",{type:"date",id:"dueDate",value:i,onChange:v=>o(v.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",required:!0})]}),Y("div",{children:[D("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700",children:"Priority"}),Y("select",{id:"priority",value:a,onChange:v=>s(v.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",children:[D("option",{value:"low",children:"Low"}),D("option",{value:"medium",children:"Medium"}),D("option",{value:"high",children:"High"})]})]}),Y("div",{children:[D("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),D("input",{type:"text",id:"category",value:u,onChange:v=>l(v.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"e.g., Work, Personal, Shopping"})]}),D("button",{type:"submit",disabled:d,className:`w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${d?"opacity-50 cursor-not-allowed":""}`,children:d?Y(bm,{children:[D(yp,{className:"animate-spin inline-block mr-2",size:16}),"Adding Task..."]}):"Add Task"})]})]})},_q=()=>{const[t,e]=M.exports.useState(null),[n,r]=M.exports.useState(null),[i,o]=M.exports.useState(!1),{id:a}=ZF(),s=ja();M.exports.useEffect(()=>{(async()=>{if(!!a){o(!0);try{const c=await E6(Dc(ui,"tasks",a));c.exists()?e({id:c.id,...c.data()}):r("Task not found.")}catch(c){console.error("Error fetching task:",c),r("Failed to fetch task. Please try again.")}finally{o(!1)}}})()},[a]);const u=async l=>{if(l.preventDefault(),!t||!a)return;if(!wi.currentUser){r("You must be logged in to edit a task.");return}if(!t.title.trim()){r("Title is required.");return}if(!t.dueDate){r("Due date is required.");return}o(!0),r(null);try{await ND(Dc(ui,"tasks",a),{title:t.title.trim(),description:t.description.trim(),dueDate:t.dueDate,priority:t.priority,category:t.category.trim(),completed:t.completed}),s("/tasks")}catch(h){console.error("Error updating task:",h),r("Failed to update task. Please try again.")}finally{o(!1)}};return i?D("div",{className:"flex justify-center items-center h-screen",children:D(yp,{className:"animate-spin",size:48})}):t?Y("div",{className:"max-w-2xl mx-auto mt-10 p-6 bg-white rounded-lg shadow-md",children:[D("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Edit Task"}),n&&Y("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded flex items-center",children:[D(g2,{className:"mr-2",size:20}),n]}),Y("form",{onSubmit:u,className:"space-y-4",children:[Y("div",{children:[D("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title *"}),D("input",{type:"text",id:"title",value:t.title,onChange:l=>e({...t,title:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",required:!0})]}),Y("div",{children:[D("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),D("textarea",{id:"description",value:t.description,onChange:l=>e({...t,description:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:3})]}),Y("div",{children:[D("label",{htmlFor:"dueDate",className:"block text-sm font-medium text-gray-700",children:"Due Date *"}),D("input",{type:"date",id:"dueDate",value:t.dueDate,onChange:l=>e({...t,dueDate:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",required:!0})]}),Y("div",{children:[D("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700",children:"Priority"}),Y("select",{id:"priority",value:t.priority,onChange:l=>e({...t,priority:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",children:[D("option",{value:"low",children:"Low"}),D("option",{value:"medium",children:"Medium"}),D("option",{value:"high",children:"High"})]})]}),Y("div",{children:[D("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),D("input",{type:"text",id:"category",value:t.category,onChange:l=>e({...t,category:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"e.g., Work, Personal, Shopping"})]}),Y("div",{className:"flex items-center",children:[D("input",{type:"checkbox",id:"completed",checked:t.completed,onChange:l=>e({...t,completed:l.target.checked}),className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 mr-2"}),D("label",{htmlFor:"completed",className:"text-sm font-medium text-gray-700",children:"Mark as completed"})]}),D("button",{type:"submit",disabled:i,className:`w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${i?"opacity-50 cursor-not-allowed":""}`,children:i?Y(bm,{children:[D(yp,{className:"animate-spin inline-block mr-2",size:16}),"Updating Task..."]}):"Update Task"})]})]}):D("div",{children:"Task not found."})},wq=()=>{const[t,e]=M.exports.useState(null),[n,r]=M.exports.useState({total:0,completed:0,overdue:0}),i=ja();M.exports.useEffect(()=>{const s=wi.onAuthStateChanged(u=>{e(u),u&&o(u.uid)});return()=>s()},[]);const o=async s=>{const u=Db(jm(ui,"tasks"),Mb("userId","==",s)),l=await RD(u),c=new Date;let h=0,d=0,p=0;l.forEach(_=>{const g=_.data();h++,g.completed&&d++,!g.completed&&new Date(g.deadline)<c&&p++}),r({total:h,completed:d,overdue:p})},a=async()=>{try{await e2(wi),i("/")}catch(s){console.error("Error signing out:",s)}};return t?Y("div",{className:"profile p-4",children:[D("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Your Profile"}),Y("div",{className:"mx-auto max-w-2xl",children:[Y("div",{className:"mb-4",children:[D("img",{src:t.photoURL||"https://via.placeholder.com/150",alt:"Profile",className:"w-24 h-24 rounded-full mx-auto mb-2"}),D("h3",{className:"text-xl font-semibold text-center",children:t.displayName}),D("p",{className:"text-gray-600 text-center",children:t.email})]}),Y("div",{className:"bg-white shadow-md rounded-lg p-4 mb-4",children:[D("h3",{className:"text-lg font-semibold mb-2",children:"Task Statistics"}),Y("p",{children:["Total Tasks: ",n.total]}),Y("p",{children:["Completed Tasks: ",n.completed]}),Y("p",{children:["Overdue Tasks: ",n.overdue]})]}),D("button",{onClick:a,className:"bg-red-500 text-white px-4 py-2 rounded w-full",children:"Sign Out"})]})]}):Y("div",{className:"profile p-4",children:[D("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Profile"}),D("p",{children:"Please sign in to view your profile."}),D(ra,{to:"/signin",className:"bg-blue-500 text-white px-4 py-2 rounded mt-4 inline-block",children:"Sign In"})]})},y2=()=>{const t=ja();return Y("div",{className:"sign-in p-4 flex flex-col items-center",children:[D("h2",{className:"text-2xl font-bold mb-4",children:"Sign In"}),Y("button",{onClick:async()=>{try{const n=new Xr;await $5(wi,n),t("/tasks")}catch(n){console.error("Error signing in with Google:",n)}},className:"bg-white text-gray-700 font-semibold py-2 px-4 border border-gray-300 rounded shadow flex items-center",children:[D("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google logo",className:"w-6 h-6 mr-2"}),"Sign in with Google"]})]})};function v2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=v2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Re(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=v2(t))&&(r&&(r+=" "),r+=e);return r}var bq=Array.isArray,En=bq,xq=typeof cf=="object"&&cf&&cf.Object===Object&&cf,_2=xq,Tq=_2,Sq=typeof self=="object"&&self&&self.Object===Object&&self,Eq=Tq||Sq||Function("return this")(),Wr=Eq,Iq=Wr,Aq=Iq.Symbol,Lh=Aq,tI=Lh,w2=Object.prototype,Pq=w2.hasOwnProperty,Oq=w2.toString,gl=tI?tI.toStringTag:void 0;function Cq(t){var e=Pq.call(t,gl),n=t[gl];try{t[gl]=void 0;var r=!0}catch{}var i=Oq.call(t);return r&&(e?t[gl]=n:delete t[gl]),i}var kq=Cq,Rq=Object.prototype,Nq=Rq.toString;function Dq(t){return Nq.call(t)}var Mq=Dq,nI=Lh,$q=kq,Lq=Mq,Vq="[object Null]",jq="[object Undefined]",rI=nI?nI.toStringTag:void 0;function Fq(t){return t==null?t===void 0?jq:Vq:rI&&rI in Object(t)?$q(t):Lq(t)}var Ai=Fq;function Bq(t){return t!=null&&typeof t=="object"}var Pi=Bq,Uq=Ai,zq=Pi,qq="[object Symbol]";function Wq(t){return typeof t=="symbol"||zq(t)&&Uq(t)==qq}var ku=Wq,Gq=En,Kq=ku,Hq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qq=/^\w*$/;function Xq(t,e){if(Gq(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Kq(t)?!0:Qq.test(t)||!Hq.test(t)||e!=null&&t in Object(e)}var Jb=Xq;function Yq(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Fn=Yq,Jq=Ai,Zq=Fn,e8="[object AsyncFunction]",t8="[object Function]",n8="[object GeneratorFunction]",r8="[object Proxy]";function i8(t){if(!Zq(t))return!1;var e=Jq(t);return e==t8||e==n8||e==e8||e==r8}var _e=i8,o8=Wr,a8=o8["__core-js_shared__"],s8=a8,Vy=s8,iI=function(){var t=/[^.]+$/.exec(Vy&&Vy.keys&&Vy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function u8(t){return!!iI&&iI in t}var l8=u8,c8=Function.prototype,h8=c8.toString;function f8(t){if(t!=null){try{return h8.call(t)}catch{}try{return t+""}catch{}}return""}var b2=f8,d8=_e,p8=l8,m8=Fn,g8=b2,y8=/[\\^$.*+?()[\]{}|]/g,v8=/^\[object .+?Constructor\]$/,_8=Function.prototype,w8=Object.prototype,b8=_8.toString,x8=w8.hasOwnProperty,T8=RegExp("^"+b8.call(x8).replace(y8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function S8(t){if(!m8(t)||p8(t))return!1;var e=d8(t)?T8:v8;return e.test(g8(t))}var E8=S8;function I8(t,e){return t==null?void 0:t[e]}var A8=I8,P8=E8,O8=A8;function C8(t,e){var n=O8(t,e);return P8(n)?n:void 0}var za=C8,k8=za,R8=k8(Object,"create"),Hm=R8,oI=Hm;function N8(){this.__data__=oI?oI(null):{},this.size=0}var D8=N8;function M8(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var $8=M8,L8=Hm,V8="__lodash_hash_undefined__",j8=Object.prototype,F8=j8.hasOwnProperty;function B8(t){var e=this.__data__;if(L8){var n=e[t];return n===V8?void 0:n}return F8.call(e,t)?e[t]:void 0}var U8=B8,z8=Hm,q8=Object.prototype,W8=q8.hasOwnProperty;function G8(t){var e=this.__data__;return z8?e[t]!==void 0:W8.call(e,t)}var K8=G8,H8=Hm,Q8="__lodash_hash_undefined__";function X8(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=H8&&e===void 0?Q8:e,this}var Y8=X8,J8=D8,Z8=$8,eW=U8,tW=K8,nW=Y8;function Ru(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ru.prototype.clear=J8;Ru.prototype.delete=Z8;Ru.prototype.get=eW;Ru.prototype.has=tW;Ru.prototype.set=nW;var rW=Ru;function iW(){this.__data__=[],this.size=0}var oW=iW;function aW(t,e){return t===e||t!==t&&e!==e}var Zb=aW,sW=Zb;function uW(t,e){for(var n=t.length;n--;)if(sW(t[n][0],e))return n;return-1}var Qm=uW,lW=Qm,cW=Array.prototype,hW=cW.splice;function fW(t){var e=this.__data__,n=lW(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():hW.call(e,n,1),--this.size,!0}var dW=fW,pW=Qm;function mW(t){var e=this.__data__,n=pW(e,t);return n<0?void 0:e[n][1]}var gW=mW,yW=Qm;function vW(t){return yW(this.__data__,t)>-1}var _W=vW,wW=Qm;function bW(t,e){var n=this.__data__,r=wW(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var xW=bW,TW=oW,SW=dW,EW=gW,IW=_W,AW=xW;function Nu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nu.prototype.clear=TW;Nu.prototype.delete=SW;Nu.prototype.get=EW;Nu.prototype.has=IW;Nu.prototype.set=AW;var Xm=Nu,PW=za,OW=Wr,CW=PW(OW,"Map"),e1=CW,aI=rW,kW=Xm,RW=e1;function NW(){this.size=0,this.__data__={hash:new aI,map:new(RW||kW),string:new aI}}var DW=NW;function MW(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var $W=MW,LW=$W;function VW(t,e){var n=t.__data__;return LW(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Ym=VW,jW=Ym;function FW(t){var e=jW(this,t).delete(t);return this.size-=e?1:0,e}var BW=FW,UW=Ym;function zW(t){return UW(this,t).get(t)}var qW=zW,WW=Ym;function GW(t){return WW(this,t).has(t)}var KW=GW,HW=Ym;function QW(t,e){var n=HW(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var XW=QW,YW=DW,JW=BW,ZW=qW,eG=KW,tG=XW;function Du(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Du.prototype.clear=YW;Du.prototype.delete=JW;Du.prototype.get=ZW;Du.prototype.has=eG;Du.prototype.set=tG;var t1=Du,x2=t1,nG="Expected a function";function n1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(nG);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(n1.Cache||x2),n}n1.Cache=x2;var T2=n1,rG=T2,iG=500;function oG(t){var e=rG(t,function(r){return n.size===iG&&n.clear(),r}),n=e.cache;return e}var aG=oG,sG=aG,uG=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lG=/\\(\\)?/g,cG=sG(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(uG,function(n,r,i,o){e.push(i?o.replace(lG,"$1"):r||n)}),e}),hG=cG;function fG(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var r1=fG,sI=Lh,dG=r1,pG=En,mG=ku,gG=1/0,uI=sI?sI.prototype:void 0,lI=uI?uI.toString:void 0;function S2(t){if(typeof t=="string")return t;if(pG(t))return dG(t,S2)+"";if(mG(t))return lI?lI.call(t):"";var e=t+"";return e=="0"&&1/t==-gG?"-0":e}var yG=S2,vG=yG;function _G(t){return t==null?"":vG(t)}var E2=_G,wG=En,bG=Jb,xG=hG,TG=E2;function SG(t,e){return wG(t)?t:bG(t,e)?[t]:xG(TG(t))}var I2=SG,EG=ku,IG=1/0;function AG(t){if(typeof t=="string"||EG(t))return t;var e=t+"";return e=="0"&&1/t==-IG?"-0":e}var Jm=AG,PG=I2,OG=Jm;function CG(t,e){e=PG(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[OG(e[n++])];return n&&n==r?t:void 0}var i1=CG,kG=i1;function RG(t,e,n){var r=t==null?void 0:kG(t,e);return r===void 0?n:r}var Mn=RG;function NG(t){return t==null}var ke=NG,DG=Ai,MG=En,$G=Pi,LG="[object String]";function VG(t){return typeof t=="string"||!MG(t)&&$G(t)&&DG(t)==LG}var Vh=VG,vp={exports:{}},$e={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nt=typeof Symbol=="function"&&Symbol.for,o1=Nt?Symbol.for("react.element"):60103,a1=Nt?Symbol.for("react.portal"):60106,Zm=Nt?Symbol.for("react.fragment"):60107,eg=Nt?Symbol.for("react.strict_mode"):60108,tg=Nt?Symbol.for("react.profiler"):60114,ng=Nt?Symbol.for("react.provider"):60109,rg=Nt?Symbol.for("react.context"):60110,s1=Nt?Symbol.for("react.async_mode"):60111,ig=Nt?Symbol.for("react.concurrent_mode"):60111,og=Nt?Symbol.for("react.forward_ref"):60112,ag=Nt?Symbol.for("react.suspense"):60113,jG=Nt?Symbol.for("react.suspense_list"):60120,sg=Nt?Symbol.for("react.memo"):60115,ug=Nt?Symbol.for("react.lazy"):60116,FG=Nt?Symbol.for("react.block"):60121,BG=Nt?Symbol.for("react.fundamental"):60117,UG=Nt?Symbol.for("react.responder"):60118,zG=Nt?Symbol.for("react.scope"):60119;function Bn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case o1:switch(t=t.type,t){case s1:case ig:case Zm:case tg:case eg:case ag:return t;default:switch(t=t&&t.$$typeof,t){case rg:case og:case ug:case sg:case ng:return t;default:return e}}case a1:return e}}}function A2(t){return Bn(t)===ig}$e.AsyncMode=s1;$e.ConcurrentMode=ig;$e.ContextConsumer=rg;$e.ContextProvider=ng;$e.Element=o1;$e.ForwardRef=og;$e.Fragment=Zm;$e.Lazy=ug;$e.Memo=sg;$e.Portal=a1;$e.Profiler=tg;$e.StrictMode=eg;$e.Suspense=ag;$e.isAsyncMode=function(t){return A2(t)||Bn(t)===s1};$e.isConcurrentMode=A2;$e.isContextConsumer=function(t){return Bn(t)===rg};$e.isContextProvider=function(t){return Bn(t)===ng};$e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===o1};$e.isForwardRef=function(t){return Bn(t)===og};$e.isFragment=function(t){return Bn(t)===Zm};$e.isLazy=function(t){return Bn(t)===ug};$e.isMemo=function(t){return Bn(t)===sg};$e.isPortal=function(t){return Bn(t)===a1};$e.isProfiler=function(t){return Bn(t)===tg};$e.isStrictMode=function(t){return Bn(t)===eg};$e.isSuspense=function(t){return Bn(t)===ag};$e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Zm||t===ig||t===tg||t===eg||t===ag||t===jG||typeof t=="object"&&t!==null&&(t.$$typeof===ug||t.$$typeof===sg||t.$$typeof===ng||t.$$typeof===rg||t.$$typeof===og||t.$$typeof===BG||t.$$typeof===UG||t.$$typeof===zG||t.$$typeof===FG)};$e.typeOf=Bn;(function(t){t.exports=$e})(vp);var qG=Ai,WG=Pi,GG="[object Number]";function KG(t){return typeof t=="number"||WG(t)&&qG(t)==GG}var P2=KG,HG=P2;function QG(t){return HG(t)&&t!=+t}var jh=QG,pr=function(e){return e===0?0:e>0?1:-1},oa=function(e){return Vh(e)&&e.indexOf("%")===e.length-1},ee=function(e){return P2(e)&&!jh(e)},Tt=function(e){return ee(e)||Vh(e)},XG=0,lg=function(e){var n=++XG;return"".concat(e||"").concat(n)},Ra=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ee(e)&&!Vh(e))return r;var o;if(oa(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return jh(o)&&(o=r),i&&o>n&&(o=n),o},Ki=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},YG=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},rs=function(e,n){return ee(e)&&ee(n)?function(r){return e+r*(n-e)}:function(){return n}};function U0(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Mn(r,e))===n})}function Ms(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function z0(t){return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z0(t)}var JG=["viewBox","children"],ZG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],cI=["points","pathLength"],jy={svg:JG,polygon:cI,polyline:cI},u1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],_p=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(M.exports.isValidElement(e)&&(r=e.props),!Fn(r))return null;var i={};return Object.keys(r).forEach(function(o){u1.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},eK=function(e,n,r){return function(i){return e(n,r,i),null}},wp=function(e,n,r){if(!Fn(e)||z0(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];u1.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=eK(a,n,r))}),i},tK=["children"],nK=["children"];function hI(t,e){if(t==null)return{};var n=rK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function rK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var fI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},li=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},dI=null,Fy=null,l1=function t(e){if(e===dI&&Array.isArray(Fy))return Fy;var n=[];return M.exports.Children.forEach(e,function(r){ke(r)||(vp.exports.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Fy=n,dI=e,n};function _r(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return li(i)}):r=[li(e)],l1(t).forEach(function(i){var o=Mn(i,"type.displayName")||Mn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function On(t,e){var n=_r(t,e);return n&&n[0]}var pI=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ee(r)||r<=0||!ee(i)||i<=0)},iK=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],oK=function(e){return e&&e.type&&Vh(e.type)&&iK.indexOf(e.type)>=0},aK=function(e,n,r,i){var o,a=(o=jy==null?void 0:jy[i])!==null&&o!==void 0?o:[];return!_e(e)&&(i&&a.includes(n)||ZG.includes(n))||r&&u1.includes(n)},Oe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(M.exports.isValidElement(e)&&(i=e.props),!Fn(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;aK((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},q0=function t(e,n){if(e===n)return!0;var r=M.exports.Children.count(e);if(r!==M.exports.Children.count(n))return!1;if(r===0)return!0;if(r===1)return mI(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!mI(o,a))return!1}return!0},mI=function(e,n){if(ke(e)&&ke(n))return!0;if(!ke(e)&&!ke(n)){var r=e.props||{},i=r.children,o=hI(r,tK),a=n.props||{},s=a.children,u=hI(a,nK);return i&&s?Ms(o,u)&&q0(i,s):!i&&!s?Ms(o,u):!1}return!1},gI=function(e,n){var r=[],i={};return l1(e).forEach(function(o,a){if(oK(o))r.push(o);else if(o){var s=li(o.type),u=n[s]||{},l=u.handler,c=u.once;if(l&&(!c||!i[s])){var h=l(o,s,a);r.push(h),i[s]=!0}}}),r},sK=function(e){var n=e&&e.type;return n&&fI[n]?fI[n]:null},uK=function(e,n){return l1(n).indexOf(e)},lK=["children","width","height","viewBox","className","style","title","desc"];function cK(t,e){if(t==null)return{};var n=hK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function hK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function W0(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,u=t.desc,l=cK(t,lK),c=i||{width:n,height:r,x:0,y:0},h=Re("recharts-surface",o);return Y("svg",{...Oe(l,!0,"svg"),className:h,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height),children:[D("title",{children:s}),D("desc",{children:u}),e]})}var fK=["children","className"];function dK(t,e){if(t==null)return{};var n=pK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function pK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Ct=Ne.forwardRef(function(t,e){var n=t.children,r=t.className,i=dK(t,fK),o=Re("recharts-layer",r);return D("g",{className:o,...Oe(i,!0),ref:e,children:n})}),ci=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function mK(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var gK=mK,yK=gK;function vK(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:yK(t,e,n)}var _K=vK,wK="\\ud800-\\udfff",bK="\\u0300-\\u036f",xK="\\ufe20-\\ufe2f",TK="\\u20d0-\\u20ff",SK=bK+xK+TK,EK="\\ufe0e\\ufe0f",IK="\\u200d",AK=RegExp("["+IK+wK+SK+EK+"]");function PK(t){return AK.test(t)}var O2=PK;function OK(t){return t.split("")}var CK=OK,C2="\\ud800-\\udfff",kK="\\u0300-\\u036f",RK="\\ufe20-\\ufe2f",NK="\\u20d0-\\u20ff",DK=kK+RK+NK,MK="\\ufe0e\\ufe0f",$K="["+C2+"]",G0="["+DK+"]",K0="\\ud83c[\\udffb-\\udfff]",LK="(?:"+G0+"|"+K0+")",k2="[^"+C2+"]",R2="(?:\\ud83c[\\udde6-\\uddff]){2}",N2="[\\ud800-\\udbff][\\udc00-\\udfff]",VK="\\u200d",D2=LK+"?",M2="["+MK+"]?",jK="(?:"+VK+"(?:"+[k2,R2,N2].join("|")+")"+M2+D2+")*",FK=M2+D2+jK,BK="(?:"+[k2+G0+"?",G0,R2,N2,$K].join("|")+")",UK=RegExp(K0+"(?="+K0+")|"+BK+FK,"g");function zK(t){return t.match(UK)||[]}var qK=zK,WK=CK,GK=O2,KK=qK;function HK(t){return GK(t)?KK(t):WK(t)}var QK=HK,XK=_K,YK=O2,JK=QK,ZK=E2;function eH(t){return function(e){e=ZK(e);var n=YK(e)?JK(e):void 0,r=n?n[0]:e.charAt(0),i=n?XK(n,1).join(""):e.slice(1);return r[t]()+i}}var tH=eH,nH=tH,rH=nH("toUpperCase"),cg=rH;function Ue(t){return function(){return t}}const $2=Math.cos,bp=Math.sin,xr=Math.sqrt,xp=Math.PI,hg=2*xp,H0=Math.PI,Q0=2*H0,Ko=1e-6,iH=Q0-Ko;function L2(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function oH(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return L2;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class aH{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?L2:oH(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,u=r-e,l=i-n,c=a-e,h=s-n,d=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Ko)if(!(Math.abs(h*u-l*c)>Ko)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,_=i-s,g=u*u+l*l,v=p*p+_*_,b=Math.sqrt(g),y=Math.sqrt(d),w=o*Math.tan((H0-Math.acos((g+d-v)/(2*b*y)))/2),x=w/y,T=w/b;Math.abs(x-1)>Ko&&this._append`L${e+x*c},${n+x*h}`,this._append`A${o},${o},0,0,${+(h*p>c*_)},${this._x1=e+T*u},${this._y1=n+T*l}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),u=r*Math.sin(i),l=e+s,c=n+u,h=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Ko||Math.abs(this._y1-c)>Ko)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%Q0+Q0),d>iH?this._append`A${r},${r},0,1,${h},${e-s},${n-u}A${r},${r},0,1,${h},${this._x1=l},${this._y1=c}`:d>Ko&&this._append`A${r},${r},0,${+(d>=H0)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function c1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new aH(e)}function h1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function V2(t){this._context=t}V2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function fg(t){return new V2(t)}function j2(t){return t[0]}function F2(t){return t[1]}function B2(t,e){var n=Ue(!0),r=null,i=fg,o=null,a=c1(s);t=typeof t=="function"?t:t===void 0?j2:Ue(t),e=typeof e=="function"?e:e===void 0?F2:Ue(e);function s(u){var l,c=(u=h1(u)).length,h,d=!1,p;for(r==null&&(o=i(p=a())),l=0;l<=c;++l)!(l<c&&n(h=u[l],l,u))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(h,l,u),+e(h,l,u));if(p)return o=null,p+""||null}return s.x=function(u){return arguments.length?(t=typeof u=="function"?u:Ue(+u),s):t},s.y=function(u){return arguments.length?(e=typeof u=="function"?u:Ue(+u),s):e},s.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Ue(!!u),s):n},s.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),s):i},s.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),s):r},s}function $f(t,e,n){var r=null,i=Ue(!0),o=null,a=fg,s=null,u=c1(l);t=typeof t=="function"?t:t===void 0?j2:Ue(+t),e=typeof e=="function"?e:Ue(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?F2:Ue(+n);function l(h){var d,p,_,g=(h=h1(h)).length,v,b=!1,y,w=new Array(g),x=new Array(g);for(o==null&&(s=a(y=u())),d=0;d<=g;++d){if(!(d<g&&i(v=h[d],d,h))===b)if(b=!b)p=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),_=d-1;_>=p;--_)s.point(w[_],x[_]);s.lineEnd(),s.areaEnd()}b&&(w[d]=+t(v,d,h),x[d]=+e(v,d,h),s.point(r?+r(v,d,h):w[d],n?+n(v,d,h):x[d]))}if(y)return s=null,y+""||null}function c(){return B2().defined(i).curve(a).context(o)}return l.x=function(h){return arguments.length?(t=typeof h=="function"?h:Ue(+h),r=null,l):t},l.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Ue(+h),l):t},l.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ue(+h),l):r},l.y=function(h){return arguments.length?(e=typeof h=="function"?h:Ue(+h),n=null,l):e},l.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Ue(+h),l):e},l.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ue(+h),l):n},l.lineX0=l.lineY0=function(){return c().x(t).y(e)},l.lineY1=function(){return c().x(t).y(n)},l.lineX1=function(){return c().x(r).y(e)},l.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Ue(!!h),l):i},l.curve=function(h){return arguments.length?(a=h,o!=null&&(s=a(o)),l):a},l.context=function(h){return arguments.length?(h==null?o=s=null:s=a(o=h),l):o},l}class U2{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function sH(t){return new U2(t,!0)}function uH(t){return new U2(t,!1)}const f1={draw(t,e){const n=xr(e/xp);t.moveTo(n,0),t.arc(0,0,n,0,hg)}},lH={draw(t,e){const n=xr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},z2=xr(1/3),cH=z2*2,hH={draw(t,e){const n=xr(e/cH),r=n*z2;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},fH={draw(t,e){const n=xr(e),r=-n/2;t.rect(r,r,n,n)}},dH=.8908130915292852,q2=bp(xp/10)/bp(7*xp/10),pH=bp(hg/10)*q2,mH=-$2(hg/10)*q2,gH={draw(t,e){const n=xr(e*dH),r=pH*n,i=mH*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=hg*o/5,s=$2(a),u=bp(a);t.lineTo(u*n,-s*n),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},By=xr(3),yH={draw(t,e){const n=-xr(e/(By*3));t.moveTo(0,n*2),t.lineTo(-By*n,-n),t.lineTo(By*n,-n),t.closePath()}},Un=-.5,zn=xr(3)/2,X0=1/xr(12),vH=(X0/2+1)*3,_H={draw(t,e){const n=xr(e/vH),r=n/2,i=n*X0,o=r,a=n*X0+n,s=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(Un*r-zn*i,zn*r+Un*i),t.lineTo(Un*o-zn*a,zn*o+Un*a),t.lineTo(Un*s-zn*u,zn*s+Un*u),t.lineTo(Un*r+zn*i,Un*i-zn*r),t.lineTo(Un*o+zn*a,Un*a-zn*o),t.lineTo(Un*s+zn*u,Un*u-zn*s),t.closePath()}};function wH(t,e){let n=null,r=c1(i);t=typeof t=="function"?t:Ue(t||f1),e=typeof e=="function"?e:Ue(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ue(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ue(+o),i):e},i.context=function(o){return arguments.length?(n=o==null?null:o,i):n},i}function Tp(){}function Sp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function W2(t){this._context=t}W2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bH(t){return new W2(t)}function G2(t){this._context=t}G2.prototype={areaStart:Tp,areaEnd:Tp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Sp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xH(t){return new G2(t)}function K2(t){this._context=t}K2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Sp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function TH(t){return new K2(t)}function H2(t){this._context=t}H2.prototype={areaStart:Tp,areaEnd:Tp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function SH(t){return new H2(t)}function yI(t){return t<0?-1:1}function vI(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(yI(o)+yI(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function _I(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Uy(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Ep(t){this._context=t}Ep.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Uy(this,this._t0,_I(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Uy(this,_I(this,n=vI(this,t,e)),n);break;default:Uy(this,this._t0,n=vI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Q2(t){this._context=new X2(t)}(Q2.prototype=Object.create(Ep.prototype)).point=function(t,e){Ep.prototype.point.call(this,e,t)};function X2(t){this._context=t}X2.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function EH(t){return new Ep(t)}function IH(t){return new Q2(t)}function Y2(t){this._context=t}Y2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=wI(t),i=wI(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function wI(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function AH(t){return new Y2(t)}function dg(t,e){this._context=t,this._t=e}dg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function PH(t){return new dg(t,.5)}function OH(t){return new dg(t,0)}function CH(t){return new dg(t,1)}function iu(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Y0(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function kH(t,e){return t[e]}function RH(t){const e=[];return e.key=t,e}function NH(){var t=Ue([]),e=Y0,n=iu,r=kH;function i(o){var a=Array.from(t.apply(this,arguments),RH),s,u=a.length,l=-1,c;for(const h of o)for(s=0,++l;s<u;++s)(a[s][l]=[0,+r(h,a[s].key,l,o)]).data=h;for(s=0,c=h1(e(a));s<u;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ue(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ue(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Y0:typeof o=="function"?o:Ue(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o==null?iu:o,i):n},i}function DH(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}iu(t,e)}}function MH(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}iu(t,e)}}function $H(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,u=0,l=0;s<a;++s){for(var c=t[e[s]],h=c[r][1]||0,d=c[r-1][1]||0,p=(h-d)/2,_=0;_<s;++_){var g=t[e[_]],v=g[r][1]||0,b=g[r-1][1]||0;p+=v-b}u+=h,l+=p*h}i[r-1][1]+=i[r-1][0]=n,u&&(n-=l/u)}i[r-1][1]+=i[r-1][0]=n,iu(t,e)}}function $c(t){return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}var LH=["type","size","sizeType"];function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){VH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VH(t,e,n){return e=jH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jH(t){var e=FH(t,"string");return $c(e)=="symbol"?e:String(e)}function FH(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BH(t,e){if(t==null)return{};var n=UH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function UH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var J2={symbolCircle:f1,symbolCross:lH,symbolDiamond:hH,symbolSquare:fH,symbolStar:gH,symbolTriangle:yH,symbolWye:_H},zH=Math.PI/180,qH=function(e){var n="symbol".concat(cg(e));return J2[n]||f1},WH=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*zH;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},GH=function(e,n){J2["symbol".concat(cg(e))]=n},d1=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,u=BH(e,LH),l=xI(xI({},u),{},{type:r,size:o,sizeType:s}),c=function(){var v=qH(r),b=wH().type(v).size(WH(o,s,r));return b()},h=l.className,d=l.cx,p=l.cy,_=Oe(l,!0);return d===+d&&p===+p&&o===+o?D("path",{..._,className:Re("recharts-symbols",h),transform:"translate(".concat(d,", ").concat(p,")"),d:c()}):null};d1.registerSymbol=GH;function ou(t){return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function TI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(n),!0).forEach(function(r){Lc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eM(r.key),r)}}function QH(t,e,n){return e&&SI(t.prototype,e),n&&SI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function XH(t,e,n){return e=Ip(e),YH(t,Z2()?Reflect.construct(e,n||[],Ip(t).constructor):e.apply(t,n))}function YH(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JH(t)}function JH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z2=function(){return!!t})()}function Ip(t){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ip(t)}function ZH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J0(t,e)}function J0(t,e){return J0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J0(t,e)}function Lc(t,e,n){return e=eM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eM(t){var e=e7(t,"string");return ou(e)=="symbol"?e:String(e)}function e7(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qn=32,p1=function(t){ZH(e,t);function e(){return HH(this,e),XH(this,e,arguments)}return QH(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=qn/2,a=qn/6,s=qn/3,u=r.inactive?i:r.color;if(r.type==="plainline")return D("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:qn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return D("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(qn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return D("path",{stroke:"none",fill:u,d:"M0,".concat(qn/8,"h").concat(qn,"v").concat(qn*3/4,"h").concat(-qn,"z"),className:"recharts-legend-icon"});if(Ne.isValidElement(r.legendIcon)){var l=KH({},r);return delete l.legendIcon,Ne.cloneElement(r.legendIcon,l)}return D(d1,{fill:u,cx:o,cy:o,size:qn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,u=i.formatter,l=i.inactiveColor,c={x:0,y:0,width:qn,height:qn},h={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,_){var g=p.formatter||u,v=Re(Lc(Lc({"recharts-legend-item":!0},"legend-item-".concat(_),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=_e(p.value)?null:p.value;ci(!_e(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?l:p.color;return Y("li",{className:v,style:h,...wp(r.props,p,_),children:[D(W0,{width:a,height:a,viewBox:c,style:d,children:r.renderIcon(p)}),D("span",{className:"recharts-legend-item-text",style:{color:y},children:g?g(b,p,_):b})]},"legend-item-".concat(_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return D("ul",{className:"recharts-default-legend",style:s,children:this.renderItems()})}}]),e}(M.exports.PureComponent);Lc(p1,"displayName","Legend");Lc(p1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var t7=Xm;function n7(){this.__data__=new t7,this.size=0}var r7=n7;function i7(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var o7=i7;function a7(t){return this.__data__.get(t)}var s7=a7;function u7(t){return this.__data__.has(t)}var l7=u7,c7=Xm,h7=e1,f7=t1,d7=200;function p7(t,e){var n=this.__data__;if(n instanceof c7){var r=n.__data__;if(!h7||r.length<d7-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new f7(r)}return n.set(t,e),this.size=n.size,this}var m7=p7,g7=Xm,y7=r7,v7=o7,_7=s7,w7=l7,b7=m7;function Mu(t){var e=this.__data__=new g7(t);this.size=e.size}Mu.prototype.clear=y7;Mu.prototype.delete=v7;Mu.prototype.get=_7;Mu.prototype.has=w7;Mu.prototype.set=b7;var tM=Mu,x7="__lodash_hash_undefined__";function T7(t){return this.__data__.set(t,x7),this}var S7=T7;function E7(t){return this.__data__.has(t)}var I7=E7,A7=t1,P7=S7,O7=I7;function Ap(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new A7;++e<n;)this.add(t[e])}Ap.prototype.add=Ap.prototype.push=P7;Ap.prototype.has=O7;var nM=Ap;function C7(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var rM=C7;function k7(t,e){return t.has(e)}var iM=k7,R7=nM,N7=rM,D7=iM,M7=1,$7=2;function L7(t,e,n,r,i,o){var a=n&M7,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t),c=o.get(e);if(l&&c)return l==e&&c==t;var h=-1,d=!0,p=n&$7?new R7:void 0;for(o.set(t,e),o.set(e,t);++h<s;){var _=t[h],g=e[h];if(r)var v=a?r(g,_,h,e,t,o):r(_,g,h,t,e,o);if(v!==void 0){if(v)continue;d=!1;break}if(p){if(!N7(e,function(b,y){if(!D7(p,y)&&(_===b||i(_,b,n,r,o)))return p.push(y)})){d=!1;break}}else if(!(_===g||i(_,g,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var oM=L7,V7=Wr,j7=V7.Uint8Array,F7=j7;function B7(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var U7=B7;function z7(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var m1=z7,EI=Lh,II=F7,q7=Zb,W7=oM,G7=U7,K7=m1,H7=1,Q7=2,X7="[object Boolean]",Y7="[object Date]",J7="[object Error]",Z7="[object Map]",eQ="[object Number]",tQ="[object RegExp]",nQ="[object Set]",rQ="[object String]",iQ="[object Symbol]",oQ="[object ArrayBuffer]",aQ="[object DataView]",AI=EI?EI.prototype:void 0,zy=AI?AI.valueOf:void 0;function sQ(t,e,n,r,i,o,a){switch(n){case aQ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case oQ:return!(t.byteLength!=e.byteLength||!o(new II(t),new II(e)));case X7:case Y7:case eQ:return q7(+t,+e);case J7:return t.name==e.name&&t.message==e.message;case tQ:case rQ:return t==e+"";case Z7:var s=G7;case nQ:var u=r&H7;if(s||(s=K7),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=Q7,a.set(t,e);var c=W7(s(t),s(e),r,i,o,a);return a.delete(t),c;case iQ:if(zy)return zy.call(t)==zy.call(e)}return!1}var uQ=sQ;function lQ(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var aM=lQ,cQ=aM,hQ=En;function fQ(t,e,n){var r=e(t);return hQ(t)?r:cQ(r,n(t))}var dQ=fQ;function pQ(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var mQ=pQ;function gQ(){return[]}var yQ=gQ,vQ=mQ,_Q=yQ,wQ=Object.prototype,bQ=wQ.propertyIsEnumerable,PI=Object.getOwnPropertySymbols,xQ=PI?function(t){return t==null?[]:(t=Object(t),vQ(PI(t),function(e){return bQ.call(t,e)}))}:_Q,TQ=xQ;function SQ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var EQ=SQ,IQ=Ai,AQ=Pi,PQ="[object Arguments]";function OQ(t){return AQ(t)&&IQ(t)==PQ}var CQ=OQ,OI=CQ,kQ=Pi,sM=Object.prototype,RQ=sM.hasOwnProperty,NQ=sM.propertyIsEnumerable,DQ=OI(function(){return arguments}())?OI:function(t){return kQ(t)&&RQ.call(t,"callee")&&!NQ.call(t,"callee")},g1=DQ,Pp={exports:{}};function MQ(){return!1}var $Q=MQ;(function(t,e){var n=Wr,r=$Q,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,u=s?s.isBuffer:void 0,l=u||r;t.exports=l})(Pp,Pp.exports);var LQ=9007199254740991,VQ=/^(?:0|[1-9]\d*)$/;function jQ(t,e){var n=typeof t;return e=e==null?LQ:e,!!e&&(n=="number"||n!="symbol"&&VQ.test(t))&&t>-1&&t%1==0&&t<e}var y1=jQ,FQ=9007199254740991;function BQ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=FQ}var v1=BQ,UQ=Ai,zQ=v1,qQ=Pi,WQ="[object Arguments]",GQ="[object Array]",KQ="[object Boolean]",HQ="[object Date]",QQ="[object Error]",XQ="[object Function]",YQ="[object Map]",JQ="[object Number]",ZQ="[object Object]",eX="[object RegExp]",tX="[object Set]",nX="[object String]",rX="[object WeakMap]",iX="[object ArrayBuffer]",oX="[object DataView]",aX="[object Float32Array]",sX="[object Float64Array]",uX="[object Int8Array]",lX="[object Int16Array]",cX="[object Int32Array]",hX="[object Uint8Array]",fX="[object Uint8ClampedArray]",dX="[object Uint16Array]",pX="[object Uint32Array]",Qe={};Qe[aX]=Qe[sX]=Qe[uX]=Qe[lX]=Qe[cX]=Qe[hX]=Qe[fX]=Qe[dX]=Qe[pX]=!0;Qe[WQ]=Qe[GQ]=Qe[iX]=Qe[KQ]=Qe[oX]=Qe[HQ]=Qe[QQ]=Qe[XQ]=Qe[YQ]=Qe[JQ]=Qe[ZQ]=Qe[eX]=Qe[tX]=Qe[nX]=Qe[rX]=!1;function mX(t){return qQ(t)&&zQ(t.length)&&!!Qe[UQ(t)]}var gX=mX;function yX(t){return function(e){return t(e)}}var uM=yX,Z0={exports:{}};(function(t,e){var n=_2,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var u=i&&i.require&&i.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Z0,Z0.exports);var vX=gX,_X=uM,CI=Z0.exports,kI=CI&&CI.isTypedArray,wX=kI?_X(kI):vX,lM=wX,bX=EQ,xX=g1,TX=En,SX=Pp.exports,EX=y1,IX=lM,AX=Object.prototype,PX=AX.hasOwnProperty;function OX(t,e){var n=TX(t),r=!n&&xX(t),i=!n&&!r&&SX(t),o=!n&&!r&&!i&&IX(t),a=n||r||i||o,s=a?bX(t.length,String):[],u=s.length;for(var l in t)(e||PX.call(t,l))&&!(a&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||EX(l,u)))&&s.push(l);return s}var CX=OX,kX=Object.prototype;function RX(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||kX;return t===n}var NX=RX;function DX(t,e){return function(n){return t(e(n))}}var cM=DX,MX=cM,$X=MX(Object.keys,Object),LX=$X,VX=NX,jX=LX,FX=Object.prototype,BX=FX.hasOwnProperty;function UX(t){if(!VX(t))return jX(t);var e=[];for(var n in Object(t))BX.call(t,n)&&n!="constructor"&&e.push(n);return e}var zX=UX,qX=_e,WX=v1;function GX(t){return t!=null&&WX(t.length)&&!qX(t)}var Fh=GX,KX=CX,HX=zX,QX=Fh;function XX(t){return QX(t)?KX(t):HX(t)}var pg=XX,YX=dQ,JX=TQ,ZX=pg;function eY(t){return YX(t,ZX,JX)}var tY=eY,RI=tY,nY=1,rY=Object.prototype,iY=rY.hasOwnProperty;function oY(t,e,n,r,i,o){var a=n&nY,s=RI(t),u=s.length,l=RI(e),c=l.length;if(u!=c&&!a)return!1;for(var h=u;h--;){var d=s[h];if(!(a?d in e:iY.call(e,d)))return!1}var p=o.get(t),_=o.get(e);if(p&&_)return p==e&&_==t;var g=!0;o.set(t,e),o.set(e,t);for(var v=a;++h<u;){d=s[h];var b=t[d],y=e[d];if(r)var w=a?r(y,b,d,e,t,o):r(b,y,d,t,e,o);if(!(w===void 0?b===y||i(b,y,n,r,o):w)){g=!1;break}v||(v=d=="constructor")}if(g&&!v){var x=t.constructor,T=e.constructor;x!=T&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof T=="function"&&T instanceof T)&&(g=!1)}return o.delete(t),o.delete(e),g}var aY=oY,sY=za,uY=Wr,lY=sY(uY,"DataView"),cY=lY,hY=za,fY=Wr,dY=hY(fY,"Promise"),pY=dY,mY=za,gY=Wr,yY=mY(gY,"Set"),hM=yY,vY=za,_Y=Wr,wY=vY(_Y,"WeakMap"),bY=wY,e_=cY,t_=e1,n_=pY,r_=hM,i_=bY,fM=Ai,$u=b2,NI="[object Map]",xY="[object Object]",DI="[object Promise]",MI="[object Set]",$I="[object WeakMap]",LI="[object DataView]",TY=$u(e_),SY=$u(t_),EY=$u(n_),IY=$u(r_),AY=$u(i_),Ho=fM;(e_&&Ho(new e_(new ArrayBuffer(1)))!=LI||t_&&Ho(new t_)!=NI||n_&&Ho(n_.resolve())!=DI||r_&&Ho(new r_)!=MI||i_&&Ho(new i_)!=$I)&&(Ho=function(t){var e=fM(t),n=e==xY?t.constructor:void 0,r=n?$u(n):"";if(r)switch(r){case TY:return LI;case SY:return NI;case EY:return DI;case IY:return MI;case AY:return $I}return e});var PY=Ho,qy=tM,OY=oM,CY=uQ,kY=aY,VI=PY,jI=En,FI=Pp.exports,RY=lM,NY=1,BI="[object Arguments]",UI="[object Array]",Lf="[object Object]",DY=Object.prototype,zI=DY.hasOwnProperty;function MY(t,e,n,r,i,o){var a=jI(t),s=jI(e),u=a?UI:VI(t),l=s?UI:VI(e);u=u==BI?Lf:u,l=l==BI?Lf:l;var c=u==Lf,h=l==Lf,d=u==l;if(d&&FI(t)){if(!FI(e))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new qy),a||RY(t)?OY(t,e,n,r,i,o):CY(t,e,u,n,r,i,o);if(!(n&NY)){var p=c&&zI.call(t,"__wrapped__"),_=h&&zI.call(e,"__wrapped__");if(p||_){var g=p?t.value():t,v=_?e.value():e;return o||(o=new qy),i(g,v,n,r,o)}}return d?(o||(o=new qy),kY(t,e,n,r,i,o)):!1}var $Y=MY,LY=$Y,qI=Pi;function dM(t,e,n,r,i){return t===e?!0:t==null||e==null||!qI(t)&&!qI(e)?t!==t&&e!==e:LY(t,e,n,r,dM,i)}var _1=dM,VY=tM,jY=_1,FY=1,BY=2;function UY(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var u=s[0],l=t[u],c=s[1];if(a&&s[2]){if(l===void 0&&!(u in t))return!1}else{var h=new VY;if(r)var d=r(l,c,u,t,e,h);if(!(d===void 0?jY(c,l,FY|BY,r,h):d))return!1}}return!0}var zY=UY,qY=Fn;function WY(t){return t===t&&!qY(t)}var pM=WY,GY=pM,KY=pg;function HY(t){for(var e=KY(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,GY(i)]}return e}var QY=HY;function XY(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var mM=XY,YY=zY,JY=QY,ZY=mM;function eJ(t){var e=JY(t);return e.length==1&&e[0][2]?ZY(e[0][0],e[0][1]):function(n){return n===t||YY(n,t,e)}}var tJ=eJ;function nJ(t,e){return t!=null&&e in Object(t)}var rJ=nJ,iJ=I2,oJ=g1,aJ=En,sJ=y1,uJ=v1,lJ=Jm;function cJ(t,e,n){e=iJ(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=lJ(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&uJ(i)&&sJ(a,i)&&(aJ(t)||oJ(t)))}var hJ=cJ,fJ=rJ,dJ=hJ;function pJ(t,e){return t!=null&&dJ(t,e,fJ)}var mJ=pJ,gJ=_1,yJ=Mn,vJ=mJ,_J=Jb,wJ=pM,bJ=mM,xJ=Jm,TJ=1,SJ=2;function EJ(t,e){return _J(t)&&wJ(e)?bJ(xJ(t),e):function(n){var r=yJ(n,t);return r===void 0&&r===e?vJ(n,t):gJ(e,r,TJ|SJ)}}var IJ=EJ;function AJ(t){return t}var Lu=AJ;function PJ(t){return function(e){return e==null?void 0:e[t]}}var OJ=PJ,CJ=i1;function kJ(t){return function(e){return CJ(e,t)}}var RJ=kJ,NJ=OJ,DJ=RJ,MJ=Jb,$J=Jm;function LJ(t){return MJ(t)?NJ($J(t)):DJ(t)}var VJ=LJ,jJ=tJ,FJ=IJ,BJ=Lu,UJ=En,zJ=VJ;function qJ(t){return typeof t=="function"?t:t==null?BJ:typeof t=="object"?UJ(t)?FJ(t[0],t[1]):jJ(t):zJ(t)}var ko=qJ;function WJ(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var gM=WJ;function GJ(t){return t!==t}var KJ=GJ;function HJ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var QJ=HJ,XJ=gM,YJ=KJ,JJ=QJ;function ZJ(t,e,n){return e===e?JJ(t,e,n):XJ(t,YJ,n)}var eZ=ZJ,tZ=eZ;function nZ(t,e){var n=t==null?0:t.length;return!!n&&tZ(t,e,0)>-1}var rZ=nZ;function iZ(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var oZ=iZ;function aZ(){}var sZ=aZ,Wy=hM,uZ=sZ,lZ=m1,cZ=1/0,hZ=Wy&&1/lZ(new Wy([,-0]))[1]==cZ?function(t){return new Wy(t)}:uZ,fZ=hZ,dZ=nM,pZ=rZ,mZ=oZ,gZ=iM,yZ=fZ,vZ=m1,_Z=200;function wZ(t,e,n){var r=-1,i=pZ,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=mZ;else if(o>=_Z){var l=e?null:yZ(t);if(l)return vZ(l);a=!1,i=gZ,u=new dZ}else u=e?[]:s;e:for(;++r<o;){var c=t[r],h=e?e(c):c;if(c=n||c!==0?c:0,a&&h===h){for(var d=u.length;d--;)if(u[d]===h)continue e;e&&u.push(h),s.push(c)}else i(u,h,n)||(u!==s&&u.push(h),s.push(c))}return s}var bZ=wZ,xZ=ko,TZ=bZ;function SZ(t,e){return t&&t.length?TZ(t,xZ(e)):[]}var EZ=SZ;const WI=EZ;function yM(t,e,n){return e===!0?WI(t,n):_e(e)?WI(t,e):t}function au(t){return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}var IZ=["ref"];function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){mg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wM(r.key),r)}}function PZ(t,e,n){return e&&KI(t.prototype,e),n&&KI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function OZ(t,e,n){return e=Op(e),CZ(t,vM()?Reflect.construct(e,n||[],Op(t).constructor):e.apply(t,n))}function CZ(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _M(t)}function vM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vM=function(){return!!t})()}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Op(t)}function _M(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o_(t,e)}function o_(t,e){return o_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},o_(t,e)}function mg(t,e,n){return e=wM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wM(t){var e=RZ(t,"string");return au(e)=="symbol"?e:String(e)}function RZ(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NZ(t,e){if(t==null)return{};var n=DZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function DZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function MZ(t){return t.value}function $Z(t,e){if(Ne.isValidElement(t))return Ne.cloneElement(t,e);if(typeof t=="function")return Ne.createElement(t,e);e.ref;var n=NZ(e,IZ);return D(p1,{...n})}var HI=1,su=function(t){kZ(e,t);function e(){var n;AZ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=OZ(this,e,[].concat(i)),mg(_M(n),"lastBoundingBox",{width:-1,height:-1}),n}return PZ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>HI||Math.abs(i.height-this.lastBoundingBox.height)>HI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Uo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,u=i.margin,l=i.chartWidth,c=i.chartHeight,h,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();h={left:((l||0)-p.width)/2}}else h=a==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var _=this.getBBoxSnapshot();d={top:((c||0)-_.height)/2}}else d=s==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return Uo(Uo({},h),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,u=i.wrapperStyle,l=i.payloadUniqBy,c=i.payload,h=Uo(Uo({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(u)),u);return D("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){r.wrapperNode=p},children:$Z(o,Uo(Uo({},this.props),{},{payload:yM(c,l,MZ)}))})}}],[{key:"getWithHeight",value:function(r,i){var o=r.props.layout;return o==="vertical"&&ee(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}]),e}(M.exports.PureComponent);mg(su,"displayName","Legend");mg(su,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var QI=Lh,LZ=g1,VZ=En,XI=QI?QI.isConcatSpreadable:void 0;function jZ(t){return VZ(t)||LZ(t)||!!(XI&&t&&t[XI])}var FZ=jZ,BZ=aM,UZ=FZ;function bM(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=UZ),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?bM(s,e-1,n,r,i):BZ(i,s):r||(i[i.length]=s)}return i}var xM=bM;function zZ(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(n(o[u],u,o)===!1)break}return e}}var qZ=zZ,WZ=qZ,GZ=WZ(),KZ=GZ,HZ=KZ,QZ=pg;function XZ(t,e){return t&&HZ(t,e,QZ)}var TM=XZ,YZ=Fh;function JZ(t,e){return function(n,r){if(n==null)return n;if(!YZ(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var ZZ=JZ,eee=TM,tee=ZZ,nee=tee(eee),w1=nee,ree=w1,iee=Fh;function oee(t,e){var n=-1,r=iee(t)?Array(t.length):[];return ree(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var SM=oee;function aee(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var see=aee,YI=ku;function uee(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=YI(t),a=e!==void 0,s=e===null,u=e===e,l=YI(e);if(!s&&!l&&!o&&t>e||o&&a&&u&&!s&&!l||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&t<e||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}var lee=uee,cee=lee;function hee(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=cee(i[r],o[r]);if(u){if(r>=s)return u;var l=n[r];return u*(l=="desc"?-1:1)}}return t.index-e.index}var fee=hee,Gy=r1,dee=i1,pee=ko,mee=SM,gee=see,yee=uM,vee=fee,_ee=Lu,wee=En;function bee(t,e,n){e.length?e=Gy(e,function(o){return wee(o)?function(a){return dee(a,o.length===1?o[0]:o)}:o}):e=[_ee];var r=-1;e=Gy(e,yee(pee));var i=mee(t,function(o,a,s){var u=Gy(e,function(l){return l(o)});return{criteria:u,index:++r,value:o}});return gee(i,function(o,a){return vee(o,a,n)})}var xee=bee;function Tee(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var See=Tee,Eee=See,JI=Math.max;function Iee(t,e,n){return e=JI(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=JI(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),Eee(t,this,s)}}var Aee=Iee;function Pee(t){return function(){return t}}var Oee=Pee,Cee=za,kee=function(){try{var t=Cee(Object,"defineProperty");return t({},"",{}),t}catch{}}(),EM=kee,Ree=Oee,ZI=EM,Nee=Lu,Dee=ZI?function(t,e){return ZI(t,"toString",{configurable:!0,enumerable:!1,value:Ree(e),writable:!0})}:Nee,Mee=Dee,$ee=800,Lee=16,Vee=Date.now;function jee(t){var e=0,n=0;return function(){var r=Vee(),i=Lee-(r-n);if(n=r,i>0){if(++e>=$ee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Fee=jee,Bee=Mee,Uee=Fee,zee=Uee(Bee),qee=zee,Wee=Lu,Gee=Aee,Kee=qee;function Hee(t,e){return Kee(Gee(t,e,Wee),t+"")}var Qee=Hee,Xee=Zb,Yee=Fh,Jee=y1,Zee=Fn;function ete(t,e,n){if(!Zee(n))return!1;var r=typeof e;return(r=="number"?Yee(n)&&Jee(e,n.length):r=="string"&&e in n)?Xee(n[e],t):!1}var gg=ete,tte=xM,nte=xee,rte=Qee,eA=gg,ite=rte(function(t,e){if(t==null)return[];var n=e.length;return n>1&&eA(t,e[0],e[1])?e=[]:n>2&&eA(e[0],e[1],e[2])&&(e=[e[0]]),nte(t,tte(e,1),[])}),b1=ite;function Vc(t){return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function ote(t,e){return lte(t)||ute(t,e)||ste(t,e)||ate()}function ate(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ste(t,e){if(!!t){if(typeof t=="string")return tA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tA(t,e)}}function tA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ute(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function lte(t){if(Array.isArray(t))return t}function nA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ky(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nA(Object(n),!0).forEach(function(r){cte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cte(t,e,n){return e=hte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hte(t){var e=fte(t,"string");return Vc(e)=="symbol"?e:String(e)}function fte(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dte(t){return Array.isArray(t)&&Tt(t[0])&&Tt(t[1])?t.join(" ~ "):t}var pte=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,u=e.labelStyle,l=u===void 0?{}:u,c=e.payload,h=e.formatter,d=e.itemSorter,p=e.wrapperClassName,_=e.labelClassName,g=e.label,v=e.labelFormatter,b=e.accessibilityLayer,y=b===void 0?!1:b,w=function(){if(c&&c.length){var N={padding:0,margin:0},C=(d?b1(c,d):c).map(function(F,K){if(F.type==="none")return null;var z=Ky({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},s),Q=F.formatter||h||dte,V=F.value,G=F.name,X=V,ae=G;if(Q&&X!=null&&ae!=null){var te=Q(V,G,F,K,c);if(Array.isArray(te)){var le=ote(te,2);X=le[0],ae=le[1]}else X=te}return Y("li",{className:"recharts-tooltip-item",style:z,children:[Tt(ae)?D("span",{className:"recharts-tooltip-item-name",children:ae}):null,Tt(ae)?D("span",{className:"recharts-tooltip-item-separator",children:r}):null,D("span",{className:"recharts-tooltip-item-value",children:X}),D("span",{className:"recharts-tooltip-item-unit",children:F.unit||""})]},"tooltip-item-".concat(K))});return D("ul",{className:"recharts-tooltip-item-list",style:N,children:C})}return null},x=Ky({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),T=Ky({margin:0},l),A=!ke(g),I=A?g:"",S=Re("recharts-default-tooltip",p),P=Re("recharts-tooltip-label",_);A&&v&&c!==void 0&&c!==null&&(I=v(g,c));var O=y?{role:"status","aria-live":"assertive"}:{};return Y("div",{className:S,style:x,...O,children:[D("p",{className:P,style:T,children:Ne.isValidElement(I)?I:"".concat(I)}),w()]})};function jc(t){return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function Vf(t,e,n){return e=mte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mte(t){var e=gte(t,"string");return jc(e)=="symbol"?e:String(e)}function gte(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yl="recharts-tooltip-wrapper",yte={visibility:"hidden"};function vte(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Re(yl,Vf(Vf(Vf(Vf({},"".concat(yl,"-right"),ee(n)&&e&&ee(e.x)&&n>=e.x),"".concat(yl,"-left"),ee(n)&&e&&ee(e.x)&&n<e.x),"".concat(yl,"-bottom"),ee(r)&&e&&ee(e.y)&&r>=e.y),"".concat(yl,"-top"),ee(r)&&e&&ee(e.y)&&r<e.y))}function rA(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,u=t.viewBox,l=t.viewBoxDimension;if(o&&ee(o[r]))return o[r];var c=n[r]-s-i,h=n[r]+i;if(e[r])return a[r]?c:h;if(a[r]){var d=c,p=u[r];return d<p?Math.max(h,u[r]):Math.max(c,u[r])}var _=h+s,g=u[r]+l;return _>g?Math.max(c,u[r]):Math.max(h,u[r])}function _te(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function wte(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,u=t.viewBox,l,c,h;return a.height>0&&a.width>0&&n?(c=rA({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:u,viewBoxDimension:u.width}),h=rA({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:u,viewBoxDimension:u.height}),l=_te({translateX:c,translateY:h,useTranslate3d:s})):l=yte,{cssProperties:l,cssClasses:vte({translateX:c,translateY:h,coordinate:n})}}function uu(t){return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function iA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iA(Object(n),!0).forEach(function(r){u_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AM(r.key),r)}}function xte(t,e,n){return e&&aA(t.prototype,e),n&&aA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tte(t,e,n){return e=Cp(e),Ste(t,IM()?Reflect.construct(e,n||[],Cp(t).constructor):e.apply(t,n))}function Ste(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a_(t)}function IM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IM=function(){return!!t})()}function Cp(t){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cp(t)}function a_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ete(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s_(t,e)}function s_(t,e){return s_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},s_(t,e)}function u_(t,e,n){return e=AM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AM(t){var e=Ite(t,"string");return uu(e)=="symbol"?e:String(e)}function Ite(t,e){if(uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sA=1,Ate=function(t){Ete(e,t);function e(){var n;bte(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Tte(this,e,[].concat(i)),u_(a_(n),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),u_(a_(n),"handleKeyDown",function(a){if(a.key==="Escape"){var s,u,l,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(u=n.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&s!==void 0?s:0,y:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&l!==void 0?l:0}})}}),n}return xte(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>sA||Math.abs(r.height-this.state.lastBoundingBox.height)>sA)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),!!this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,u=i.animationEasing,l=i.children,c=i.coordinate,h=i.hasPayload,d=i.isAnimationActive,p=i.offset,_=i.position,g=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,y=i.wrapperStyle,w=wte({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:p,position:_,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),x=w.cssClasses,T=w.cssProperties,A=oA(oA({transition:d&&o?"transform ".concat(s,"ms ").concat(u):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&h?"visible":"hidden",position:"absolute",top:0,left:0},y);return D("div",{tabIndex:-1,className:x,style:A,ref:function(S){r.wrapperNode=S},children:l})}}]),e}(M.exports.PureComponent),Pte=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},fo={isSsr:Pte(),get:function(e){return fo[e]},set:function(e,n){if(typeof e=="string")fo[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){fo[i]=e[i]})}}};function lu(t){return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function uA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uA(Object(n),!0).forEach(function(r){x1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ote(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OM(r.key),r)}}function Cte(t,e,n){return e&&cA(t.prototype,e),n&&cA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kte(t,e,n){return e=kp(e),Rte(t,PM()?Reflect.construct(e,n||[],kp(t).constructor):e.apply(t,n))}function Rte(t,e){if(e&&(lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nte(t)}function Nte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PM=function(){return!!t})()}function kp(t){return kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kp(t)}function Dte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l_(t,e)}function l_(t,e){return l_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},l_(t,e)}function x1(t,e,n){return e=OM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OM(t){var e=Mte(t,"string");return lu(e)=="symbol"?e:String(e)}function Mte(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $te(t){return t.dataKey}function Lte(t,e){return Ne.isValidElement(t)?Ne.cloneElement(t,e):typeof t=="function"?Ne.createElement(t,e):D(pte,{...e})}var Ar=function(t){Dte(e,t);function e(){return Ote(this,e),kte(this,e,arguments)}return Cte(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,u=i.animationEasing,l=i.content,c=i.coordinate,h=i.filterNull,d=i.isAnimationActive,p=i.offset,_=i.payload,g=i.payloadUniqBy,v=i.position,b=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,x=i.wrapperStyle,T=_!=null?_:[];h&&T.length&&(T=yM(_.filter(function(I){return I.value!=null&&(I.hide!==!0||r.props.includeHidden)}),g,$te));var A=T.length>0;return D(Ate,{allowEscapeViewBox:a,animationDuration:s,animationEasing:u,isAnimationActive:d,active:o,coordinate:c,hasPayload:A,offset:p,position:v,reverseDirection:b,useTranslate3d:y,viewBox:w,wrapperStyle:x,children:Lte(l,lA(lA({},this.props),{},{payload:T}))})}}]),e}(M.exports.PureComponent);x1(Ar,"displayName","Tooltip");x1(Ar,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!fo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Vte=Wr,jte=function(){return Vte.Date.now()},Fte=jte,Bte=/\s/;function Ute(t){for(var e=t.length;e--&&Bte.test(t.charAt(e)););return e}var zte=Ute,qte=zte,Wte=/^\s+/;function Gte(t){return t&&t.slice(0,qte(t)+1).replace(Wte,"")}var Kte=Gte,Hte=Kte,hA=Fn,Qte=ku,fA=0/0,Xte=/^[-+]0x[0-9a-f]+$/i,Yte=/^0b[01]+$/i,Jte=/^0o[0-7]+$/i,Zte=parseInt;function ene(t){if(typeof t=="number")return t;if(Qte(t))return fA;if(hA(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=hA(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Hte(t);var n=Yte.test(t);return n||Jte.test(t)?Zte(t.slice(2),n?2:8):Xte.test(t)?fA:+t}var CM=ene,tne=Fn,Hy=Fte,dA=CM,nne="Expected a function",rne=Math.max,ine=Math.min;function one(t,e,n){var r,i,o,a,s,u,l=0,c=!1,h=!1,d=!0;if(typeof t!="function")throw new TypeError(nne);e=dA(e)||0,tne(n)&&(c=!!n.leading,h="maxWait"in n,o=h?rne(dA(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function p(A){var I=r,S=i;return r=i=void 0,l=A,a=t.apply(S,I),a}function _(A){return l=A,s=setTimeout(b,e),c?p(A):a}function g(A){var I=A-u,S=A-l,P=e-I;return h?ine(P,o-S):P}function v(A){var I=A-u,S=A-l;return u===void 0||I>=e||I<0||h&&S>=o}function b(){var A=Hy();if(v(A))return y(A);s=setTimeout(b,g(A))}function y(A){return s=void 0,d&&r?p(A):(r=i=void 0,a)}function w(){s!==void 0&&clearTimeout(s),l=0,r=u=i=s=void 0}function x(){return s===void 0?a:y(Hy())}function T(){var A=Hy(),I=v(A);if(r=arguments,i=this,u=A,I){if(s===void 0)return _(u);if(h)return clearTimeout(s),s=setTimeout(b,e),p(u)}return s===void 0&&(s=setTimeout(b,e)),a}return T.cancel=w,T.flush=x,T}var ane=one,sne=ane,une=Fn,lne="Expected a function";function cne(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(lne);return une(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),sne(t,e,{leading:r,maxWait:e,trailing:i})}var kM=cne;function Fc(t){return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function pA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pA(Object(n),!0).forEach(function(r){hne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hne(t,e,n){return e=fne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fne(t){var e=dne(t,"string");return Fc(e)=="symbol"?e:String(e)}function dne(t,e){if(Fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pne(t,e){return vne(t)||yne(t,e)||gne(t,e)||mne()}function mne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gne(t,e){if(!!t){if(typeof t=="string")return mA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mA(t,e)}}function mA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function vne(t){if(Array.isArray(t))return t}var _ne=M.exports.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,u=s===void 0?"100%":s,l=t.minWidth,c=l===void 0?0:l,h=t.minHeight,d=t.maxHeight,p=t.children,_=t.debounce,g=_===void 0?0:_,v=t.id,b=t.className,y=t.onResize,w=t.style,x=w===void 0?{}:w,T=M.exports.useRef(null),A=M.exports.useRef();A.current=y,M.exports.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var I=M.exports.useState({containerWidth:i.width,containerHeight:i.height}),S=pne(I,2),P=S[0],O=S[1],R=M.exports.useCallback(function(C,F){O(function(K){var z=Math.round(C),Q=Math.round(F);return K.containerWidth===z&&K.containerHeight===Q?K:{containerWidth:z,containerHeight:Q}})},[]);M.exports.useEffect(function(){var C=function(G){var X,ae=G[0].contentRect,te=ae.width,le=ae.height;R(te,le),(X=A.current)===null||X===void 0||X.call(A,te,le)};g>0&&(C=kM(C,g,{trailing:!0,leading:!1}));var F=new ResizeObserver(C),K=T.current.getBoundingClientRect(),z=K.width,Q=K.height;return R(z,Q),F.observe(T.current),function(){F.disconnect()}},[R,g]);var N=M.exports.useMemo(function(){var C=P.containerWidth,F=P.containerHeight;if(C<0||F<0)return null;ci(oa(a)||oa(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,u),ci(!n||n>0,"The aspect(%s) must be greater than zero.",n);var K=oa(a)?C:a,z=oa(u)?F:u;n&&n>0&&(K?z=K/n:z&&(K=z*n),d&&z>d&&(z=d)),ci(K>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,z,a,u,c,h,n);var Q=!Array.isArray(p)&&vp.exports.isElement(p)&&li(p.type).endsWith("Chart");return Ne.Children.map(p,function(V){return vp.exports.isElement(V)?M.exports.cloneElement(V,jf({width:K,height:z},Q?{style:jf({height:"100%",width:"100%",maxHeight:z,maxWidth:K},V.props.style)}:{})):V})},[n,p,u,d,h,c,P,a]);return D("div",{id:v?"".concat(v):void 0,className:Re("recharts-responsive-container",b),style:jf(jf({},x),{},{width:a,height:u,minWidth:c,minHeight:h,maxHeight:d}),ref:T,children:N})}),RM=function(e){return null};RM.displayName="Cell";function Bc(t){return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function gA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gA(Object(n),!0).forEach(function(r){wne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wne(t,e,n){return e=bne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bne(t){var e=xne(t,"string");return Bc(e)=="symbol"?e:String(e)}function xne(t,e){if(Bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var is={widthCache:{},cacheCount:0},Tne=2e3,Sne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},yA="recharts_measurement_span";function Ene(t){var e=c_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Zl=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||fo.isSsr)return{width:0,height:0};var r=Ene(n),i=JSON.stringify({text:e,copyStyle:r});if(is.widthCache[i])return is.widthCache[i];try{var o=document.getElementById(yA);o||(o=document.createElement("span"),o.setAttribute("id",yA),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=c_(c_({},Sne),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),u={width:s.width,height:s.height};return is.widthCache[i]=u,++is.cacheCount>Tne&&(is.cacheCount=0,is.widthCache={}),u}catch{return{width:0,height:0}}},Ine=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Uc(t){return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function Rp(t,e){return Cne(t)||One(t,e)||Pne(t,e)||Ane()}function Ane(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pne(t,e){if(!!t){if(typeof t=="string")return vA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vA(t,e)}}function vA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function One(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function Cne(t){if(Array.isArray(t))return t}function kne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nne(r.key),r)}}function Rne(t,e,n){return e&&_A(t.prototype,e),n&&_A(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nne(t){var e=Dne(t,"string");return Uc(e)=="symbol"?e:String(e)}function Dne(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$ne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,NM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Lne=Object.keys(NM),Ss="NaN";function Vne(t,e){return t*NM[e]}var Ff=function(){function t(e,n){kne(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Mne.test(n)&&(this.num=NaN,this.unit=""),Lne.includes(n)&&(this.num=Vne(e,n),this.unit="px")}return Rne(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=$ne.exec(n))!==null&&r!==void 0?r:[],o=Rp(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s!=null?s:"")}}]),t}();function DM(t){if(t.includes(Ss))return Ss;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=wA.exec(e))!==null&&n!==void 0?n:[],i=Rp(r,4),o=i[1],a=i[2],s=i[3],u=Ff.parse(o!=null?o:""),l=Ff.parse(s!=null?s:""),c=a==="*"?u.multiply(l):u.divide(l);if(c.isNaN())return Ss;e=e.replace(wA,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,d=(h=bA.exec(e))!==null&&h!==void 0?h:[],p=Rp(d,4),_=p[1],g=p[2],v=p[3],b=Ff.parse(_!=null?_:""),y=Ff.parse(v!=null?v:""),w=g==="+"?b.add(y):b.subtract(y);if(w.isNaN())return Ss;e=e.replace(bA,w.toString())}return e}var xA=/\(([^()]*)\)/;function jne(t){for(var e=t;e.includes("(");){var n=xA.exec(e),r=Rp(n,2),i=r[1];e=e.replace(xA,DM(i))}return e}function Fne(t){var e=t.replace(/\s+/g,"");return e=jne(e),e=DM(e),e}function Bne(t){try{return Fne(t)}catch{return Ss}}function Qy(t){var e=Bne(t.slice(5,-1));return e===Ss?"":e}var Une=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zne=["dx","dy","angle","className","breakAll"];function TA(t,e){if(t==null)return{};var n=qne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function qne(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function SA(t,e){return Hne(t)||Kne(t,e)||Gne(t,e)||Wne()}function Wne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gne(t,e){if(!!t){if(typeof t=="string")return EA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EA(t,e)}}function EA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function Hne(t){if(Array.isArray(t))return t}var MM=/[ \f\n\r\t\v\u2028\u2029]+/,$M=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];ke(n)||(r?o=n.toString().split(""):o=n.toString().split(MM));var a=o.map(function(u){return{word:u,width:Zl(u,i).width}}),s=r?0:Zl("\xA0",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Qne=function(e,n,r,i,o){var a=e.maxLines,s=e.children,u=e.style,l=e.breakAll,c=ee(a),h=s,d=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(z,Q){var V=Q.word,G=Q.width,X=z[z.length-1];if(X&&(i==null||o||X.width+G+r<Number(i)))X.words.push(V),X.width+=G+r;else{var ae={words:[V],width:G};z.push(ae)}return z},[])},p=d(n),_=function(K){return K.reduce(function(z,Q){return z.width>Q.width?z:Q})};if(!c)return p;for(var g="\u2026",v=function(K){var z=h.slice(0,K),Q=$M({breakAll:l,style:u,children:z+g}).wordsWithComputedWidth,V=d(Q),G=V.length>a||_(V).width>Number(i);return[G,V]},b=0,y=h.length-1,w=0,x;b<=y&&w<=h.length-1;){var T=Math.floor((b+y)/2),A=T-1,I=v(A),S=SA(I,2),P=S[0],O=S[1],R=v(T),N=SA(R,1),C=N[0];if(!P&&!C&&(b=T+1),P&&C&&(y=T-1),!P&&C){x=O;break}w++}return x||p},IA=function(e){var n=ke(e)?[]:e.toString().split(MM);return[{words:n}]},Xne=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!fo.isSsr){var u,l,c=$M({breakAll:a,children:i,style:o});if(c){var h=c.wordsWithComputedWidth,d=c.spaceWidth;u=h,l=d}else return IA(i);return Qne({breakAll:a,children:i,maxLines:s,style:o},u,l,n,r)}return IA(i)},AA="#808080",Np=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,u=e.capHeight,l=u===void 0?"0.71em":u,c=e.scaleToFit,h=c===void 0?!1:c,d=e.textAnchor,p=d===void 0?"start":d,_=e.verticalAnchor,g=_===void 0?"end":_,v=e.fill,b=v===void 0?AA:v,y=TA(e,Une),w=M.exports.useMemo(function(){return Xne({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:h,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,h,y.style,y.width]),x=y.dx,T=y.dy,A=y.angle,I=y.className,S=y.breakAll,P=TA(y,zne);if(!Tt(r)||!Tt(o))return null;var O=r+(ee(x)?x:0),R=o+(ee(T)?T:0),N;switch(g){case"start":N=Qy("calc(".concat(l,")"));break;case"middle":N=Qy("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:N=Qy("calc(".concat(w.length-1," * -").concat(s,")"));break}var C=[];if(h){var F=w[0].width,K=y.width;C.push("scale(".concat((ee(K)?K/F:1)/F,")"))}return A&&C.push("rotate(".concat(A,", ").concat(O,", ").concat(R,")")),C.length&&(P.transform=C.join(" ")),D("text",{...Oe(P,!0),x:O,y:R,className:Re("recharts-text",I),textAnchor:p,fill:b.includes("url")?AA:b,children:w.map(function(z,Q){var V=z.words.join(S?"":" ");return D("tspan",{x:O,dy:Q===0?N:s,children:V},V)})})};function po(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Yne(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function T1(t){let e,n,r;t.length!==2?(e=po,n=(s,u)=>po(t(s),u),r=(s,u)=>t(s)-u):(e=t===po||t===Yne?t:Jne,n=t,r=t);function i(s,u,l=0,c=s.length){if(l<c){if(e(u,u)!==0)return c;do{const h=l+c>>>1;n(s[h],u)<0?l=h+1:c=h}while(l<c)}return l}function o(s,u,l=0,c=s.length){if(l<c){if(e(u,u)!==0)return c;do{const h=l+c>>>1;n(s[h],u)<=0?l=h+1:c=h}while(l<c)}return l}function a(s,u,l=0,c=s.length){const h=i(s,u,l,c-1);return h>l&&r(s[h-1],u)>-r(s[h],u)?h-1:h}return{left:i,center:a,right:o}}function Jne(){return 0}function LM(t){return t===null?NaN:+t}function*Zne(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const ere=T1(po),tre=ere.right;T1(LM).center;const Bh=tre;class PA extends Map{constructor(e,n=ire){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(OA(this,e))}has(e){return super.has(OA(this,e))}set(e,n){return super.set(nre(this,e),n)}delete(e){return super.delete(rre(this,e))}}function OA({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function nre({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function rre({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ire(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ore(t=po){if(t===po)return VM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function VM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const are=Math.sqrt(50),sre=Math.sqrt(10),ure=Math.sqrt(2);function Dp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=are?10:o>=sre?5:o>=ure?2:1;let s,u,l;return i<0?(l=Math.pow(10,-i)/a,s=Math.round(t*l),u=Math.round(e*l),s/l<t&&++s,u/l>e&&--u,l=-l):(l=Math.pow(10,i)*a,s=Math.round(t/l),u=Math.round(e/l),s*l<t&&++s,u*l>e&&--u),u<s&&.5<=n&&n<2?Dp(t,e,n*2):[s,u,l]}function h_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Dp(e,t,n):Dp(t,e,n);if(!(o>=i))return[];const s=o-i+1,u=new Array(s);if(r)if(a<0)for(let l=0;l<s;++l)u[l]=(o-l)/-a;else for(let l=0;l<s;++l)u[l]=(o-l)*a;else if(a<0)for(let l=0;l<s;++l)u[l]=(i+l)/-a;else for(let l=0;l<s;++l)u[l]=(i+l)*a;return u}function f_(t,e,n){return e=+e,t=+t,n=+n,Dp(t,e,n)[2]}function d_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?f_(e,t,n):f_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function CA(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function kA(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function jM(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?VM:ore(i);r>n;){if(r-n>600){const u=r-n+1,l=e-n+1,c=Math.log(u),h=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*h*(u-h)/u)*(l-u/2<0?-1:1),p=Math.max(n,Math.floor(e-l*h/u+d)),_=Math.min(r,Math.floor(e+(u-l)*h/u+d));jM(t,e,p,_,i)}const o=t[e];let a=n,s=r;for(vl(t,n,e),i(t[r],o)>0&&vl(t,n,r);a<s;){for(vl(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?vl(t,n,s):(++s,vl(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function vl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function lre(t,e,n){if(t=Float64Array.from(Zne(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return kA(t);if(e>=1)return CA(t);var r,i=(r-1)*e,o=Math.floor(i),a=CA(jM(t,o).subarray(0,o+1)),s=kA(t.subarray(o+1));return a+(s-a)*(i-o)}}function cre(t,e,n=LM){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function hre(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function tr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Oi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const p_=Symbol("implicit");function S1(){var t=new PA,e=[],n=[],r=p_;function i(o){let a=t.get(o);if(a===void 0){if(r!==p_)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new PA;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return S1(e,n).unknown(r)},tr.apply(i,arguments),i}function zc(){var t=S1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,u=0,l=0,c=.5;delete t.unknown;function h(){var d=e().length,p=i<r,_=p?i:r,g=p?r:i;o=(g-_)/Math.max(1,d-u+l*2),s&&(o=Math.floor(o)),_+=(g-_-o*(d-u))*c,a=o*(1-u),s&&(_=Math.round(_),a=Math.round(a));var v=hre(d).map(function(b){return _+o*b});return n(p?v.reverse():v)}return t.domain=function(d){return arguments.length?(e(d),h()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(d){return arguments.length?(s=!!d,h()):s},t.padding=function(d){return arguments.length?(u=Math.min(1,l=+d),h()):u},t.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),h()):u},t.paddingOuter=function(d){return arguments.length?(l=+d,h()):l},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),h()):c},t.copy=function(){return zc(e(),[r,i]).round(s).paddingInner(u).paddingOuter(l).align(c)},tr.apply(h(),arguments)}function FM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return FM(e())},t}function ec(){return FM(zc.apply(null,arguments).paddingInner(1))}function E1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function BM(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Uh(){}var qc=.7,Mp=1/qc,$s="\\s*([+-]?\\d+)\\s*",Wc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fre=/^#([0-9a-f]{3,8})$/,dre=new RegExp(`^rgb\\(${$s},${$s},${$s}\\)$`),pre=new RegExp(`^rgb\\(${$r},${$r},${$r}\\)$`),mre=new RegExp(`^rgba\\(${$s},${$s},${$s},${Wc}\\)$`),gre=new RegExp(`^rgba\\(${$r},${$r},${$r},${Wc}\\)$`),yre=new RegExp(`^hsl\\(${Wc},${$r},${$r}\\)$`),vre=new RegExp(`^hsla\\(${Wc},${$r},${$r},${Wc}\\)$`),RA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};E1(Uh,Gc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:NA,formatHex:NA,formatHex8:_re,formatHsl:wre,formatRgb:DA,toString:DA});function NA(){return this.rgb().formatHex()}function _re(){return this.rgb().formatHex8()}function wre(){return UM(this).formatHsl()}function DA(){return this.rgb().formatRgb()}function Gc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=fre.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?MA(e):n===3?new bn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Bf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Bf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=dre.exec(t))?new bn(e[1],e[2],e[3],1):(e=pre.exec(t))?new bn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=mre.exec(t))?Bf(e[1],e[2],e[3],e[4]):(e=gre.exec(t))?Bf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=yre.exec(t))?VA(e[1],e[2]/100,e[3]/100,1):(e=vre.exec(t))?VA(e[1],e[2]/100,e[3]/100,e[4]):RA.hasOwnProperty(t)?MA(RA[t]):t==="transparent"?new bn(NaN,NaN,NaN,0):null}function MA(t){return new bn(t>>16&255,t>>8&255,t&255,1)}function Bf(t,e,n,r){return r<=0&&(t=e=n=NaN),new bn(t,e,n,r)}function bre(t){return t instanceof Uh||(t=Gc(t)),t?(t=t.rgb(),new bn(t.r,t.g,t.b,t.opacity)):new bn}function m_(t,e,n,r){return arguments.length===1?bre(t):new bn(t,e,n,r==null?1:r)}function bn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}E1(bn,m_,BM(Uh,{brighter(t){return t=t==null?Mp:Math.pow(Mp,t),new bn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?qc:Math.pow(qc,t),new bn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new bn(da(this.r),da(this.g),da(this.b),$p(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$A,formatHex:$A,formatHex8:xre,formatRgb:LA,toString:LA}));function $A(){return`#${aa(this.r)}${aa(this.g)}${aa(this.b)}`}function xre(){return`#${aa(this.r)}${aa(this.g)}${aa(this.b)}${aa((isNaN(this.opacity)?1:this.opacity)*255)}`}function LA(){const t=$p(this.opacity);return`${t===1?"rgb(":"rgba("}${da(this.r)}, ${da(this.g)}, ${da(this.b)}${t===1?")":`, ${t})`}`}function $p(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function da(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function aa(t){return t=da(t),(t<16?"0":"")+t.toString(16)}function VA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new fr(t,e,n,r)}function UM(t){if(t instanceof fr)return new fr(t.h,t.s,t.l,t.opacity);if(t instanceof Uh||(t=Gc(t)),!t)return new fr;if(t instanceof fr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new fr(a,s,u,t.opacity)}function Tre(t,e,n,r){return arguments.length===1?UM(t):new fr(t,e,n,r==null?1:r)}function fr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}E1(fr,Tre,BM(Uh,{brighter(t){return t=t==null?Mp:Math.pow(Mp,t),new fr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?qc:Math.pow(qc,t),new fr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new bn(Xy(t>=240?t-240:t+120,i,r),Xy(t,i,r),Xy(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new fr(jA(this.h),Uf(this.s),Uf(this.l),$p(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=$p(this.opacity);return`${t===1?"hsl(":"hsla("}${jA(this.h)}, ${Uf(this.s)*100}%, ${Uf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function jA(t){return t=(t||0)%360,t<0?t+360:t}function Uf(t){return Math.max(0,Math.min(1,t||0))}function Xy(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const I1=t=>()=>t;function Sre(t,e){return function(n){return t+n*e}}function Ere(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ire(t){return(t=+t)==1?zM:function(e,n){return n-e?Ere(e,n,t):I1(isNaN(e)?n:e)}}function zM(t,e){var n=e-t;return n?Sre(t,n):I1(isNaN(t)?e:t)}const FA=function t(e){var n=Ire(e);function r(i,o){var a=n((i=m_(i)).r,(o=m_(o)).r),s=n(i.g,o.g),u=n(i.b,o.b),l=zM(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function Are(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Pre(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ore(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Vu(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Cre(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Lp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function kre(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Vu(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var g_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yy=new RegExp(g_.source,"g");function Rre(t){return function(){return t}}function Nre(t){return function(e){return t(e)+""}}function Dre(t,e){var n=g_.lastIndex=Yy.lastIndex=0,r,i,o,a=-1,s=[],u=[];for(t=t+"",e=e+"";(r=g_.exec(t))&&(i=Yy.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:Lp(r,i)})),n=Yy.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?Nre(u[0].x):Rre(e):(e=u.length,function(l){for(var c=0,h;c<e;++c)s[(h=u[c]).i]=h.x(l);return s.join("")})}function Vu(t,e){var n=typeof e,r;return e==null||n==="boolean"?I1(e):(n==="number"?Lp:n==="string"?(r=Gc(e))?(e=r,FA):Dre:e instanceof Gc?FA:e instanceof Date?Cre:Pre(e)?Are:Array.isArray(e)?Ore:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?kre:Lp)(t,e)}function A1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Mre(t,e){e===void 0&&(e=t,t=Vu);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function $re(t){return function(){return t}}function Vp(t){return+t}var BA=[0,1];function ln(t){return t}function y_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:$re(isNaN(e)?NaN:.5)}function Lre(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Vre(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=y_(i,r),o=n(a,o)):(r=y_(r,i),o=n(o,a)),function(s){return o(r(s))}}function jre(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=y_(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var u=Bh(t,s,1,r)-1;return o[u](i[u](s))}}function zh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function yg(){var t=BA,e=BA,n=Vu,r,i,o,a=ln,s,u,l;function c(){var d=Math.min(t.length,e.length);return a!==ln&&(a=Lre(t[0],t[d-1])),s=d>2?jre:Vre,u=l=null,h}function h(d){return d==null||isNaN(d=+d)?o:(u||(u=s(t.map(r),e,n)))(r(a(d)))}return h.invert=function(d){return a(i((l||(l=s(e,t.map(r),Lp)))(d)))},h.domain=function(d){return arguments.length?(t=Array.from(d,Vp),c()):t.slice()},h.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},h.rangeRound=function(d){return e=Array.from(d),n=A1,c()},h.clamp=function(d){return arguments.length?(a=d?!0:ln,c()):a!==ln},h.interpolate=function(d){return arguments.length?(n=d,c()):n},h.unknown=function(d){return arguments.length?(o=d,h):o},function(d,p){return r=d,i=p,c()}}function P1(){return yg()(ln,ln)}function Fre(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function jp(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function cu(t){return t=jp(Math.abs(t)),t?t[1]:NaN}function Bre(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Ure(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var zre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Kc(t){if(!(e=zre.exec(t)))throw new Error("invalid format: "+t);var e;return new O1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Kc.prototype=O1.prototype;function O1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}O1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qre(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var qM;function Wre(t,e){var n=jp(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(qM=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+jp(t,Math.max(0,e+o-1))[0]}function UA(t,e){var n=jp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const zA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Fre,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>UA(t*100,e),r:UA,s:Wre,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function qA(t){return t}var WA=Array.prototype.map,GA=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Gre(t){var e=t.grouping===void 0||t.thousands===void 0?qA:Bre(WA.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?qA:Ure(WA.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"\u2212":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(h){h=Kc(h);var d=h.fill,p=h.align,_=h.sign,g=h.symbol,v=h.zero,b=h.width,y=h.comma,w=h.precision,x=h.trim,T=h.type;T==="n"?(y=!0,T="g"):zA[T]||(w===void 0&&(w=12),x=!0,T="g"),(v||d==="0"&&p==="=")&&(v=!0,d="0",p="=");var A=g==="$"?n:g==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",I=g==="$"?r:/[%p]/.test(T)?a:"",S=zA[T],P=/[defgprs%]/.test(T);w=w===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function O(R){var N=A,C=I,F,K,z;if(T==="c")C=S(R)+C,R="";else{R=+R;var Q=R<0||1/R<0;if(R=isNaN(R)?u:S(Math.abs(R),w),x&&(R=qre(R)),Q&&+R==0&&_!=="+"&&(Q=!1),N=(Q?_==="("?_:s:_==="-"||_==="("?"":_)+N,C=(T==="s"?GA[8+qM/3]:"")+C+(Q&&_==="("?")":""),P){for(F=-1,K=R.length;++F<K;)if(z=R.charCodeAt(F),48>z||z>57){C=(z===46?i+R.slice(F+1):R.slice(F))+C,R=R.slice(0,F);break}}}y&&!v&&(R=e(R,1/0));var V=N.length+R.length+C.length,G=V<b?new Array(b-V+1).join(d):"";switch(y&&v&&(R=e(G+R,G.length?b-C.length:1/0),G=""),p){case"<":R=N+R+C+G;break;case"=":R=N+G+R+C;break;case"^":R=G.slice(0,V=G.length>>1)+N+R+C+G.slice(V);break;default:R=G+N+R+C;break}return o(R)}return O.toString=function(){return h+""},O}function c(h,d){var p=l((h=Kc(h),h.type="f",h)),_=Math.max(-8,Math.min(8,Math.floor(cu(d)/3)))*3,g=Math.pow(10,-_),v=GA[8+_/3];return function(b){return p(g*b)+v}}return{format:l,formatPrefix:c}}var zf,C1,WM;Kre({thousands:",",grouping:[3],currency:["$",""]});function Kre(t){return zf=Gre(t),C1=zf.format,WM=zf.formatPrefix,zf}function Hre(t){return Math.max(0,-cu(Math.abs(t)))}function Qre(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cu(e)/3)))*3-cu(Math.abs(t)))}function Xre(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,cu(e)-cu(t))+1}function GM(t,e,n,r){var i=d_(t,e,n),o;switch(r=Kc(r==null?",f":r),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Qre(i,a))&&(r.precision=o),WM(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Xre(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Hre(i))&&(r.precision=o-(r.type==="%")*2);break}}return C1(r)}function Ro(t){var e=t.domain;return t.ticks=function(n){var r=e();return h_(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var i=e();return GM(i[0],i[i.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],u,l,c=10;for(s<a&&(l=a,a=s,s=l,l=i,i=o,o=l);c-- >0;){if(l=f_(a,s,n),l===u)return r[i]=a,r[o]=s,e(r);if(l>0)a=Math.floor(a/l)*l,s=Math.ceil(s/l)*l;else if(l<0)a=Math.ceil(a*l)/l,s=Math.floor(s*l)/l;else break;u=l}return t},t}function Fp(){var t=P1();return t.copy=function(){return zh(t,Fp())},tr.apply(t,arguments),Ro(t)}function KM(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Vp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return KM(t).unknown(e)},t=arguments.length?Array.from(t,Vp):[0,1],Ro(n)}function HM(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function KA(t){return Math.log(t)}function HA(t){return Math.exp(t)}function Yre(t){return-Math.log(-t)}function Jre(t){return-Math.exp(-t)}function Zre(t){return isFinite(t)?+("1e"+t):t<0?0:t}function eie(t){return t===10?Zre:t===Math.E?Math.exp:e=>Math.pow(t,e)}function tie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function QA(t){return(e,n)=>-t(-e,n)}function k1(t){const e=t(KA,HA),n=e.domain;let r=10,i,o;function a(){return i=tie(r),o=eie(r),n()[0]<0?(i=QA(i),o=QA(o),t(Yre,Jre)):t(KA,HA),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const u=n();let l=u[0],c=u[u.length-1];const h=c<l;h&&([l,c]=[c,l]);let d=i(l),p=i(c),_,g;const v=s==null?10:+s;let b=[];if(!(r%1)&&p-d<v){if(d=Math.floor(d),p=Math.ceil(p),l>0){for(;d<=p;++d)for(_=1;_<r;++_)if(g=d<0?_/o(-d):_*o(d),!(g<l)){if(g>c)break;b.push(g)}}else for(;d<=p;++d)for(_=r-1;_>=1;--_)if(g=d>0?_/o(-d):_*o(d),!(g<l)){if(g>c)break;b.push(g)}b.length*2<v&&(b=h_(l,c,v))}else b=h_(d,p,Math.min(p-d,v)).map(o);return h?b.reverse():b},e.tickFormat=(s,u)=>{if(s==null&&(s=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Kc(u)).precision==null&&(u.trim=!0),u=C1(u)),s===1/0)return u;const l=Math.max(1,r*s/e.ticks().length);return c=>{let h=c/o(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=l?u(c):""}},e.nice=()=>n(HM(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function QM(){const t=k1(yg()).domain([1,10]);return t.copy=()=>zh(t,QM()).base(t.base()),tr.apply(t,arguments),t}function XA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function YA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function R1(t){var e=1,n=t(XA(e),YA(e));return n.constant=function(r){return arguments.length?t(XA(e=+r),YA(e)):e},Ro(n)}function XM(){var t=R1(yg());return t.copy=function(){return zh(t,XM()).constant(t.constant())},tr.apply(t,arguments)}function JA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function nie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function rie(t){return t<0?-t*t:t*t}function N1(t){var e=t(ln,ln),n=1;function r(){return n===1?t(ln,ln):n===.5?t(nie,rie):t(JA(n),JA(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ro(e)}function D1(){var t=N1(yg());return t.copy=function(){return zh(t,D1()).exponent(t.exponent())},tr.apply(t,arguments),t}function iie(){return D1.apply(null,arguments).exponent(.5)}function ZA(t){return Math.sign(t)*t*t}function oie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function YM(){var t=P1(),e=[0,1],n=!1,r;function i(o){var a=oie(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(ZA(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Vp)).map(ZA)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return YM(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},tr.apply(i,arguments),Ro(i)}function JM(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=cre(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Bh(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(po),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return JM().domain(t).range(e).unknown(r)},tr.apply(o,arguments)}function ZM(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(u){return u!=null&&u<=u?i[Bh(r,u,0,n)]:o}function s(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return a}return a.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,s()):[t,e]},a.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,s()):i.slice()},a.invertExtent=function(u){var l=i.indexOf(u);return l<0?[NaN,NaN]:l<1?[t,r[0]]:l>=n?[r[n-1],e]:[r[l-1],r[l]]},a.unknown=function(u){return arguments.length&&(o=u),a},a.thresholds=function(){return r.slice()},a.copy=function(){return ZM().domain([t,e]).range(i).unknown(o)},tr.apply(Ro(a),arguments)}function e$(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Bh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return e$().domain(t).range(e).unknown(n)},tr.apply(i,arguments)}const Jy=new Date,Zy=new Date;function Et(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const u=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return u;let l;do u.push(l=new Date(+o)),e(o,s),t(o);while(l<o&&o<a);return u},i.filter=o=>Et(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Jy.setTime(+o),Zy.setTime(+a),t(Jy),t(Zy),Math.floor(n(Jy,Zy))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Bp=Et(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Bp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Et(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Bp);Bp.range;const ii=1e3,Qn=ii*60,oi=Qn*60,bi=oi*24,M1=bi*7,eP=bi*30,ev=bi*365,sa=Et(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ii)},(t,e)=>(e-t)/ii,t=>t.getUTCSeconds());sa.range;const $1=Et(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ii)},(t,e)=>{t.setTime(+t+e*Qn)},(t,e)=>(e-t)/Qn,t=>t.getMinutes());$1.range;const L1=Et(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Qn)},(t,e)=>(e-t)/Qn,t=>t.getUTCMinutes());L1.range;const V1=Et(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ii-t.getMinutes()*Qn)},(t,e)=>{t.setTime(+t+e*oi)},(t,e)=>(e-t)/oi,t=>t.getHours());V1.range;const j1=Et(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*oi)},(t,e)=>(e-t)/oi,t=>t.getUTCHours());j1.range;const qh=Et(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Qn)/bi,t=>t.getDate()-1);qh.range;const vg=Et(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/bi,t=>t.getUTCDate()-1);vg.range;const t$=Et(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/bi,t=>Math.floor(t/bi));t$.range;function qa(t){return Et(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Qn)/M1)}const _g=qa(0),Up=qa(1),aie=qa(2),sie=qa(3),hu=qa(4),uie=qa(5),lie=qa(6);_g.range;Up.range;aie.range;sie.range;hu.range;uie.range;lie.range;function Wa(t){return Et(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/M1)}const wg=Wa(0),zp=Wa(1),cie=Wa(2),hie=Wa(3),fu=Wa(4),fie=Wa(5),die=Wa(6);wg.range;zp.range;cie.range;hie.range;fu.range;fie.range;die.range;const F1=Et(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());F1.range;const B1=Et(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());B1.range;const xi=Et(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());xi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Et(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});xi.range;const Ti=Et(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ti.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Et(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ti.range;function n$(t,e,n,r,i,o){const a=[[sa,1,ii],[sa,5,5*ii],[sa,15,15*ii],[sa,30,30*ii],[o,1,Qn],[o,5,5*Qn],[o,15,15*Qn],[o,30,30*Qn],[i,1,oi],[i,3,3*oi],[i,6,6*oi],[i,12,12*oi],[r,1,bi],[r,2,2*bi],[n,1,M1],[e,1,eP],[e,3,3*eP],[t,1,ev]];function s(l,c,h){const d=c<l;d&&([l,c]=[c,l]);const p=h&&typeof h.range=="function"?h:u(l,c,h),_=p?p.range(l,+c+1):[];return d?_.reverse():_}function u(l,c,h){const d=Math.abs(c-l)/h,p=T1(([,,v])=>v).right(a,d);if(p===a.length)return t.every(d_(l/ev,c/ev,h));if(p===0)return Bp.every(Math.max(d_(l,c,h),1));const[_,g]=a[d/a[p-1][2]<a[p][2]/d?p-1:p];return _.every(g)}return[s,u]}const[pie,mie]=n$(Ti,B1,wg,t$,j1,L1),[gie,yie]=n$(xi,F1,_g,qh,V1,$1);function tv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function nv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function _l(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function vie(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,l=wl(i),c=bl(i),h=wl(o),d=bl(o),p=wl(a),_=bl(a),g=wl(s),v=bl(s),b=wl(u),y=bl(u),w={a:Q,A:V,b:G,B:X,c:null,d:aP,e:aP,f:Bie,g:Yie,G:Zie,H:Vie,I:jie,j:Fie,L:r$,m:Uie,M:zie,p:ae,q:te,Q:lP,s:cP,S:qie,u:Wie,U:Gie,V:Kie,w:Hie,W:Qie,x:null,X:null,y:Xie,Y:Jie,Z:eoe,"%":uP},x={a:le,A:je,b:Je,B:Mt,c:null,d:sP,e:sP,f:ioe,g:poe,G:goe,H:toe,I:noe,j:roe,L:o$,m:ooe,M:aoe,p:We,q:nr,Q:lP,s:cP,S:soe,u:uoe,U:loe,V:coe,w:hoe,W:foe,x:null,X:null,y:doe,Y:moe,Z:yoe,"%":uP},T={a:O,A:R,b:N,B:C,c:F,d:iP,e:iP,f:Die,g:rP,G:nP,H:oP,I:oP,j:Cie,L:Nie,m:Oie,M:kie,p:P,q:Pie,Q:$ie,s:Lie,S:Rie,u:Tie,U:Sie,V:Eie,w:xie,W:Iie,x:K,X:z,y:rP,Y:nP,Z:Aie,"%":Mie};w.x=A(n,w),w.X=A(r,w),w.c=A(e,w),x.x=A(n,x),x.X=A(r,x),x.c=A(e,x);function A(re,fe){return function(me){var q=[],Ge=-1,we=0,tt=re.length,nt,zt,rr;for(me instanceof Date||(me=new Date(+me));++Ge<tt;)re.charCodeAt(Ge)===37&&(q.push(re.slice(we,Ge)),(zt=tP[nt=re.charAt(++Ge)])!=null?nt=re.charAt(++Ge):zt=nt==="e"?" ":"0",(rr=fe[nt])&&(nt=rr(me,zt)),q.push(nt),we=Ge+1);return q.push(re.slice(we,Ge)),q.join("")}}function I(re,fe){return function(me){var q=_l(1900,void 0,1),Ge=S(q,re,me+="",0),we,tt;if(Ge!=me.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(fe&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(we=nv(_l(q.y,0,1)),tt=we.getUTCDay(),we=tt>4||tt===0?zp.ceil(we):zp(we),we=vg.offset(we,(q.V-1)*7),q.y=we.getUTCFullYear(),q.m=we.getUTCMonth(),q.d=we.getUTCDate()+(q.w+6)%7):(we=tv(_l(q.y,0,1)),tt=we.getDay(),we=tt>4||tt===0?Up.ceil(we):Up(we),we=qh.offset(we,(q.V-1)*7),q.y=we.getFullYear(),q.m=we.getMonth(),q.d=we.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),tt="Z"in q?nv(_l(q.y,0,1)).getUTCDay():tv(_l(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(tt+5)%7:q.w+q.U*7-(tt+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,nv(q)):tv(q)}}function S(re,fe,me,q){for(var Ge=0,we=fe.length,tt=me.length,nt,zt;Ge<we;){if(q>=tt)return-1;if(nt=fe.charCodeAt(Ge++),nt===37){if(nt=fe.charAt(Ge++),zt=T[nt in tP?fe.charAt(Ge++):nt],!zt||(q=zt(re,me,q))<0)return-1}else if(nt!=me.charCodeAt(q++))return-1}return q}function P(re,fe,me){var q=l.exec(fe.slice(me));return q?(re.p=c.get(q[0].toLowerCase()),me+q[0].length):-1}function O(re,fe,me){var q=p.exec(fe.slice(me));return q?(re.w=_.get(q[0].toLowerCase()),me+q[0].length):-1}function R(re,fe,me){var q=h.exec(fe.slice(me));return q?(re.w=d.get(q[0].toLowerCase()),me+q[0].length):-1}function N(re,fe,me){var q=b.exec(fe.slice(me));return q?(re.m=y.get(q[0].toLowerCase()),me+q[0].length):-1}function C(re,fe,me){var q=g.exec(fe.slice(me));return q?(re.m=v.get(q[0].toLowerCase()),me+q[0].length):-1}function F(re,fe,me){return S(re,e,fe,me)}function K(re,fe,me){return S(re,n,fe,me)}function z(re,fe,me){return S(re,r,fe,me)}function Q(re){return a[re.getDay()]}function V(re){return o[re.getDay()]}function G(re){return u[re.getMonth()]}function X(re){return s[re.getMonth()]}function ae(re){return i[+(re.getHours()>=12)]}function te(re){return 1+~~(re.getMonth()/3)}function le(re){return a[re.getUTCDay()]}function je(re){return o[re.getUTCDay()]}function Je(re){return u[re.getUTCMonth()]}function Mt(re){return s[re.getUTCMonth()]}function We(re){return i[+(re.getUTCHours()>=12)]}function nr(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var fe=A(re+="",w);return fe.toString=function(){return re},fe},parse:function(re){var fe=I(re+="",!1);return fe.toString=function(){return re},fe},utcFormat:function(re){var fe=A(re+="",x);return fe.toString=function(){return re},fe},utcParse:function(re){var fe=I(re+="",!0);return fe.toString=function(){return re},fe}}}var tP={"-":"",_:" ",0:"0"},Dt=/^\s*\d+/,_ie=/^%/,wie=/[\\^$*+?|[\]().{}]/g;function Pe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function bie(t){return t.replace(wie,"\\$&")}function wl(t){return new RegExp("^(?:"+t.map(bie).join("|")+")","i")}function bl(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function xie(t,e,n){var r=Dt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Tie(t,e,n){var r=Dt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Sie(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Eie(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Iie(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function nP(t,e,n){var r=Dt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function rP(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Aie(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Pie(t,e,n){var r=Dt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Oie(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function iP(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Cie(t,e,n){var r=Dt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function oP(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function kie(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Rie(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Nie(t,e,n){var r=Dt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Die(t,e,n){var r=Dt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Mie(t,e,n){var r=_ie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function $ie(t,e,n){var r=Dt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Lie(t,e,n){var r=Dt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function aP(t,e){return Pe(t.getDate(),e,2)}function Vie(t,e){return Pe(t.getHours(),e,2)}function jie(t,e){return Pe(t.getHours()%12||12,e,2)}function Fie(t,e){return Pe(1+qh.count(xi(t),t),e,3)}function r$(t,e){return Pe(t.getMilliseconds(),e,3)}function Bie(t,e){return r$(t,e)+"000"}function Uie(t,e){return Pe(t.getMonth()+1,e,2)}function zie(t,e){return Pe(t.getMinutes(),e,2)}function qie(t,e){return Pe(t.getSeconds(),e,2)}function Wie(t){var e=t.getDay();return e===0?7:e}function Gie(t,e){return Pe(_g.count(xi(t)-1,t),e,2)}function i$(t){var e=t.getDay();return e>=4||e===0?hu(t):hu.ceil(t)}function Kie(t,e){return t=i$(t),Pe(hu.count(xi(t),t)+(xi(t).getDay()===4),e,2)}function Hie(t){return t.getDay()}function Qie(t,e){return Pe(Up.count(xi(t)-1,t),e,2)}function Xie(t,e){return Pe(t.getFullYear()%100,e,2)}function Yie(t,e){return t=i$(t),Pe(t.getFullYear()%100,e,2)}function Jie(t,e){return Pe(t.getFullYear()%1e4,e,4)}function Zie(t,e){var n=t.getDay();return t=n>=4||n===0?hu(t):hu.ceil(t),Pe(t.getFullYear()%1e4,e,4)}function eoe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Pe(e/60|0,"0",2)+Pe(e%60,"0",2)}function sP(t,e){return Pe(t.getUTCDate(),e,2)}function toe(t,e){return Pe(t.getUTCHours(),e,2)}function noe(t,e){return Pe(t.getUTCHours()%12||12,e,2)}function roe(t,e){return Pe(1+vg.count(Ti(t),t),e,3)}function o$(t,e){return Pe(t.getUTCMilliseconds(),e,3)}function ioe(t,e){return o$(t,e)+"000"}function ooe(t,e){return Pe(t.getUTCMonth()+1,e,2)}function aoe(t,e){return Pe(t.getUTCMinutes(),e,2)}function soe(t,e){return Pe(t.getUTCSeconds(),e,2)}function uoe(t){var e=t.getUTCDay();return e===0?7:e}function loe(t,e){return Pe(wg.count(Ti(t)-1,t),e,2)}function a$(t){var e=t.getUTCDay();return e>=4||e===0?fu(t):fu.ceil(t)}function coe(t,e){return t=a$(t),Pe(fu.count(Ti(t),t)+(Ti(t).getUTCDay()===4),e,2)}function hoe(t){return t.getUTCDay()}function foe(t,e){return Pe(zp.count(Ti(t)-1,t),e,2)}function doe(t,e){return Pe(t.getUTCFullYear()%100,e,2)}function poe(t,e){return t=a$(t),Pe(t.getUTCFullYear()%100,e,2)}function moe(t,e){return Pe(t.getUTCFullYear()%1e4,e,4)}function goe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?fu(t):fu.ceil(t),Pe(t.getUTCFullYear()%1e4,e,4)}function yoe(){return"+0000"}function uP(){return"%"}function lP(t){return+t}function cP(t){return Math.floor(+t/1e3)}var os,s$,u$;voe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function voe(t){return os=vie(t),s$=os.format,os.parse,u$=os.utcFormat,os.utcParse,os}function _oe(t){return new Date(t)}function woe(t){return t instanceof Date?+t:+new Date(+t)}function U1(t,e,n,r,i,o,a,s,u,l){var c=P1(),h=c.invert,d=c.domain,p=l(".%L"),_=l(":%S"),g=l("%I:%M"),v=l("%I %p"),b=l("%a %d"),y=l("%b %d"),w=l("%B"),x=l("%Y");function T(A){return(u(A)<A?p:s(A)<A?_:a(A)<A?g:o(A)<A?v:r(A)<A?i(A)<A?b:y:n(A)<A?w:x)(A)}return c.invert=function(A){return new Date(h(A))},c.domain=function(A){return arguments.length?d(Array.from(A,woe)):d().map(_oe)},c.ticks=function(A){var I=d();return t(I[0],I[I.length-1],A==null?10:A)},c.tickFormat=function(A,I){return I==null?T:l(I)},c.nice=function(A){var I=d();return(!A||typeof A.range!="function")&&(A=e(I[0],I[I.length-1],A==null?10:A)),A?d(HM(I,A)):c},c.copy=function(){return zh(c,U1(t,e,n,r,i,o,a,s,u,l))},c}function boe(){return tr.apply(U1(gie,yie,xi,F1,_g,qh,V1,$1,sa,s$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xoe(){return tr.apply(U1(pie,mie,Ti,B1,wg,vg,j1,L1,sa,u$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function bg(){var t=0,e=1,n,r,i,o,a=ln,s=!1,u;function l(h){return h==null||isNaN(h=+h)?u:a(i===0?.5:(h=(o(h)-n)*i,s?Math.max(0,Math.min(1,h)):h))}l.domain=function(h){return arguments.length?([t,e]=h,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),l):[t,e]},l.clamp=function(h){return arguments.length?(s=!!h,l):s},l.interpolator=function(h){return arguments.length?(a=h,l):a};function c(h){return function(d){var p,_;return arguments.length?([p,_]=d,a=h(p,_),l):[a(0),a(1)]}}return l.range=c(Vu),l.rangeRound=c(A1),l.unknown=function(h){return arguments.length?(u=h,l):u},function(h){return o=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),l}}function No(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function l$(){var t=Ro(bg()(ln));return t.copy=function(){return No(t,l$())},Oi.apply(t,arguments)}function c$(){var t=k1(bg()).domain([1,10]);return t.copy=function(){return No(t,c$()).base(t.base())},Oi.apply(t,arguments)}function h$(){var t=R1(bg());return t.copy=function(){return No(t,h$()).constant(t.constant())},Oi.apply(t,arguments)}function z1(){var t=N1(bg());return t.copy=function(){return No(t,z1()).exponent(t.exponent())},Oi.apply(t,arguments)}function Toe(){return z1.apply(null,arguments).exponent(.5)}function f$(){var t=[],e=ln;function n(r){if(r!=null&&!isNaN(r=+r))return e((Bh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(po),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>lre(t,o/r))},n.copy=function(){return f$(e).domain(t)},Oi.apply(n,arguments)}function xg(){var t=0,e=.5,n=1,r=1,i,o,a,s,u,l=ln,c,h=!1,d;function p(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-o)*(r*g<r*o?s:u),l(h?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(h=!!g,p):h},p.interpolator=function(g){return arguments.length?(l=g,p):l};function _(g){return function(v){var b,y,w;return arguments.length?([b,y,w]=v,l=Mre(g,[b,y,w]),p):[l(0),l(.5),l(1)]}}return p.range=_(Vu),p.rangeRound=_(A1),p.unknown=function(g){return arguments.length?(d=g,p):d},function(g){return c=g,i=g(t),o=g(e),a=g(n),s=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function d$(){var t=Ro(xg()(ln));return t.copy=function(){return No(t,d$())},Oi.apply(t,arguments)}function p$(){var t=k1(xg()).domain([.1,1,10]);return t.copy=function(){return No(t,p$()).base(t.base())},Oi.apply(t,arguments)}function m$(){var t=R1(xg());return t.copy=function(){return No(t,m$()).constant(t.constant())},Oi.apply(t,arguments)}function q1(){var t=N1(xg());return t.copy=function(){return No(t,q1()).exponent(t.exponent())},Oi.apply(t,arguments)}function Soe(){return q1.apply(null,arguments).exponent(.5)}const hP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zc,scalePoint:ec,scaleIdentity:KM,scaleLinear:Fp,scaleLog:QM,scaleSymlog:XM,scaleOrdinal:S1,scaleImplicit:p_,scalePow:D1,scaleSqrt:iie,scaleRadial:YM,scaleQuantile:JM,scaleQuantize:ZM,scaleThreshold:e$,scaleTime:boe,scaleUtc:xoe,scaleSequential:l$,scaleSequentialLog:c$,scaleSequentialPow:z1,scaleSequentialSqrt:Toe,scaleSequentialSymlog:h$,scaleSequentialQuantile:f$,scaleDiverging:d$,scaleDivergingLog:p$,scaleDivergingPow:q1,scaleDivergingSqrt:Soe,scaleDivergingSymlog:m$,tickFormat:GM},Symbol.toStringTag,{value:"Module"}));var Eoe=ku;function Ioe(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!Eoe(a):n(a,s)))var s=a,u=o}return u}var g$=Ioe;function Aoe(t,e){return t>e}var Poe=Aoe,Ooe=g$,Coe=Poe,koe=Lu;function Roe(t){return t&&t.length?Ooe(t,koe,Coe):void 0}var Tg=Roe;function Noe(t,e){return t<e}var Doe=Noe,Moe=g$,$oe=Doe,Loe=Lu;function Voe(t){return t&&t.length?Moe(t,Loe,$oe):void 0}var Sg=Voe,joe=r1,Foe=ko,Boe=SM,Uoe=En;function zoe(t,e){var n=Uoe(t)?joe:Boe;return n(t,Foe(e))}var qoe=zoe,Woe=xM,Goe=qoe;function Koe(t,e){return Woe(Goe(t,e),1)}var Hoe=Koe,Qoe=_1;function Xoe(t,e){return Qoe(t,e)}var W1=Xoe,ju=1e9,Yoe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},K1,et=!0,er="[DecimalError] ",pa=er+"Invalid argument: ",G1=er+"Exponent out of range: ",Fu=Math.floor,Qo=Math.pow,Joe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cn,Pt=1e7,Xe=7,y$=9007199254740991,qp=Fu(y$/Xe),oe={};oe.absoluteValue=oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};oe.comparedTo=oe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};oe.decimalPlaces=oe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Xe;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};oe.dividedBy=oe.div=function(t){return hi(this,new this.constructor(t))};oe.dividedToIntegerBy=oe.idiv=function(t){var e=this,n=e.constructor;return Be(hi(e,new n(t),0,1),n.precision)};oe.equals=oe.eq=function(t){return!this.cmp(t)};oe.exponent=function(){return vt(this)};oe.greaterThan=oe.gt=function(t){return this.cmp(t)>0};oe.greaterThanOrEqualTo=oe.gte=function(t){return this.cmp(t)>=0};oe.isInteger=oe.isint=function(){return this.e>this.d.length-2};oe.isNegative=oe.isneg=function(){return this.s<0};oe.isPositive=oe.ispos=function(){return this.s>0};oe.isZero=function(){return this.s===0};oe.lessThan=oe.lt=function(t){return this.cmp(t)<0};oe.lessThanOrEqualTo=oe.lte=function(t){return this.cmp(t)<1};oe.logarithm=oe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Cn))throw Error(er+"NaN");if(n.s<1)throw Error(er+(n.s?"NaN":"-Infinity"));return n.eq(Cn)?new r(0):(et=!1,e=hi(Hc(n,o),Hc(t,o),o),et=!0,Be(e,i))};oe.minus=oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?w$(e,t):v$(e,(t.s=-t.s,t))};oe.modulo=oe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(er+"NaN");return n.s?(et=!1,e=hi(n,t,0,1).times(t),et=!0,n.minus(e)):Be(new r(n),i)};oe.naturalExponential=oe.exp=function(){return _$(this)};oe.naturalLogarithm=oe.ln=function(){return Hc(this)};oe.negated=oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};oe.plus=oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?v$(e,t):w$(e,(t.s=-t.s,t))};oe.precision=oe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(pa+t);if(e=vt(i)+1,r=i.d.length-1,n=r*Xe+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};oe.squareRoot=oe.sqrt=function(){var t,e,n,r,i,o,a,s=this,u=s.constructor;if(s.s<1){if(!s.s)return new u(0);throw Error(er+"NaN")}for(t=vt(s),et=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=kr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Fu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=a=n+3;;)if(o=r,r=o.plus(hi(s,o,a+2)).times(.5),kr(o.d).slice(0,a)===(e=kr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Be(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return et=!0,Be(r,n)};oe.times=oe.mul=function(t){var e,n,r,i,o,a,s,u,l,c=this,h=c.constructor,d=c.d,p=(t=new h(t)).d;if(!c.s||!t.s)return new h(0);for(t.s*=c.s,n=c.e+t.e,u=d.length,l=p.length,u<l&&(o=d,d=p,p=o,a=u,u=l,l=a),o=[],a=u+l,r=a;r--;)o.push(0);for(r=l;--r>=0;){for(e=0,i=u+r;i>r;)s=o[i]+p[r]*d[i-r-1]+e,o[i--]=s%Pt|0,e=s/Pt|0;o[i]=(o[i]+e)%Pt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,et?Be(t,h.precision):t};oe.toDecimalPlaces=oe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Br(t,0,ju),e===void 0?e=r.rounding:Br(e,0,8),Be(n,t+vt(n)+1,e))};oe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Na(r,!0):(Br(t,0,ju),e===void 0?e=i.rounding:Br(e,0,8),r=Be(new i(r),t+1,e),n=Na(r,!0,t+1)),n};oe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Na(i):(Br(t,0,ju),e===void 0?e=o.rounding:Br(e,0,8),r=Be(new o(i),t+vt(i)+1,e),n=Na(r.abs(),!1,t+vt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};oe.toInteger=oe.toint=function(){var t=this,e=t.constructor;return Be(new e(t),vt(t)+1,e.rounding)};oe.toNumber=function(){return+this};oe.toPower=oe.pow=function(t){var e,n,r,i,o,a,s=this,u=s.constructor,l=12,c=+(t=new u(t));if(!t.s)return new u(Cn);if(s=new u(s),!s.s){if(t.s<1)throw Error(er+"Infinity");return s}if(s.eq(Cn))return s;if(r=u.precision,t.eq(Cn))return Be(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=y$){for(i=new u(Cn),e=Math.ceil(r/Xe+4),et=!1;n%2&&(i=i.times(s),dP(i.d,e)),n=Fu(n/2),n!==0;)s=s.times(s),dP(s.d,e);return et=!0,t.s<0?new u(Cn).div(i):Be(i,r)}}else if(o<0)throw Error(er+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,et=!1,i=t.times(Hc(s,r+l)),et=!0,i=_$(i),i.s=o,i};oe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=vt(i),r=Na(i,n<=o.toExpNeg||n>=o.toExpPos)):(Br(t,1,ju),e===void 0?e=o.rounding:Br(e,0,8),i=Be(new o(i),t,e),n=vt(i),r=Na(i,t<=n||n<=o.toExpNeg,t)),r};oe.toSignificantDigits=oe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Br(t,1,ju),e===void 0?e=r.rounding:Br(e,0,8)),Be(new r(n),t,e)};oe.toString=oe.valueOf=oe.val=oe.toJSON=oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=vt(t),n=t.constructor;return Na(t,e<=n.toExpNeg||e>=n.toExpPos)};function v$(t,e){var n,r,i,o,a,s,u,l,c=t.constructor,h=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),et?Be(e,h):e;if(u=t.d,l=e.d,a=t.e,i=e.e,u=u.slice(),o=a-i,o){for(o<0?(r=u,o=-o,s=l.length):(r=l,i=a,s=u.length),a=Math.ceil(h/Xe),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=u.length,o=l.length,s-o<0&&(o=s,r=l,l=u,u=r),n=0;o;)n=(u[--o]=u[o]+l[o]+n)/Pt|0,u[o]%=Pt;for(n&&(u.unshift(n),++i),s=u.length;u[--s]==0;)u.pop();return e.d=u,e.e=i,et?Be(e,h):e}function Br(t,e,n){if(t!==~~t||t<e||t>n)throw Error(pa+t)}function kr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Xe-r.length,n&&(o+=Fi(n)),o+=r;a=t[e],r=a+"",n=Xe-r.length,n&&(o+=Fi(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var hi=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Pt|0,a=o/Pt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,u;if(o!=a)u=o>a?1:-1;else for(s=u=0;s<o;s++)if(r[s]!=i[s]){u=r[s]>i[s]?1:-1;break}return u}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Pt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,u,l,c,h,d,p,_,g,v,b,y,w,x,T,A,I,S,P=r.constructor,O=r.s==i.s?1:-1,R=r.d,N=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(er+"Division by zero");for(u=r.e-i.e,I=N.length,T=R.length,p=new P(O),_=p.d=[],l=0;N[l]==(R[l]||0);)++l;if(N[l]>(R[l]||0)&&--u,o==null?y=o=P.precision:a?y=o+(vt(r)-vt(i))+1:y=o,y<0)return new P(0);if(y=y/Xe+2|0,l=0,I==1)for(c=0,N=N[0],y++;(l<T||c)&&y--;l++)w=c*Pt+(R[l]||0),_[l]=w/N|0,c=w%N|0;else{for(c=Pt/(N[0]+1)|0,c>1&&(N=t(N,c),R=t(R,c),I=N.length,T=R.length),x=I,g=R.slice(0,I),v=g.length;v<I;)g[v++]=0;S=N.slice(),S.unshift(0),A=N[0],N[1]>=Pt/2&&++A;do c=0,s=e(N,g,I,v),s<0?(b=g[0],I!=v&&(b=b*Pt+(g[1]||0)),c=b/A|0,c>1?(c>=Pt&&(c=Pt-1),h=t(N,c),d=h.length,v=g.length,s=e(h,g,d,v),s==1&&(c--,n(h,I<d?S:N,d))):(c==0&&(s=c=1),h=N.slice()),d=h.length,d<v&&h.unshift(0),n(g,h,v),s==-1&&(v=g.length,s=e(N,g,I,v),s<1&&(c++,n(g,I<v?S:N,v))),v=g.length):s===0&&(c++,g=[0]),_[l++]=c,s&&g[0]?g[v++]=R[x]||0:(g=[R[x]],v=1);while((x++<T||g[0]!==void 0)&&y--)}return _[0]||_.shift(),p.e=u,Be(p,a?o+vt(p)+1:o)}}();function _$(t,e){var n,r,i,o,a,s,u=0,l=0,c=t.constructor,h=c.precision;if(vt(t)>16)throw Error(G1+vt(t));if(!t.s)return new c(Cn);for(e==null?(et=!1,s=h):s=e,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),l+=5;for(r=Math.log(Qo(2,l))/Math.LN10*2+5|0,s+=r,n=i=o=new c(Cn),c.precision=s;;){if(i=Be(i.times(t),s),n=n.times(++u),a=o.plus(hi(i,n,s)),kr(a.d).slice(0,s)===kr(o.d).slice(0,s)){for(;l--;)o=Be(o.times(o),s);return c.precision=h,e==null?(et=!0,Be(o,h)):o}o=a}}function vt(t){for(var e=t.e*Xe,n=t.d[0];n>=10;n/=10)e++;return e}function rv(t,e,n){if(e>t.LN10.sd())throw et=!0,n&&(t.precision=n),Error(er+"LN10 precision limit exceeded");return Be(new t(t.LN10),e)}function Fi(t){for(var e="";t--;)e+="0";return e}function Hc(t,e){var n,r,i,o,a,s,u,l,c,h=1,d=10,p=t,_=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(er+(p.s?"NaN":"-Infinity"));if(p.eq(Cn))return new g(0);if(e==null?(et=!1,l=v):l=e,p.eq(10))return e==null&&(et=!0),rv(g,l);if(l+=d,g.precision=l,n=kr(_),r=n.charAt(0),o=vt(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=kr(p.d),r=n.charAt(0),h++;o=vt(p),r>1?(p=new g("0."+n),o++):p=new g(r+"."+n.slice(1))}else return u=rv(g,l+2,v).times(o+""),p=Hc(new g(r+"."+n.slice(1)),l-d).plus(u),g.precision=v,e==null?(et=!0,Be(p,v)):p;for(s=a=p=hi(p.minus(Cn),p.plus(Cn),l),c=Be(p.times(p),l),i=3;;){if(a=Be(a.times(c),l),u=s.plus(hi(a,new g(i),l)),kr(u.d).slice(0,l)===kr(s.d).slice(0,l))return s=s.times(2),o!==0&&(s=s.plus(rv(g,l+2,v).times(o+""))),s=hi(s,new g(h),l),g.precision=v,e==null?(et=!0,Be(s,v)):s;s=u,i+=2}}function fP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Fu(n/Xe),t.d=[],r=(n+1)%Xe,n<0&&(r+=Xe),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Xe;r<i;)t.d.push(+e.slice(r,r+=Xe));e=e.slice(r),r=Xe-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),et&&(t.e>qp||t.e<-qp))throw Error(G1+n)}else t.s=0,t.e=0,t.d=[0];return t}function Be(t,e,n){var r,i,o,a,s,u,l,c,h=t.d;for(a=1,o=h[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Xe,i=e,l=h[c=0];else{if(c=Math.ceil((r+1)/Xe),o=h.length,c>=o)return t;for(l=o=h[c],a=1;o>=10;o/=10)a++;r%=Xe,i=r-Xe+a}if(n!==void 0&&(o=Qo(10,a-i-1),s=l/o%10|0,u=e<0||h[c+1]!==void 0||l%o,u=n<4?(s||u)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||u||n==6&&(r>0?i>0?l/Qo(10,a-i):0:h[c-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return u?(o=vt(t),h.length=1,e=e-o-1,h[0]=Qo(10,(Xe-e%Xe)%Xe),t.e=Fu(-e/Xe)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=c,o=1,c--):(h.length=c+1,o=Qo(10,Xe-r),h[c]=i>0?(l/Qo(10,a-i)%Qo(10,i)|0)*o:0),u)for(;;)if(c==0){(h[0]+=o)==Pt&&(h[0]=1,++t.e);break}else{if(h[c]+=o,h[c]!=Pt)break;h[c--]=0,o=1}for(r=h.length;h[--r]===0;)h.pop();if(et&&(t.e>qp||t.e<-qp))throw Error(G1+vt(t));return t}function w$(t,e){var n,r,i,o,a,s,u,l,c,h,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),et?Be(e,p):e;if(u=t.d,h=e.d,r=e.e,l=t.e,u=u.slice(),a=l-r,a){for(c=a<0,c?(n=u,a=-a,s=h.length):(n=h,r=l,s=u.length),i=Math.max(Math.ceil(p/Xe),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=u.length,s=h.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(u[i]!=h[i]){c=u[i]<h[i];break}a=0}for(c&&(n=u,u=h,h=n,e.s=-e.s),s=u.length,i=h.length-s;i>0;--i)u[s++]=0;for(i=h.length;i>a;){if(u[--i]<h[i]){for(o=i;o&&u[--o]===0;)u[o]=Pt-1;--u[o],u[i]+=Pt}u[i]-=h[i]}for(;u[--s]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,et?Be(e,p):e):new d(0)}function Na(t,e,n){var r,i=vt(t),o=kr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Fi(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Fi(-i-1)+o,n&&(r=n-a)>0&&(o+=Fi(r))):i>=a?(o+=Fi(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Fi(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Fi(r))),t.s<0?"-"+o:o}function dP(t,e){if(t.length>e)return t.length=e,!0}function b$(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(pa+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return fP(a,o.toString())}else if(typeof o!="string")throw Error(pa+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Joe.test(o))fP(a,o);else throw Error(pa+o)}if(i.prototype=oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=b$,i.config=i.set=Zoe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Zoe(t){if(!t||typeof t!="object")throw Error(er+"Object expected");var e,n,r,i=["precision",1,ju,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Fu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(pa+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(pa+n+": "+r);return this}var K1=b$(Yoe);Cn=new K1(1);const Le=K1;function eae(t){return iae(t)||rae(t)||nae(t)||tae()}function tae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nae(t,e){if(!!t){if(typeof t=="string")return v_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v_(t,e)}}function rae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function iae(t){if(Array.isArray(t))return v_(t)}function v_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var oae=function(e){return e},x$={"@@functional/placeholder":!0},T$=function(e){return e===x$},pP=function(e){return function n(){return arguments.length===0||arguments.length===1&&T$(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},aae=function t(e,n){return e===1?n:pP(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==x$}).length;return a>=e?n.apply(void 0,i):t(e-a,pP(function(){for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];var c=i.map(function(h){return T$(h)?u.shift():h});return n.apply(void 0,eae(c).concat(u))}))})},Eg=function(e){return aae(e.length,e)},__=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},sae=Eg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),uae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return oae;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,u){return u(s)},o.apply(void 0,arguments))}},w_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},S$=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,u){return s===n[u]})||(n=o,r=e.apply(void 0,o)),r}};function lae(t){var e;return t===0?e=1:e=Math.floor(new Le(t).abs().log(10).toNumber())+1,e}function cae(t,e,n){for(var r=new Le(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var hae=Eg(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),fae=Eg(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),dae=Eg(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Ig={rangeStep:cae,getDigitCount:lae,interpolateNumber:hae,uninterpolateNumber:fae,uninterpolateTruncation:dae};function b_(t){return gae(t)||mae(t)||E$(t)||pae()}function pae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function gae(t){if(Array.isArray(t))return x_(t)}function Qc(t,e){return _ae(t)||vae(t,e)||E$(t,e)||yae()}function yae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E$(t,e){if(!!t){if(typeof t=="string")return x_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x_(t,e)}}function x_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vae(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(u){i=!0,o=u}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function _ae(t){if(Array.isArray(t))return t}function I$(t){var e=Qc(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function A$(t,e,n){if(t.lte(0))return new Le(0);var r=Ig.getDigitCount(t.toNumber()),i=new Le(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Le(Math.ceil(o.div(a).toNumber())).add(n).mul(a),u=s.mul(i);return e?u:new Le(Math.ceil(u))}function wae(t,e,n){var r=1,i=new Le(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Le(10).pow(Ig.getDigitCount(t)-1),i=new Le(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Le(Math.floor(t)))}else t===0?i=new Le(Math.floor((e-1)/2)):n||(i=new Le(Math.floor(t)));var a=Math.floor((e-1)/2),s=uae(sae(function(u){return i.add(new Le(u-a).mul(r)).toNumber()}),__);return s(0,e)}function P$(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Le(0),tickMin:new Le(0),tickMax:new Le(0)};var o=A$(new Le(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Le(0):(a=new Le(t).add(e).div(2),a=a.sub(new Le(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),u=Math.ceil(new Le(e).sub(a).div(o).toNumber()),l=s+u+1;return l>n?P$(t,e,n,r,i+1):(l<n&&(u=e>0?u+(n-l):u,s=e>0?s:s+(n-l)),{step:o,tickMin:a.sub(new Le(s).mul(o)),tickMax:a.add(new Le(u).mul(o))})}function bae(t){var e=Qc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=I$([n,r]),u=Qc(s,2),l=u[0],c=u[1];if(l===-1/0||c===1/0){var h=c===1/0?[l].concat(b_(__(0,i-1).map(function(){return 1/0}))):[].concat(b_(__(0,i-1).map(function(){return-1/0})),[c]);return n>r?w_(h):h}if(l===c)return wae(l,i,o);var d=P$(l,c,a,o),p=d.step,_=d.tickMin,g=d.tickMax,v=Ig.rangeStep(_,g.add(new Le(.1).mul(p)),p);return n>r?w_(v):v}function xae(t,e){var n=Qc(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=I$([r,i]),s=Qc(a,2),u=s[0],l=s[1];if(u===-1/0||l===1/0)return[r,i];if(u===l)return[u];var c=Math.max(e,2),h=A$(new Le(l).sub(u).div(c-1),o,0),d=[].concat(b_(Ig.rangeStep(new Le(u),new Le(l).sub(new Le(.99).mul(h)),h)),[l]);return r>i?w_(d):d}var Tae=S$(bae),Sae=S$(xae),Eae=!0,iv="Invariant failed";function Da(t,e){if(!t){if(Eae)throw new Error(iv);var n=typeof e=="function"?e():e,r=n?"".concat(iv,": ").concat(n):iv;throw new Error(r)}}var Iae=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Aae(t,e){return kae(t)||Cae(t,e)||Oae(t,e)||Pae()}function Pae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oae(t,e){if(!!t){if(typeof t=="string")return mP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mP(t,e)}}function mP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function kae(t){if(Array.isArray(t))return t}function Rae(t,e){if(t==null)return{};var n=Nae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function Nae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ag(t){var e=t.offset,n=t.layout,r=t.width,i=t.dataKey,o=t.data,a=t.dataPointFormatter,s=t.xAxis,u=t.yAxis,l=Rae(t,Iae),c=Oe(l,!1);t.direction==="x"&&s.type!=="number"&&Da(!1);var h=o.map(function(d){var p=a(d,i),_=p.x,g=p.y,v=p.value,b=p.errorVal;if(!b)return null;var y=[],w,x;if(Array.isArray(b)){var T=Aae(b,2);w=T[0],x=T[1]}else w=x=b;if(n==="vertical"){var A=s.scale,I=g+e,S=I+r,P=I-r,O=A(v-w),R=A(v+x);y.push({x1:R,y1:S,x2:R,y2:P}),y.push({x1:O,y1:I,x2:R,y2:I}),y.push({x1:O,y1:S,x2:O,y2:P})}else if(n==="horizontal"){var N=u.scale,C=_+e,F=C-r,K=C+r,z=N(v-w),Q=N(v+x);y.push({x1:F,y1:Q,x2:K,y2:Q}),y.push({x1:C,y1:z,x2:C,y2:Q}),y.push({x1:F,y1:z,x2:K,y2:z})}return D(Ct,{className:"recharts-errorBar",...c,children:y.map(function(V){return M.exports.createElement("line",{...V,key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)})})},"bar-".concat(y.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)})))});return D(Ct,{className:"recharts-errorBars",children:h})}Ag.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};Ag.displayName="ErrorBar";function Xc(t){return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ov(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(r){Dae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dae(t,e,n){return e=Mae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mae(t){var e=$ae(t,"string");return Xc(e)=="symbol"?e:String(e)}function $ae(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O$=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=On(n,su);if(!a)return null;var s;return a.props&&a.props.payload?s=a.props&&a.props.payload:o==="children"?s=(r||[]).reduce(function(u,l){var c=l.item,h=l.props,d=h.sectors||h.data||[];return u.concat(d.map(function(p){return{type:a.props.iconType||c.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):s=(r||[]).map(function(u){var l=u.item,c=l.props,h=c.dataKey,d=c.name,p=c.legendType,_=c.hide;return{inactive:_,dataKey:h,type:a.props.iconType||p||"square",color:H1(l),value:d||h,payload:l.props}}),ov(ov(ov({},a.props),su.getWithHeight(a,i)),{},{payload:s,item:a})};function Yc(t){return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function yP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(n),!0).forEach(function(r){Ls(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ls(t,e,n){return e=Lae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lae(t){var e=Vae(t,"string");return Yc(e)=="symbol"?e:String(e)}function Vae(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vP(t){return Uae(t)||Bae(t)||Fae(t)||jae()}function jae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fae(t,e){if(!!t){if(typeof t=="string")return T_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T_(t,e)}}function Bae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uae(t){if(Array.isArray(t))return T_(t)}function T_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ur(t,e,n){return ke(t)||ke(e)?n:Tt(e)?Mn(t,e,n):_e(e)?e(t):n}function tc(t,e,n,r){var i=Hoe(t,function(s){return Ur(s,e)});if(n==="number"){var o=i.filter(function(s){return ee(s)||parseFloat(s)});return o.length?[Sg(o),Tg(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!ke(s)}):i;return a.map(function(s){return Tt(s)||s instanceof Date?s:""})}var zae=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var u=o.range,l=0;l<s;l++){var c=l>0?i[l-1].coordinate:i[s-1].coordinate,h=i[l].coordinate,d=l>=s-1?i[0].coordinate:i[l+1].coordinate,p=void 0;if(pr(h-c)!==pr(d-h)){var _=[];if(pr(d-h)===pr(u[1]-u[0])){p=d;var g=h+u[1]-u[0];_[0]=Math.min(g,(g+c)/2),_[1]=Math.max(g,(g+c)/2)}else{p=c;var v=d+u[1]-u[0];_[0]=Math.min(h,(v+h)/2),_[1]=Math.max(h,(v+h)/2)}var b=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(e>b[0]&&e<=b[1]||e>=_[0]&&e<=_[1]){a=i[l].index;break}}else{var y=Math.min(c,d),w=Math.max(c,d);if(e>(y+h)/2&&e<=(w+h)/2){a=i[l].index;break}}}else for(var x=0;x<s;x++)if(x===0&&e<=(r[x].coordinate+r[x+1].coordinate)/2||x>0&&x<s-1&&e>(r[x].coordinate+r[x-1].coordinate)/2&&e<=(r[x].coordinate+r[x+1].coordinate)/2||x===s-1&&e>(r[x].coordinate+r[x-1].coordinate)/2){a=r[x].index;break}return a},H1=function(e){var n=e,r=n.type.displayName,i=e.props,o=i.stroke,a=i.fill,s;switch(r){case"Line":s=o;break;case"Area":case"Radar":s=o&&o!=="none"?o:a;break;default:s=a;break}return s},qae=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),u=0,l=s.length;u<l;u++)for(var c=o[s[u]].stackGroups,h=Object.keys(c),d=0,p=h.length;d<p;d++){var _=c[h[d]],g=_.items,v=_.cateAxisId,b=g.filter(function(T){return li(T.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].props.barSize,w=b[0].props[v];a[w]||(a[w]=[]);var x=ke(y)?n:y;a[w].push({item:b[0],stackList:b.slice(1),barSize:ke(x)?void 0:Ra(x,r,0)})}}return a},Wae=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,u=a.length;if(u<1)return null;var l=Ra(n,i,0,!0),c,h=[];if(a[0].barSize===+a[0].barSize){var d=!1,p=i/u,_=a.reduce(function(x,T){return x+T.barSize||0},0);_+=(u-1)*l,_>=i&&(_-=(u-1)*l,l=0),_>=i&&p>0&&(d=!0,p*=.9,_=u*p);var g=(i-_)/2>>0,v={offset:g-l,size:0};c=a.reduce(function(x,T){var A={item:T.item,position:{offset:v.offset+v.size+l,size:d?p:T.barSize}},I=[].concat(vP(x),[A]);return v=I[I.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){I.push({item:S,position:v})}),I},h)}else{var b=Ra(r,i,0,!0);i-2*b-(u-1)*l<=0&&(l=0);var y=(i-2*b-(u-1)*l)/u;y>1&&(y>>=0);var w=s===+s?Math.min(y,s):y;c=a.reduce(function(x,T,A){var I=[].concat(vP(x),[{item:T.item,position:{offset:b+(y+l)*A+(y-w)/2,size:w}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){I.push({item:S,position:I[I.length-1].position})}),I},h)}return c},Gae=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,u=a-(s.left||0)-(s.right||0),l=O$({children:o,legendWidth:u});if(l){var c=i||{},h=c.width,d=c.height,p=l.align,_=l.verticalAlign,g=l.layout;if((g==="vertical"||g==="horizontal"&&_==="middle")&&p!=="center"&&ee(e[p]))return Kn(Kn({},e),{},Ls({},p,e[p]+(h||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&_!=="middle"&&ee(e[_]))return Kn(Kn({},e),{},Ls({},_,e[_]+(d||0)))}return e},Kae=function(e,n,r){return ke(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},C$=function(e,n,r,i,o){var a=n.props.children,s=_r(a,Ag).filter(function(l){return Kae(i,o,l.props.direction)});if(s&&s.length){var u=s.map(function(l){return l.props.dataKey});return e.reduce(function(l,c){var h=Ur(c,r);if(ke(h))return l;var d=Array.isArray(h)?[Sg(h),Tg(h)]:[h,h],p=u.reduce(function(_,g){var v=Ur(c,g,0),b=d[0]-Math.abs(Array.isArray(v)?v[0]:v),y=d[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,_[0]),Math.max(y,_[1])]},[1/0,-1/0]);return[Math.min(p[0],l[0]),Math.max(p[1],l[1])]},[1/0,-1/0])}return null},Hae=function(e,n,r,i,o){var a=n.map(function(s){return C$(e,s,r,o,i)}).filter(function(s){return!ke(s)});return a&&a.length?a.reduce(function(s,u){return[Math.min(s[0],u[0]),Math.max(s[1],u[1])]},[1/0,-1/0]):null},k$=function(e,n,r,i,o){var a=n.map(function(u){var l=u.props.dataKey;return r==="number"&&l&&C$(e,u,l,i)||tc(e,l,r,o)});if(r==="number")return a.reduce(function(u,l){return[Math.min(u[0],l[0]),Math.max(u[1],l[1])]},[1/0,-1/0]);var s={};return a.reduce(function(u,l){for(var c=0,h=l.length;c<h;c++)s[l[c]]||(s[l[c]]=!0,u.push(l[c]));return u},[])},R$=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},N$=function(e,n,r,i){if(i)return e.map(function(u){return u.coordinate});var o,a,s=e.map(function(u){return u.coordinate===n&&(o=!0),u.coordinate===r&&(a=!0),u.coordinate});return o||s.push(n),a||s.push(r),s},ai=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,u=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,l=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/u:0;if(l=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?pr(s[0]-s[1])*2*l:l,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(h){var d=o?o.indexOf(h):h;return{coordinate:i(d)+l,value:h,offset:l}});return c.filter(function(h){return!jh(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,d){return{coordinate:i(h)+l,value:h,index:d,offset:l}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+l,value:h,offset:l}}):i.domain().map(function(h,d){return{coordinate:i(h)+l,value:o?o[h]:h,index:d,offset:l}})},av=new WeakMap,qf=function(e,n){if(typeof n!="function")return e;av.has(e)||av.set(e,new WeakMap);var r=av.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Qae=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:zc(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Fp(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ec(),realScaleType:"point"}:o==="category"?{scale:zc(),realScaleType:"band"}:{scale:Fp(),realScaleType:"linear"};if(Vh(i)){var u="scale".concat(cg(i));return{scale:(hP[u]||ec)(),realScaleType:hP[u]?u:"point"}}return _e(i)?{scale:i}:{scale:ec(),realScaleType:"point"}},_P=1e-4,Xae=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-_P,a=Math.max(i[0],i[1])+_P,s=e(n[0]),u=e(n[r-1]);(s<o||s>a||u<o||u>a)&&e.domain([n[0],n[r-1]])}},Yae=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Jae=function(e,n){if(!n||n.length!==2||!ee(n[0])||!ee(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ee(e[0])||e[0]<r)&&(o[0]=r),(!ee(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Zae=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var u=jh(e[s][r][1])?e[s][r][0]:e[s][r][1];u>=0?(e[s][r][0]=o,e[s][r][1]=o+u,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+u,a=e[s][r][1])}},ese=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=jh(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},tse={sign:Zae,expand:DH,none:iu,silhouette:MH,wiggle:$H,positive:ese},nse=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=tse[r],a=NH().keys(i).value(function(s,u){return+Ur(s,u,0)}).order(Y0).offset(o);return a(e)},rse=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,u={},l=s.reduce(function(h,d){var p=d.props,_=p.stackId,g=p.hide;if(g)return h;var v=d.props[r],b=h[v]||{hasStack:!1,stackGroups:{}};if(Tt(_)){var y=b.stackGroups[_]||{numericAxisId:r,cateAxisId:i,items:[]};y.items.push(d),b.hasStack=!0,b.stackGroups[_]=y}else b.stackGroups[lg("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return Kn(Kn({},h),{},Ls({},v,b))},u),c={};return Object.keys(l).reduce(function(h,d){var p=l[d];if(p.hasStack){var _={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var b=p.stackGroups[v];return Kn(Kn({},g),{},Ls({},v,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:nse(e,b.items,o)}))},_)}return Kn(Kn({},h),{},Ls({},d,p))},c)},ise=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,u=r||n.scale;if(u!=="auto"&&u!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var l=e.domain();if(!l.length)return null;var c=Tae(l,o,s);return e.domain([Sg(c),Tg(c)]),{niceTicks:c}}if(o&&i==="number"){var h=e.domain(),d=Sae(h,o,s);return{niceTicks:d}}return null},wP=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var u=Ur(a,n.dataKey,n.domain[s]);return ke(u)?null:n.scale(u)-o/2+i},ose=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},ase=function(e,n){var r=e.props.stackId;if(Tt(r)){var i=n[r];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null},sse=function(e){return e.reduce(function(n,r){return[Sg(r.concat([n[0]]).filter(ee)),Tg(r.concat([n[1]]).filter(ee))]},[1/0,-1/0])},D$=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,u=s.reduce(function(l,c){var h=sse(c.slice(n,r+1));return[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},bP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,S_=function(e,n,r){if(_e(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ee(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(bP.test(e[0])){var o=+bP.exec(e[0])[1];i[0]=n[0]-o}else _e(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ee(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(xP.test(e[1])){var a=+xP.exec(e[1])[1];i[1]=n[1]+a}else _e(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Wp=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=b1(n,function(h){return h.coordinate}),a=1/0,s=1,u=o.length;s<u;s++){var l=o[s],c=o[s-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},TP=function(e,n,r){return!e||!e.length||W1(e,Mn(r,"type.defaultProps.domain"))?n:e},M$=function(e,n){var r=e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,u=r.tooltipType,l=r.chartType,c=r.hide;return Kn(Kn({},Oe(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:H1(e),value:Ur(n,i),type:u,payload:n,chartType:l,hide:c})};function Jc(t){return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){use(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function use(t,e,n){return e=lse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lse(t){var e=cse(t,"string");return Jc(e)=="symbol"?e:String(e)}function cse(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gp=Math.PI/180,hse=function(e){return e*180/Math.PI},Ft=function(e,n,r,i){return{x:e+Math.cos(-Gp*i)*r,y:n+Math.sin(-Gp*i)*r}},fse=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},dse=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=fse({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var u=(r-o)/s,l=Math.acos(u);return i>a&&(l=2*Math.PI-l),{radius:s,angle:hse(l),angleInRadian:l}},pse=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},mse=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},IP=function(e,n){var r=e.x,i=e.y,o=dse({x:r,y:i},n),a=o.radius,s=o.angle,u=n.innerRadius,l=n.outerRadius;if(a<u||a>l)return!1;if(a===0)return!0;var c=pse(n),h=c.startAngle,d=c.endAngle,p=s,_;if(h<=d){for(;p>d;)p-=360;for(;p<h;)p+=360;_=p>=h&&p<=d}else{for(;p>h;)p-=360;for(;p<d;)p+=360;_=p>=d&&p<=h}return _?EP(EP({},n),{},{radius:a,angle:mse(p,n)}):null};function Zc(t){return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}var gse=["offset"];function yse(t){return bse(t)||wse(t)||_se(t)||vse()}function vse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _se(t,e){if(!!t){if(typeof t=="string")return E_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E_(t,e)}}function wse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bse(t){if(Array.isArray(t))return E_(t)}function E_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xse(t,e){if(t==null)return{};var n=Tse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function Tse(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function AP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AP(Object(n),!0).forEach(function(r){Sse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sse(t,e,n){return e=Ese(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ese(t){var e=Ise(t,"string");return Zc(e)=="symbol"?e:String(e)}function Ise(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ase=function(e){var n=e.value,r=e.formatter,i=ke(e.children)?n:e.children;return _e(r)?r(i):i},Pse=function(e,n){var r=pr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Ose=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,u=o,l=u.cx,c=u.cy,h=u.innerRadius,d=u.outerRadius,p=u.startAngle,_=u.endAngle,g=u.clockWise,v=(h+d)/2,b=Pse(p,_),y=b>=0?1:-1,w,x;i==="insideStart"?(w=p+y*a,x=g):i==="insideEnd"?(w=_-y*a,x=!g):i==="end"&&(w=_+y*a,x=g),x=b<=0?x:!x;var T=Ft(l,c,v,w),A=Ft(l,c,v,w+(x?1:-1)*359),I="M".concat(T.x,",").concat(T.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(x?0:1,`,
    `).concat(A.x,",").concat(A.y),S=ke(e.id)?lg("recharts-radial-line-"):e.id;return Y("text",{...r,dominantBaseline:"central",className:Re("recharts-radial-bar-label",s),children:[D("defs",{children:D("path",{id:S,d:I})}),D("textPath",{xlinkHref:"#".concat(S),children:n})]})},Cse=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,u=o.innerRadius,l=o.outerRadius,c=o.startAngle,h=o.endAngle,d=(c+h)/2;if(i==="outside"){var p=Ft(a,s,l+r,d),_=p.x,g=p.y;return{x:_,y:g,textAnchor:_>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(u+l)/2,b=Ft(a,s,v,d),y=b.x,w=b.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},kse=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,u=a.y,l=a.width,c=a.height,h=c>=0?1:-1,d=h*i,p=h>0?"end":"start",_=h>0?"start":"end",g=l>=0?1:-1,v=g*i,b=g>0?"end":"start",y=g>0?"start":"end";if(o==="top"){var w={x:s+l/2,y:u-h*i,textAnchor:"middle",verticalAnchor:p};return wt(wt({},w),r?{height:Math.max(u-r.y,0),width:l}:{})}if(o==="bottom"){var x={x:s+l/2,y:u+c+d,textAnchor:"middle",verticalAnchor:_};return wt(wt({},x),r?{height:Math.max(r.y+r.height-(u+c),0),width:l}:{})}if(o==="left"){var T={x:s-v,y:u+c/2,textAnchor:b,verticalAnchor:"middle"};return wt(wt({},T),r?{width:Math.max(T.x-r.x,0),height:c}:{})}if(o==="right"){var A={x:s+l+v,y:u+c/2,textAnchor:y,verticalAnchor:"middle"};return wt(wt({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:c}:{})}var I=r?{width:l,height:c}:{};return o==="insideLeft"?wt({x:s+v,y:u+c/2,textAnchor:y,verticalAnchor:"middle"},I):o==="insideRight"?wt({x:s+l-v,y:u+c/2,textAnchor:b,verticalAnchor:"middle"},I):o==="insideTop"?wt({x:s+l/2,y:u+d,textAnchor:"middle",verticalAnchor:_},I):o==="insideBottom"?wt({x:s+l/2,y:u+c-d,textAnchor:"middle",verticalAnchor:p},I):o==="insideTopLeft"?wt({x:s+v,y:u+d,textAnchor:y,verticalAnchor:_},I):o==="insideTopRight"?wt({x:s+l-v,y:u+d,textAnchor:b,verticalAnchor:_},I):o==="insideBottomLeft"?wt({x:s+v,y:u+c-d,textAnchor:y,verticalAnchor:p},I):o==="insideBottomRight"?wt({x:s+l-v,y:u+c-d,textAnchor:b,verticalAnchor:p},I):Fn(o)&&(ee(o.x)||oa(o.x))&&(ee(o.y)||oa(o.y))?wt({x:s+Ra(o.x,l),y:u+Ra(o.y,c),textAnchor:"end",verticalAnchor:"end"},I):wt({x:s+l/2,y:u+c/2,textAnchor:"middle",verticalAnchor:"middle"},I)},Rse=function(e){return"cx"in e&&ee(e.cx)};function Zt(t){var e=t.offset,n=e===void 0?5:e,r=xse(t,gse),i=wt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,u=i.children,l=i.content,c=i.className,h=c===void 0?"":c,d=i.textBreakAll;if(!o||ke(s)&&ke(u)&&!M.exports.isValidElement(l)&&!_e(l))return null;if(M.exports.isValidElement(l))return M.exports.cloneElement(l,i);var p;if(_e(l)){if(p=M.exports.createElement(l,i),M.exports.isValidElement(p))return p}else p=Ase(i);var _=Rse(o),g=Oe(i,!0);if(_&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Ose(i,p,g);var v=_?Cse(i):kse(i);return D(Np,{className:Re("recharts-label",h),...g,...v,breakAll:d,children:p})}Zt.displayName="Label";var $$=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,u=e.radius,l=e.innerRadius,c=e.outerRadius,h=e.x,d=e.y,p=e.top,_=e.left,g=e.width,v=e.height,b=e.clockWise,y=e.labelViewBox;if(y)return y;if(ee(g)&&ee(v)){if(ee(h)&&ee(d))return{x:h,y:d,width:g,height:v};if(ee(p)&&ee(_))return{x:p,y:_,width:g,height:v}}return ee(h)&&ee(d)?{x:h,y:d,width:0,height:0}:ee(n)&&ee(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:l||0,outerRadius:c||u||s||0,clockWise:b}:e.viewBox?e.viewBox:{}},Nse=function(e,n){return e?e===!0?D(Zt,{viewBox:n},"label-implicit"):Tt(e)?D(Zt,{viewBox:n,value:e},"label-implicit"):M.exports.isValidElement(e)?e.type===Zt?M.exports.cloneElement(e,{key:"label-implicit",viewBox:n}):D(Zt,{content:e,viewBox:n},"label-implicit"):_e(e)?D(Zt,{content:e,viewBox:n},"label-implicit"):Fn(e)?M.exports.createElement(Zt,{viewBox:n,...e,key:"label-implicit"}):null:null},Dse=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=$$(e),a=_r(i,Zt).map(function(u,l){return M.exports.cloneElement(u,{viewBox:n||o,key:"label-".concat(l)})});if(!r)return a;var s=Nse(e.label,n||o);return[s].concat(yse(a))};Zt.parseViewBox=$$;Zt.renderCallByParent=Dse;function Mse(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var $se=Mse;function eh(t){return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}var Lse=["valueAccessor"],Vse=["data","dataKey","clockWise","id","textBreakAll"];function jse(t){return zse(t)||Use(t)||Bse(t)||Fse()}function Fse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bse(t,e){if(!!t){if(typeof t=="string")return I_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I_(t,e)}}function Use(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zse(t){if(Array.isArray(t))return I_(t)}function I_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(n),!0).forEach(function(r){qse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qse(t,e,n){return e=Wse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wse(t){var e=Gse(t,"string");return eh(e)=="symbol"?e:String(e)}function Gse(t,e){if(eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CP(t,e){if(t==null)return{};var n=Kse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function Kse(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Hse=function(e){return Array.isArray(e.value)?$se(e.value):e.value};function ma(t){var e=t.valueAccessor,n=e===void 0?Hse:e,r=CP(t,Lse),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,u=r.textBreakAll,l=CP(r,Vse);return!i||!i.length?null:D(Ct,{className:"recharts-label-list",children:i.map(function(c,h){var d=ke(o)?n(c,h):Ur(c&&c.payload,o),p=ke(s)?{}:{id:"".concat(s,"-").concat(h)};return M.exports.createElement(Zt,{...Oe(c,!0),...l,...p,parentViewBox:c.parentViewBox,value:d,textBreakAll:u,viewBox:Zt.parseViewBox(ke(a)?c:OP(OP({},c),{},{clockWise:a})),key:"label-".concat(h),index:h})})})}ma.displayName="LabelList";function Qse(t,e){return t?t===!0?D(ma,{data:e},"labelList-implicit"):Ne.isValidElement(t)||_e(t)?D(ma,{data:e,content:t},"labelList-implicit"):Fn(t)?M.exports.createElement(ma,{data:e,...t,key:"labelList-implicit"}):null:null}function Xse(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=_r(r,ma).map(function(a,s){return M.exports.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=Qse(t.label,e);return[o].concat(jse(i))}ma.renderCallByParent=Xse;function th(t){return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function kP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(n),!0).forEach(function(r){Yse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yse(t,e,n){return e=Jse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jse(t){var e=Zse(t,"string");return th(e)=="symbol"?e:String(e)}function Zse(t,e){if(th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eue=function(e,n){var r=pr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Wf=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,u=e.cornerRadius,l=e.cornerIsExternal,c=u*(s?1:-1)+i,h=Math.asin(u/c)/Gp,d=l?o:o+a*h,p=Ft(n,r,c,d),_=Ft(n,r,i,d),g=l?o-a*h:o,v=Ft(n,r,c*Math.cos(h*Gp),g);return{center:p,circleTangency:_,lineTangency:v,theta:h}},L$=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,u=eue(a,s),l=a+u,c=Ft(n,r,o,a),h=Ft(n,r,o,l),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>l),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var p=Ft(n,r,i,a),_=Ft(n,r,i,l);d+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=l),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},tue=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,u=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,h=pr(c-l),d=Wf({cx:n,cy:r,radius:o,angle:l,sign:h,cornerRadius:a,cornerIsExternal:u}),p=d.circleTangency,_=d.lineTangency,g=d.theta,v=Wf({cx:n,cy:r,radius:o,angle:c,sign:-h,cornerRadius:a,cornerIsExternal:u}),b=v.circleTangency,y=v.lineTangency,w=v.theta,x=u?Math.abs(l-c):Math.abs(l-c)-g-w;if(x<0)return s?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):L$({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c});var T="M ".concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(x>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var A=Wf({cx:n,cy:r,radius:i,angle:l,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),I=A.circleTangency,S=A.lineTangency,P=A.theta,O=Wf({cx:n,cy:r,radius:i,angle:c,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),R=O.circleTangency,N=O.lineTangency,C=O.theta,F=u?Math.abs(l-c):Math.abs(l-c)-P-C;if(F<0&&a===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(h>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},nue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},V$=function(e){var n=RP(RP({},nue),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,u=n.forceCornerRadius,l=n.cornerIsExternal,c=n.startAngle,h=n.endAngle,d=n.className;if(a<o||c===h)return null;var p=Re("recharts-sector",d),_=a-o,g=Ra(s,_,0,!0),v;return g>0&&Math.abs(c-h)<360?v=tue({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,_/2),forceCornerRadius:u,cornerIsExternal:l,startAngle:c,endAngle:h}):v=L$({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:h}),D("path",{...Oe(n,!0),className:p,d:v,role:"img"})};function nh(t){return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function NP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(n),!0).forEach(function(r){rue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rue(t,e,n){return e=iue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iue(t){var e=oue(t,"string");return nh(e)=="symbol"?e:String(e)}function oue(t,e){if(nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MP={curveBasisClosed:xH,curveBasisOpen:TH,curveBasis:bH,curveBumpX:sH,curveBumpY:uH,curveLinearClosed:SH,curveLinear:fg,curveMonotoneX:EH,curveMonotoneY:IH,curveNatural:AH,curveStep:PH,curveStepAfter:CH,curveStepBefore:OH},Gf=function(e){return e.x===+e.x&&e.y===+e.y},xl=function(e){return e.x},Tl=function(e){return e.y},aue=function(e,n){if(_e(e))return e;var r="curve".concat(cg(e));return(r==="curveMonotone"||r==="curveBump")&&n?MP["".concat(r).concat(n==="vertical"?"Y":"X")]:MP[r]||fg},sue=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,u=e.connectNulls,l=u===void 0?!1:u,c=aue(r,s),h=l?o.filter(function(g){return Gf(g)}):o,d;if(Array.isArray(a)){var p=l?a.filter(function(g){return Gf(g)}):a,_=h.map(function(g,v){return DP(DP({},g),{},{base:p[v]})});return s==="vertical"?d=$f().y(Tl).x1(xl).x0(function(g){return g.base.x}):d=$f().x(xl).y1(Tl).y0(function(g){return g.base.y}),d.defined(Gf).curve(c),d(_)}return s==="vertical"&&ee(a)?d=$f().y(Tl).x1(xl).x0(a):ee(a)?d=$f().x(xl).y1(Tl).y0(a):d=B2().x(xl).y(Tl),d.defined(Gf).curve(c),d(h)},$P=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?sue(e):i;return D("path",{...Oe(e,!1),..._p(e),className:Re("recharts-curve",n),d:a,ref:o})},ye={exports:{}},uue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",lue=uue,cue=lue;function j$(){}function F$(){}F$.resetWarningCache=j$;var hue=function(){function t(r,i,o,a,s,u){if(u!==cue){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:F$,resetWarningCache:j$};return n.PropTypes=n,n};ye.exports=hue();var fue=Object.getOwnPropertyNames,due=Object.getOwnPropertySymbols,pue=Object.prototype.hasOwnProperty;function LP(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Kf(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var u=t(n,r,i);return o.delete(n),o.delete(r),u}}function VP(t){return fue(t).concat(due(t))}var B$=Object.hasOwn||function(t,e){return pue.call(t,e)};function Bu(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var U$="_owner",jP=Object.getOwnPropertyDescriptor,FP=Object.keys;function mue(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function gue(t,e){return Bu(t.getTime(),e.getTime())}function BP(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),o=0,a,s;(a=i.next())&&!a.done;){for(var u=e.entries(),l=!1,c=0;(s=u.next())&&!s.done;){var h=a.value,d=h[0],p=h[1],_=s.value,g=_[0],v=_[1];!l&&!r[c]&&(l=n.equals(d,g,o,c,t,e,n)&&n.equals(p,v,d,g,t,e,n))&&(r[c]=!0),c++}if(!l)return!1;o++}return!0}function yue(t,e,n){var r=FP(t),i=r.length;if(FP(e).length!==i)return!1;for(var o;i-- >0;)if(o=r[i],o===U$&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!B$(e,o)||!n.equals(t[o],e[o],o,o,t,e,n))return!1;return!0}function Sl(t,e,n){var r=VP(t),i=r.length;if(VP(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],o===U$&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!B$(e,o)||!n.equals(t[o],e[o],o,o,t,e,n)||(a=jP(t,o),s=jP(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function vue(t,e){return Bu(t.valueOf(),e.valueOf())}function _ue(t,e){return t.source===e.source&&t.flags===e.flags}function UP(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),o,a;(o=i.next())&&!o.done;){for(var s=e.values(),u=!1,l=0;(a=s.next())&&!a.done;)!u&&!r[l]&&(u=n.equals(o.value,a.value,o.value,a.value,t,e,n))&&(r[l]=!0),l++;if(!u)return!1}return!0}function wue(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var bue="[object Arguments]",xue="[object Boolean]",Tue="[object Date]",Sue="[object Map]",Eue="[object Number]",Iue="[object Object]",Aue="[object RegExp]",Pue="[object Set]",Oue="[object String]",Cue=Array.isArray,zP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,qP=Object.assign,kue=Object.prototype.toString.call.bind(Object.prototype.toString);function Rue(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,o=t.arePrimitiveWrappersEqual,a=t.areRegExpsEqual,s=t.areSetsEqual,u=t.areTypedArraysEqual;return function(c,h,d){if(c===h)return!0;if(c==null||h==null||typeof c!="object"||typeof h!="object")return c!==c&&h!==h;var p=c.constructor;if(p!==h.constructor)return!1;if(p===Object)return i(c,h,d);if(Cue(c))return e(c,h,d);if(zP!=null&&zP(c))return u(c,h,d);if(p===Date)return n(c,h,d);if(p===RegExp)return a(c,h,d);if(p===Map)return r(c,h,d);if(p===Set)return s(c,h,d);var _=kue(c);return _===Tue?n(c,h,d):_===Aue?a(c,h,d):_===Sue?r(c,h,d):_===Pue?s(c,h,d):_===Iue?typeof c.then!="function"&&typeof h.then!="function"&&i(c,h,d):_===bue?i(c,h,d):_===xue||_===Eue||_===Oue?o(c,h,d):!1}}function Nue(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Sl:mue,areDatesEqual:gue,areMapsEqual:r?LP(BP,Sl):BP,areObjectsEqual:r?Sl:yue,arePrimitiveWrappersEqual:vue,areRegExpsEqual:_ue,areSetsEqual:r?LP(UP,Sl):UP,areTypedArraysEqual:r?Sl:wue};if(n&&(i=qP({},i,n(i))),e){var o=Kf(i.areArraysEqual),a=Kf(i.areMapsEqual),s=Kf(i.areObjectsEqual),u=Kf(i.areSetsEqual);i=qP({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:u})}return i}function Due(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function Mue(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(u,l){var c=r(),h=c.cache,d=h===void 0?e?new WeakMap:void 0:h,p=c.meta;return n(u,l,{cache:d,equals:i,meta:p,strict:o})};if(e)return function(u,l){return n(u,l,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(u,l){return n(u,l,a)}}var $ue=Do();Do({strict:!0});Do({circular:!0});Do({circular:!0,strict:!0});Do({createInternalComparator:function(){return Bu}});Do({strict:!0,createInternalComparator:function(){return Bu}});Do({circular:!0,createInternalComparator:function(){return Bu}});Do({circular:!0,createInternalComparator:function(){return Bu},strict:!0});function Do(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=Nue(t),u=Rue(s),l=r?r(u):Due(u);return Mue({circular:n,comparator:u,createState:i,equals:l,strict:a})}function Lue(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function WP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Lue(i)};requestAnimationFrame(r)}function A_(t){return A_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A_(t)}function Vue(t){return Uue(t)||Bue(t)||Fue(t)||jue()}function jue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fue(t,e){if(!!t){if(typeof t=="string")return GP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GP(t,e)}}function GP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uue(t){if(Array.isArray(t))return t}function zue(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=Vue(a),u=s[0],l=s.slice(1);if(typeof u=="number"){WP(i.bind(null,l),u);return}i(u),WP(i.bind(null,l));return}A_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function rh(t){return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){z$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z$(t,e,n){return e=que(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function que(t){var e=Wue(t,"string");return rh(e)==="symbol"?e:String(e)}function Wue(t,e){if(rh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gue=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},Kue=function(e){return e},Hue=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},nc=function(e,n){return Object.keys(n).reduce(function(r,i){return HP(HP({},r),{},z$({},i,e(i,n[i])))},{})},QP=function(e,n,r){return e.map(function(i){return"".concat(Hue(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Que(t,e){return Jue(t)||Yue(t,e)||q$(t,e)||Xue()}function Xue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function Jue(t){if(Array.isArray(t))return t}function Zue(t){return nle(t)||tle(t)||q$(t)||ele()}function ele(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q$(t,e){if(!!t){if(typeof t=="string")return P_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P_(t,e)}}function tle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nle(t){if(Array.isArray(t))return P_(t)}function P_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Kp=1e-4,W$=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},G$=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},XP=function(e,n){return function(r){var i=W$(e,n);return G$(i,r)}},rle=function(e,n){return function(r){var i=W$(e,n),o=[].concat(Zue(i.map(function(a,s){return a*s}).slice(1)),[0]);return G$(o,r)}},YP=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var u=n[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var l=u[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),c=Que(l,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var h=XP(i,a),d=XP(o,s),p=rle(i,a),_=function(b){return b>1?1:b<0?0:b},g=function(b){for(var y=b>1?1:b,w=y,x=0;x<8;++x){var T=h(w)-y,A=p(w);if(Math.abs(T-y)<Kp||A<Kp)return d(w);w=_(w-T/A)}return d(w)};return g.isStepper=!1,g},ile=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,u=function(c,h,d){var p=-(c-h)*r,_=d*o,g=d+(p-_)*s/1e3,v=d*s/1e3+c;return Math.abs(v-h)<Kp&&Math.abs(g)<Kp?[h,0]:[v,g]};return u.isStepper=!0,u.dt=s,u},ole=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YP(i);case"spring":return ile();default:if(i.split("(")[0]==="cubic-bezier")return YP(i)}return typeof i=="function"?i:null};function ih(t){return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function JP(t){return ule(t)||sle(t)||K$(t)||ale()}function ale(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ule(t){if(Array.isArray(t))return C_(t)}function ZP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZP(Object(n),!0).forEach(function(r){O_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O_(t,e,n){return e=lle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lle(t){var e=cle(t,"string");return ih(e)==="symbol"?e:String(e)}function cle(t,e){if(ih(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ih(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hle(t,e){return ple(t)||dle(t,e)||K$(t,e)||fle()}function fle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K$(t,e){if(!!t){if(typeof t=="string")return C_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C_(t,e)}}function C_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function ple(t){if(Array.isArray(t))return t}var Hp=function(e,n,r){return e+(n-e)*r},k_=function(e){var n=e.from,r=e.to;return n!==r},mle=function t(e,n,r){var i=nc(function(o,a){if(k_(a)){var s=e(a.from,a.to,a.velocity),u=hle(s,2),l=u[0],c=u[1];return Lt(Lt({},a),{},{from:l,velocity:c})}return a},n);return r<1?nc(function(o,a){return k_(a)?Lt(Lt({},a),{},{velocity:Hp(a.velocity,i[o].velocity,r),from:Hp(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const gle=function(t,e,n,r,i){var o=Gue(t,e),a=o.reduce(function(v,b){return Lt(Lt({},v),{},O_({},b,[t[b],e[b]]))},{}),s=o.reduce(function(v,b){return Lt(Lt({},v),{},O_({},b,{from:t[b],velocity:0,to:e[b]}))},{}),u=-1,l,c,h=function(){return null},d=function(){return nc(function(b,y){return y.from},s)},p=function(){return!Object.values(s).filter(k_).length},_=function(b){l||(l=b);var y=b-l,w=y/n.dt;s=mle(n,s,w),i(Lt(Lt(Lt({},t),e),d())),l=b,p()||(u=requestAnimationFrame(h))},g=function(b){c||(c=b);var y=(b-c)/r,w=nc(function(T,A){return Hp.apply(void 0,JP(A).concat([n(y)]))},a);if(i(Lt(Lt(Lt({},t),e),w)),y<1)u=requestAnimationFrame(h);else{var x=nc(function(T,A){return Hp.apply(void 0,JP(A).concat([n(1)]))},a);i(Lt(Lt(Lt({},t),e),x))}};return h=n.isStepper?_:g,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(u)}}};function du(t){return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}var yle=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function vle(t,e){if(t==null)return{};var n=_le(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function _le(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function sv(t){return Tle(t)||xle(t)||ble(t)||wle()}function wle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ble(t,e){if(!!t){if(typeof t=="string")return R_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R_(t,e)}}function xle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tle(t){if(Array.isArray(t))return R_(t)}function R_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(n),!0).forEach(function(r){Ml(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ml(t,e,n){return e=H$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H$(r.key),r)}}function Ele(t,e,n){return e&&tO(t.prototype,e),n&&tO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function H$(t){var e=Ile(t,"string");return du(e)==="symbol"?e:String(e)}function Ile(t,e){if(du(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(du(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ale(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N_(t,e)}function N_(t,e){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(t,e)}function Ple(t){var e=Ole();return function(){var r=Qp(t),i;if(e){var o=Qp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return D_(this,i)}}function D_(t,e){if(e&&(du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M_(t)}function M_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ole(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qp(t){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qp(t)}var bo=function(t){Ale(n,t);var e=Ple(n);function n(r,i){var o;Sle(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,u=a.attributeName,l=a.from,c=a.to,h=a.steps,d=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(M_(o)),o.changeStyle=o.changeStyle.bind(M_(o)),!s||p<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:c}),D_(o);if(h&&h.length)o.state={style:h[0].style};else if(l){if(typeof d=="function")return o.state={style:l},D_(o);o.state={style:u?Ml({},u,l):l}}else o.state={style:{}};return o}return Ele(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,u=o.attributeName,l=o.shouldReAnimate,c=o.to,h=o.from,d=this.state.style;if(!!s){if(!a){var p={style:u?Ml({},u,c):c};this.state&&d&&(u&&d[u]!==c||!u&&d!==c)&&this.setState(p);return}if(!($ue(i.to,c)&&i.canBegin&&i.isActive)){var _=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=_||l?h:i.to;if(this.state&&d){var v={style:u?Ml({},u,g):g};(u&&d[u]!==g||!u&&d!==g)&&this.setState(v)}this.runAnimation(sr(sr({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,u=i.duration,l=i.easing,c=i.begin,h=i.onAnimationEnd,d=i.onAnimationStart,p=gle(a,s,ole(l),u,this.changeStyle),_=function(){o.stopJSAnimation=p()};this.manager.start([d,c,_,u,h])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,u=i.onAnimationStart,l=a[0],c=l.style,h=l.duration,d=h===void 0?0:h,p=function(g,v,b){if(b===0)return g;var y=v.duration,w=v.easing,x=w===void 0?"ease":w,T=v.style,A=v.properties,I=v.onAnimationEnd,S=b>0?a[b-1]:v,P=A||Object.keys(T);if(typeof x=="function"||x==="spring")return[].concat(sv(g),[o.runJSAnimation.bind(o,{from:S.style,to:T,duration:y,easing:x}),y]);var O=QP(P,y,x),R=sr(sr(sr({},S.style),T),{},{transition:O});return[].concat(sv(g),[R,y,I]).filter(Kue)};return this.manager.start([u].concat(sv(a.reduce(p,[c,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=zue());var o=i.begin,a=i.duration,s=i.attributeName,u=i.to,l=i.easing,c=i.onAnimationStart,h=i.onAnimationEnd,d=i.steps,p=i.children,_=this.manager;if(this.unSubscribe=_.subscribe(this.handleStyleChange),typeof l=="function"||typeof p=="function"||l==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var g=s?Ml({},s,u):u,v=QP(Object.keys(g),a,l);_.start([c,o,sr(sr({},g),{},{transition:v}),a,h])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var u=vle(i,yle),l=M.exports.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||l===0||a<=0)return o;var h=function(p){var _=p.props,g=_.style,v=g===void 0?{}:g,b=_.className,y=M.exports.cloneElement(p,sr(sr({},u),{},{style:sr(sr({},v),c),className:b}));return y};return l===1?h(M.exports.Children.only(o)):D("div",{children:M.exports.Children.map(o,function(d){return h(d)})})}}]),n}(M.exports.PureComponent);bo.displayName="Animate";bo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};bo.propTypes={from:ye.exports.oneOfType([ye.exports.object,ye.exports.string]),to:ye.exports.oneOfType([ye.exports.object,ye.exports.string]),attributeName:ye.exports.string,duration:ye.exports.number,begin:ye.exports.number,easing:ye.exports.oneOfType([ye.exports.string,ye.exports.func]),steps:ye.exports.arrayOf(ye.exports.shape({duration:ye.exports.number.isRequired,style:ye.exports.object.isRequired,easing:ye.exports.oneOfType([ye.exports.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ye.exports.func]),properties:ye.exports.arrayOf("string"),onAnimationEnd:ye.exports.func})),children:ye.exports.oneOfType([ye.exports.node,ye.exports.func]),isActive:ye.exports.bool,canBegin:ye.exports.bool,onAnimationEnd:ye.exports.func,shouldReAnimate:ye.exports.bool,onAnimationStart:ye.exports.func,onAnimationReStart:ye.exports.func};ye.exports.object,ye.exports.object,ye.exports.object,ye.exports.element;ye.exports.object,ye.exports.object,ye.exports.object,ye.exports.oneOfType([ye.exports.array,ye.exports.element]),ye.exports.any;function oh(t){return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function Cle(t,e){return Dle(t)||Nle(t,e)||Rle(t,e)||kle()}function kle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rle(t,e){if(!!t){if(typeof t=="string")return nO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nO(t,e)}}function nO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function Dle(t){if(Array.isArray(t))return t}function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(n),!0).forEach(function(r){Mle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mle(t,e,n){return e=$le(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $le(t){var e=Lle(t,"string");return oh(e)=="symbol"?e:String(e)}function Lle(t,e){if(oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oO=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,u=r>=0?1:-1,l=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var h=[0,0,0,0],d=0,p=4;d<p;d++)h[d]=o[d]>a?a:o[d];c="M".concat(e,",").concat(n+s*h[0]),h[0]>0&&(c+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(l,",").concat(e+u*h[0],",").concat(n)),c+="L ".concat(e+r-u*h[1],",").concat(n),h[1]>0&&(c+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(n+s*h[1])),c+="L ".concat(e+r,",").concat(n+i-s*h[2]),h[2]>0&&(c+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(l,`,
        `).concat(e+r-u*h[2],",").concat(n+i)),c+="L ".concat(e+u*h[3],",").concat(n+i),h[3]>0&&(c+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(n+i-s*h[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var _=Math.min(a,o);c="M ".concat(e,",").concat(n+s*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(l,",").concat(e+u*_,",").concat(n,`
            L `).concat(e+r-u*_,",").concat(n,`
            A `).concat(_,",").concat(_,",0,0,").concat(l,",").concat(e+r,",").concat(n+s*_,`
            L `).concat(e+r,",").concat(n+i-s*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(l,",").concat(e+r-u*_,",").concat(n+i,`
            L `).concat(e+u*_,",").concat(n+i,`
            A `).concat(_,",").concat(_,",0,0,").concat(l,",").concat(e,",").concat(n+i-s*_," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Vle=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,u=n.height;if(Math.abs(s)>0&&Math.abs(u)>0){var l=Math.min(o,o+s),c=Math.max(o,o+s),h=Math.min(a,a+u),d=Math.max(a,a+u);return r>=l&&r<=c&&i>=h&&i<=d}return!1},jle={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Q1=function(e){var n=iO(iO({},jle),e),r=M.exports.useRef(),i=M.exports.useState(-1),o=Cle(i,2),a=o[0],s=o[1];M.exports.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var u=n.x,l=n.y,c=n.width,h=n.height,d=n.radius,p=n.className,_=n.animationEasing,g=n.animationDuration,v=n.animationBegin,b=n.isAnimationActive,y=n.isUpdateAnimationActive;if(u!==+u||l!==+l||c!==+c||h!==+h||c===0||h===0)return null;var w=Re("recharts-rectangle",p);return y?D(bo,{canBegin:a>0,from:{width:c,height:h,x:u,y:l},to:{width:c,height:h,x:u,y:l},duration:g,animationEasing:_,isActive:y,children:function(x){var T=x.width,A=x.height,I=x.x,S=x.y;return D(bo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:b,easing:_,children:D("path",{...Oe(n,!0),className:w,d:oO(I,S,T,A,d),ref:r})})}}):D("path",{...Oe(n,!0),className:w,d:oO(u,l,c,h,d)})},Q$=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Re("recharts-dot",o);return n===+n&&r===+r&&i===+i?D("circle",{...Oe(e,!1),..._p(e),className:a,cx:n,cy:r,r:i}):null};function ah(t){return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}var Fle=["x","y","top","left","width","height","className"];function aO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ble(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(n),!0).forEach(function(r){Ule(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ule(t,e,n){return e=zle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zle(t){var e=qle(t,"string");return ah(e)=="symbol"?e:String(e)}function qle(t,e){if(ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wle(t,e){if(t==null)return{};var n=Gle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function Gle(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Kle=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},Hle=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,u=e.left,l=u===void 0?0:u,c=e.width,h=c===void 0?0:c,d=e.height,p=d===void 0?0:d,_=e.className,g=Wle(e,Fle),v=Ble({x:r,y:o,top:s,left:l,width:h,height:p},g);return!ee(r)||!ee(o)||!ee(h)||!ee(p)||!ee(s)||!ee(l)?null:D("path",{...Oe(v,!0),className:Re("recharts-cross",_),d:Kle(r,o,h,p,s,l)})},Qle=cM,Xle=Qle(Object.getPrototypeOf,Object),Yle=Xle,Jle=Ai,Zle=Yle,ece=Pi,tce="[object Object]",nce=Function.prototype,rce=Object.prototype,X$=nce.toString,ice=rce.hasOwnProperty,oce=X$.call(Object);function ace(t){if(!ece(t)||Jle(t)!=tce)return!1;var e=Zle(t);if(e===null)return!0;var n=ice.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&X$.call(n)==oce}var sce=ace,uce=Ai,lce=Pi,cce="[object Boolean]";function hce(t){return t===!0||t===!1||lce(t)&&uce(t)==cce}var fce=hce;function sh(t){return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function dce(t,e){return yce(t)||gce(t,e)||mce(t,e)||pce()}function pce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mce(t,e){if(!!t){if(typeof t=="string")return sO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sO(t,e)}}function sO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function yce(t){if(Array.isArray(t))return t}function uO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(n),!0).forEach(function(r){vce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vce(t,e,n){return e=_ce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ce(t){var e=wce(t,"string");return sh(e)=="symbol"?e:String(e)}function wce(t,e){if(sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cO=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},bce={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xce=function(e){var n=lO(lO({},bce),e),r=M.exports.useRef(),i=M.exports.useState(-1),o=dce(i,2),a=o[0],s=o[1];M.exports.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&s(w)}catch{}},[]);var u=n.x,l=n.y,c=n.upperWidth,h=n.lowerWidth,d=n.height,p=n.className,_=n.animationEasing,g=n.animationDuration,v=n.animationBegin,b=n.isUpdateAnimationActive;if(u!==+u||l!==+l||c!==+c||h!==+h||d!==+d||c===0&&h===0||d===0)return null;var y=Re("recharts-trapezoid",p);return b?D(bo,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:u,y:l},to:{upperWidth:c,lowerWidth:h,height:d,x:u,y:l},duration:g,animationEasing:_,isActive:b,children:function(w){var x=w.upperWidth,T=w.lowerWidth,A=w.height,I=w.x,S=w.y;return D(bo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:_,children:D("path",{...Oe(n,!0),className:y,d:cO(I,S,x,T,A),ref:r})})}}):D("g",{children:D("path",{...Oe(n,!0),className:y,d:cO(u,l,c,h,d)})})},Tce=["option","shapeType","propTransformer","activeClassName","isActive"];function uh(t){return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function Sce(t,e){if(t==null)return{};var n=Ece(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function Ece(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function hO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(n),!0).forEach(function(r){Ice(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ice(t,e,n){return e=Ace(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ace(t){var e=Pce(t,"string");return uh(e)=="symbol"?e:String(e)}function Pce(t,e){if(uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oce(t,e){return Xp(Xp({},e),t)}function Cce(t,e){return t==="symbols"}function fO(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return D(Q1,{...n});case"trapezoid":return D(xce,{...n});case"sector":return D(V$,{...n});case"symbols":if(Cce(e))return D(d1,{...n});break;default:return null}}function kce(t){return M.exports.isValidElement(t)?t.props:t}function Rce(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Oce:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,u=Sce(t,Tce),l;if(M.exports.isValidElement(e))l=M.exports.cloneElement(e,Xp(Xp({},u),kce(e)));else if(_e(e))l=e(u);else if(sce(e)&&!fce(e)){var c=i(e,u);l=D(fO,{shapeType:n,elementProps:c})}else{var h=u;l=D(fO,{shapeType:n,elementProps:h})}return s?D(Ct,{className:a,children:l}):l}function Pg(t,e){return e!=null&&"trapezoids"in t.props}function Og(t,e){return e!=null&&"sectors"in t.props}function lh(t,e){return e!=null&&"points"in t.props}function Nce(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Dce(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Mce(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function $ce(t,e){var n;return Pg(t,e)?n=Nce:Og(t,e)?n=Dce:lh(t,e)&&(n=Mce),n}function Lce(t,e){var n;return Pg(t,e)?n="trapezoids":Og(t,e)?n="sectors":lh(t,e)&&(n="points"),n}function Vce(t,e){if(Pg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Og(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return lh(t,e)?e.payload:{}}function jce(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Lce(n,e),o=Vce(n,e),a=r.filter(function(u,l){var c=W1(o,u),h=n.props[i].filter(function(_){var g=$ce(n,e);return g(_,e)}),d=n.props[i].indexOf(h[h.length-1]),p=l===d;return c&&p}),s=r.indexOf(a[a.length-1]);return s}var Fce=Math.ceil,Bce=Math.max;function Uce(t,e,n,r){for(var i=-1,o=Bce(Fce((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var zce=Uce,qce=CM,dO=1/0,Wce=17976931348623157e292;function Gce(t){if(!t)return t===0?t:0;if(t=qce(t),t===dO||t===-dO){var e=t<0?-1:1;return e*Wce}return t===t?t:0}var Y$=Gce,Kce=zce,Hce=gg,uv=Y$;function Qce(t){return function(e,n,r){return r&&typeof r!="number"&&Hce(e,n,r)&&(n=r=void 0),e=uv(e),n===void 0?(n=e,e=0):n=uv(n),r=r===void 0?e<n?1:-1:uv(r),Kce(e,n,r,t)}}var Xce=Qce,Yce=Xce,Jce=Yce(),Yp=Jce;function ch(t){return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function pO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(n),!0).forEach(function(r){J$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J$(t,e,n){return e=Zce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zce(t){var e=ehe(t,"string");return ch(e)=="symbol"?e:String(e)}function ehe(t,e){if(ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var the=["Webkit","Moz","O","ms"],nhe=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=the.reduce(function(o,a){return mO(mO({},o),{},J$({},a+r,n))},{});return i[e]=n,i};function pu(t){return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){An(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eL(r.key),r)}}function ihe(t,e,n){return e&&yO(t.prototype,e),n&&yO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ohe(t,e,n){return e=Jp(e),ahe(t,Z$()?Reflect.construct(e,n||[],Jp(t).constructor):e.apply(t,n))}function ahe(t,e){if(e&&(pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Er(t)}function Z$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z$=function(){return!!t})()}function Jp(t){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jp(t)}function Er(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function she(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$_(t,e)}function $_(t,e){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$_(t,e)}function An(t,e,n){return e=eL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eL(t){var e=uhe(t,"string");return pu(e)=="symbol"?e:String(e)}function uhe(t,e){if(pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lhe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var u=n.length,l=ec().domain(Yp(0,u)).range([o,o+a-s]),c=l.domain().map(function(h){return l(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(r),endX:l(i),scale:l,scaleValues:c}},vO=function(e){return e.changedTouches&&!!e.changedTouches.length},mu=function(t){she(e,t);function e(n){var r;return rhe(this,e),r=ohe(this,e,[n]),An(Er(r),"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),An(Er(r),"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),An(Er(r),"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),An(Er(r),"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),An(Er(r),"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),An(Er(r),"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),An(Er(r),"handleSlideDragStart",function(i){var o=vO(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(Er(r),"startX"),endX:r.handleTravellerDragStart.bind(Er(r),"endX")},r.state={},r}return ihe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,u=s.gap,l=s.data,c=l.length-1,h=Math.min(i,o),d=Math.max(i,o),p=e.getIndexInRange(a,h),_=e.getIndexInRange(a,d);return{startIndex:p-p%u,endIndex:_===c?c:_-_%u}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,u=Ur(o[r],s,r);return _e(a)?a(u,r):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,u=this.props,l=u.x,c=u.width,h=u.travellerWidth,d=u.startIndex,p=u.endIndex,_=u.onChange,g=r.pageX-o;g>0?g=Math.min(g,l+c-h-s,l+c-h-a):g<0&&(g=Math.max(g,l-a,l-s));var v=this.getIndex({startX:a+g,endX:s+g});(v.startIndex!==d||v.endIndex!==p)&&_&&_(v),this.setState({startX:a+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=vO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,u=i.startX,l=this.state[a],c=this.props,h=c.x,d=c.width,p=c.travellerWidth,_=c.onChange,g=c.gap,v=c.data,b={startX:this.state.startX,endX:this.state.endX},y=r.pageX-o;y>0?y=Math.min(y,h+d-p-l):y<0&&(y=Math.max(y,h-l)),b[a]=l+y;var w=this.getIndex(b),x=w.startIndex,T=w.endIndex,A=function(){var S=v.length-1;return a==="startX"&&(s>u?x%g===0:T%g===0)||s<u&&T===S||a==="endX"&&(s>u?T%g===0:x%g===0)||s>u&&T===S};this.setState(An(An({},a,l+y),"brushMoveStartX",r.pageX),function(){_&&A()&&_(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,u=a.startX,l=a.endX,c=this.state[i],h=s.indexOf(c);if(h!==-1){var d=h+r;if(!(d===-1||d>=s.length)){var p=s[d];i==="startX"&&p>=l||i==="endX"&&p<=u||this.setState(An({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,u=r.fill,l=r.stroke;return D("rect",{stroke:l,fill:u,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,u=r.data,l=r.children,c=r.padding,h=M.exports.Children.only(l);return h?Ne.cloneElement(h,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,u=this.props,l=u.y,c=u.travellerWidth,h=u.height,d=u.traveller,p=u.ariaLabel,_=u.data,g=u.startIndex,v=u.endIndex,b=Math.max(r,this.props.x),y=lv(lv({},Oe(this.props,!1)),{},{x:b,y:l,width:c,height:h}),w=p||"Min value: ".concat((o=_[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=_[v])===null||a===void 0?void 0:a.name);return D(Ct,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){!["ArrowLeft","ArrowRight"].includes(T.key)||(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"},children:e.renderTraveller(d,y)})}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,u=o.stroke,l=o.travellerWidth,c=Math.min(r,i)+l,h=Math.max(Math.abs(i-r)-l,0);return D("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:c,y:a,width:h,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,u=r.travellerWidth,l=r.stroke,c=this.state,h=c.startX,d=c.endX,p=5,_={pointerEvents:"none",fill:l};return Y(Ct,{className:"recharts-brush-texts",children:[D(Np,{textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,d)-p,y:a+s/2,..._,children:this.getTextOfTick(i)}),D(Np,{textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,d)+u+p,y:a+s/2,..._,children:this.getTextOfTick(o)})]})}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,u=r.y,l=r.width,c=r.height,h=r.alwaysShowText,d=this.state,p=d.startX,_=d.endX,g=d.isTextActive,v=d.isSlideMoving,b=d.isTravellerMoving,y=d.isTravellerFocused;if(!i||!i.length||!ee(s)||!ee(u)||!ee(l)||!ee(c)||l<=0||c<=0)return null;var w=Re("recharts-brush",o),x=Ne.Children.count(a)===1,T=nhe("userSelect","none");return Y(Ct,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T,children:[this.renderBackground(),x&&this.renderPanorama(),this.renderSlide(p,_),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(_,"endX"),(g||v||b||y||h)&&this.renderText()]})}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,u=r.stroke,l=Math.floor(o+s/2)-1;return Y(bm,{children:[D("rect",{x:i,y:o,width:a,height:s,fill:u,stroke:"none"}),D("line",{x1:i+1,y1:l,x2:i+a-1,y2:l,fill:"none",stroke:"#fff"}),D("line",{x1:i+1,y1:l+2,x2:i+a-1,y2:l+2,fill:"none",stroke:"#fff"})]})}},{key:"renderTraveller",value:function(r,i){var o;return Ne.isValidElement(r)?o=Ne.cloneElement(r,i):_e(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,u=r.travellerWidth,l=r.updateId,c=r.startIndex,h=r.endIndex;if(o!==i.prevData||l!==i.prevUpdateId)return lv({prevData:o,prevTravellerWidth:u,prevUpdateId:l,prevX:s,prevWidth:a},o&&o.length?lhe({data:o,width:a,x:s,travellerWidth:u,startIndex:c,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||u!==i.prevTravellerWidth)){i.scale.range([s,s+a-u]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:u,prevUpdateId:l,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var u=Math.floor((a+s)/2);r[u]>i?s=u:a=u}return i>=r[s]?s:a}}]),e}(M.exports.PureComponent);An(mu,"displayName","Brush");An(mu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var che=w1;function hhe(t,e){var n;return che(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var fhe=hhe,dhe=rM,phe=ko,mhe=fhe,ghe=En,yhe=gg;function vhe(t,e,n){var r=ghe(t)?dhe:mhe;return n&&yhe(t,e,n)&&(e=void 0),r(t,phe(e))}var _he=vhe,Lr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},_O=EM;function whe(t,e,n){e=="__proto__"&&_O?_O(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var bhe=whe,xhe=bhe,The=TM,She=ko;function Ehe(t,e){var n={};return e=She(e),The(t,function(r,i,o){xhe(n,i,e(r,i,o))}),n}var Ihe=Ehe;function Ahe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Phe=Ahe,Ohe=w1;function Che(t,e){var n=!0;return Ohe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var khe=Che,Rhe=Phe,Nhe=khe,Dhe=ko,Mhe=En,$he=gg;function Lhe(t,e,n){var r=Mhe(t)?Rhe:Nhe;return n&&$he(t,e,n)&&(e=void 0),r(t,Dhe(e))}var tL=Lhe,Vhe=["x","y"];function hh(t){return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function wO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function El(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(n),!0).forEach(function(r){jhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jhe(t,e,n){return e=Fhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fhe(t){var e=Bhe(t,"string");return hh(e)=="symbol"?e:String(e)}function Bhe(t,e){if(hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uhe(t,e){if(t==null)return{};var n=zhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function zhe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function qhe(t,e){var n=t.x,r=t.y,i=Uhe(t,Vhe),o="".concat(n),a=parseInt(o,10),s="".concat(r),u=parseInt(s,10),l="".concat(e.height||i.height),c=parseInt(l,10),h="".concat(e.width||i.width),d=parseInt(h,10);return El(El(El(El(El({},e),i),a?{x:a}:{}),u?{y:u}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function bO(t){return D(Rce,{shapeType:"rectangle",propTransformer:qhe,activeClassName:"recharts-active-bar",...t})}var Whe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=typeof r=="number";return o?e(r,i):(o||Da(!1),n)}},Ghe=["value","background"],nL;function gu(t){return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function Khe(t,e){if(t==null)return{};var n=Hhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function Hhe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function xO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(n),!0).forEach(function(r){Ji(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iL(r.key),r)}}function Xhe(t,e,n){return e&&TO(t.prototype,e),n&&TO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yhe(t,e,n){return e=Zp(e),Jhe(t,rL()?Reflect.construct(e,n||[],Zp(t).constructor):e.apply(t,n))}function Jhe(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $l(t)}function rL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rL=function(){return!!t})()}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zp(t)}function $l(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L_(t,e)}function L_(t,e){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},L_(t,e)}function Ji(t,e,n){return e=iL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iL(t){var e=efe(t,"string");return gu(e)=="symbol"?e:String(e)}function efe(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fi=function(t){Zhe(e,t);function e(){var n;Qhe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Yhe(this,e,[].concat(i)),Ji($l(n),"state",{isAnimationFinished:!1}),Ji($l(n),"id",lg("recharts-bar-")),Ji($l(n),"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Ji($l(n),"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Xhe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,u=o.activeIndex,l=o.activeBar,c=Oe(this.props,!1);return r&&r.map(function(h,d){var p=d===u,_=p?l:a,g=It(It(It({},c),h),{},{isActive:p,option:_,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.exports.createElement(Ct,{className:"recharts-bar-rectangle",...wp(i.props,h,d),key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value)},D(bO,{...g}))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,u=i.animationBegin,l=i.animationDuration,c=i.animationEasing,h=i.animationId,d=this.state.prevData;return D(bo,{begin:u,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart,children:function(p){var _=p.t,g=o.map(function(v,b){var y=d&&d[b];if(y){var w=rs(y.x,v.x),x=rs(y.y,v.y),T=rs(y.width,v.width),A=rs(y.height,v.height);return It(It({},v),{},{x:w(_),y:x(_),width:T(_),height:A(_)})}if(a==="horizontal"){var I=rs(0,v.height),S=I(_);return It(It({},v),{},{y:v.y+v.height-S,height:S})}var P=rs(0,v.width),O=P(_);return It(It({},v),{},{width:O})});return D(Ct,{children:r.renderRectanglesStatically(g)})}},"bar-".concat(h))}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!W1(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,u=Oe(this.props.background,!1);return o.map(function(l,c){l.value;var h=l.background,d=Khe(l,Ghe);if(!h)return null;var p=It(It(It(It(It({},d),{},{fill:"#eee"},h),u),wp(r.props,l,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,key:"background-bar-".concat(c),className:"recharts-bar-background-rectangle"});return D(bO,{option:r.props.background,isActive:c===s,...p})})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,u=o.yAxis,l=o.layout,c=o.children,h=_r(c,Ag);if(!h)return null;var d=l==="vertical"?a[0].height/2:a[0].width/2,p=function(v,b){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:Ur(v,b)}},_={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D(Ct,{..._,children:h.map(function(g){return Ne.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:a,xAxis:s,yAxis:u,layout:l,offset:d,dataPointFormatter:p})})})}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,u=r.yAxis,l=r.left,c=r.top,h=r.width,d=r.height,p=r.isAnimationActive,_=r.background,g=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,b=Re("recharts-bar",a),y=s&&s.allowDataOverflow,w=u&&u.allowDataOverflow,x=y||w,T=ke(g)?this.id:g;return Y(Ct,{className:b,children:[y||w?D("defs",{children:D("clipPath",{id:"clipPath-".concat(T),children:D("rect",{x:y?l:l-h/2,y:w?c:c-d/2,width:y?h:h*2,height:w?d:d*2})})}):null,Y(Ct,{className:"recharts-bar-rectangles",clipPath:x?"url(#clipPath-".concat(T,")"):null,children:[_?this.renderBackground():null,this.renderRectangles()]}),this.renderErrorBar(x,T),(!p||v)&&ma.renderCallByParent(this.props,o)]})}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}]),e}(M.exports.PureComponent);nL=fi;Ji(fi,"displayName","Bar");Ji(fi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!fo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ji(fi,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,u=t.yAxisTicks,l=t.stackedData,c=t.dataStartIndex,h=t.displayedData,d=t.offset,p=Yae(r,n);if(!p)return null;var _=e.layout,g=n.props,v=g.dataKey,b=g.children,y=g.minPointSize,w=_==="horizontal"?a:o,x=l?w.scale.domain():null,T=ose({numericAxis:w}),A=_r(b,RM),I=h.map(function(S,P){var O,R,N,C,F,K;l?O=Jae(l[c+P],x):(O=Ur(S,v),Array.isArray(O)||(O=[T,O]));var z=Whe(y,nL.defaultProps.minPointSize)(O[1],P);if(_==="horizontal"){var Q,V=[a.scale(O[0]),a.scale(O[1])],G=V[0],X=V[1];R=wP({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:S,index:P}),N=(Q=X!=null?X:G)!==null&&Q!==void 0?Q:void 0,C=p.size;var ae=G-X;if(F=Number.isNaN(ae)?0:ae,K={x:R,y:a.y,width:C,height:a.height},Math.abs(z)>0&&Math.abs(F)<Math.abs(z)){var te=pr(F||z)*(Math.abs(z)-Math.abs(F));N-=te,F+=te}}else{var le=[o.scale(O[0]),o.scale(O[1])],je=le[0],Je=le[1];if(R=je,N=wP({axis:a,ticks:u,bandSize:i,offset:p.offset,entry:S,index:P}),C=Je-je,F=p.size,K={x:o.x,y:N,width:o.width,height:F},Math.abs(z)>0&&Math.abs(C)<Math.abs(z)){var Mt=pr(C||z)*(Math.abs(z)-Math.abs(C));C+=Mt}}return It(It(It({},S),{},{x:R,y:N,width:C,height:F,value:l?O:O[1],payload:S,background:K},A&&A[P]&&A[P].props),{},{tooltipPayload:[M$(n,S)],tooltipPosition:{x:R+C/2,y:N+F/2}})});return It({data:I,layout:_},d)});function fh(t){return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function tfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oL(r.key),r)}}function nfe(t,e,n){return e&&SO(t.prototype,e),n&&SO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function EO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(n),!0).forEach(function(r){Cg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cg(t,e,n){return e=oL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oL(t){var e=rfe(t,"string");return fh(e)=="symbol"?e:String(e)}function rfe(t,e){if(fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ife=function(e,n,r,i,o){var a=e.width,s=e.height,u=e.layout,l=e.children,c=Object.keys(n),h={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!On(l,fi);return c.reduce(function(p,_){var g=n[_],v=g.orientation,b=g.domain,y=g.padding,w=y===void 0?{}:y,x=g.mirror,T=g.reversed,A="".concat(v).concat(x?"Mirror":""),I,S,P,O,R;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var N=b[1]-b[0],C=1/0,F=g.categoricalDomain.sort();if(F.forEach(function(je,Je){Je>0&&(C=Math.min((je||0)-(F[Je-1]||0),C))}),Number.isFinite(C)){var K=C/N,z=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(I=K*z/2),g.padding==="no-gap"){var Q=Ra(e.barCategoryGap,K*z),V=K*z/2;I=V-Q-(V-Q)/z*Q}}}i==="xAxis"?S=[r.left+(w.left||0)+(I||0),r.left+r.width-(w.right||0)-(I||0)]:i==="yAxis"?S=u==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(I||0),r.top+r.height-(w.bottom||0)-(I||0)]:S=g.range,T&&(S=[S[1],S[0]]);var G=Qae(g,o,d),X=G.scale,ae=G.realScaleType;X.domain(b).range(S),Xae(X);var te=ise(X,cr(cr({},g),{},{realScaleType:ae}));i==="xAxis"?(R=v==="top"&&!x||v==="bottom"&&x,P=r.left,O=h[A]-R*g.height):i==="yAxis"&&(R=v==="left"&&!x||v==="right"&&x,P=h[A]-R*g.width,O=r.top);var le=cr(cr(cr({},g),te),{},{realScaleType:ae,x:P,y:O,scale:X,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return le.bandSize=Wp(le,te),!g.hide&&i==="xAxis"?h[A]+=(R?-1:1)*le.height:g.hide||(h[A]+=(R?-1:1)*le.width),cr(cr({},p),{},Cg({},_,le))},{})},aL=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},ofe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return aL({x:n,y:r},{x:i,y:o})},sL=function(){function t(e){tfe(this,t),this.scale=e}return nfe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+u}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}]),t}();Cg(sL,"EPS",1e-4);var X1=function(e){var n=Object.keys(e).reduce(function(r,i){return cr(cr({},r),{},Cg({},i,sL.create(e[i])))},{});return cr(cr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Ihe(i,function(u,l){return n[l].apply(u,{bandAware:a,position:s})})},isInRange:function(i){return tL(i,function(o,a){return n[a].isInRange(o)})}})};function afe(t){return(t%180+180)%180}var sfe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=afe(i),a=o*Math.PI/180,s=Math.atan(r/n),u=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(u)},ufe=ko,lfe=Fh,cfe=pg;function hfe(t){return function(e,n,r){var i=Object(e);if(!lfe(e)){var o=ufe(n);e=cfe(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var ffe=hfe,dfe=Y$;function pfe(t){var e=dfe(t),n=e%1;return e===e?n?e-n:e:0}var mfe=pfe,gfe=gM,yfe=ko,vfe=mfe,_fe=Math.max;function wfe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:vfe(n);return i<0&&(i=_fe(r+i,0)),gfe(t,yfe(e),i)}var bfe=wfe,xfe=ffe,Tfe=bfe,Sfe=xfe(Tfe),Efe=Sfe,Ife=T2(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Y1=M.exports.createContext(void 0),J1=M.exports.createContext(void 0),uL=M.exports.createContext(void 0),lL=M.exports.createContext({}),cL=M.exports.createContext(void 0),hL=M.exports.createContext(0),fL=M.exports.createContext(0),IO=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,u=e.width,l=e.height,c=Ife(o);return D(Y1.Provider,{value:r,children:D(J1.Provider,{value:i,children:D(lL.Provider,{value:o,children:D(uL.Provider,{value:c,children:D(cL.Provider,{value:a,children:D(hL.Provider,{value:l,children:D(fL.Provider,{value:u,children:s})})})})})})})},Afe=function(){return M.exports.useContext(cL)},dL=function(e){var n=M.exports.useContext(Y1);n==null&&Da(!1);var r=n[e];return r==null&&Da(!1),r},Pfe=function(){var e=M.exports.useContext(Y1);return Ki(e)},Ofe=function(){var e=M.exports.useContext(J1),n=Efe(e,function(r){return tL(r.domain,Number.isFinite)});return n||Ki(e)},pL=function(e){var n=M.exports.useContext(J1);n==null&&Da(!1);var r=n[e];return r==null&&Da(!1),r},Cfe=function(){var e=M.exports.useContext(uL);return e},kfe=function(){return M.exports.useContext(lL)},Z1=function(){return M.exports.useContext(fL)},ex=function(){return M.exports.useContext(hL)};function dh(t){return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function AO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(n),!0).forEach(function(r){Rfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rfe(t,e,n){return e=Nfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nfe(t){var e=Dfe(t,"string");return dh(e)=="symbol"?e:String(e)}function Dfe(t,e){if(dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mfe(t,e){return jfe(t)||Vfe(t,e)||Lfe(t,e)||$fe()}function $fe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lfe(t,e){if(!!t){if(typeof t=="string")return OO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OO(t,e)}}function OO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function jfe(t){if(Array.isArray(t))return t}var Ffe=function(e,n){var r;return Ne.isValidElement(e)?r=Ne.cloneElement(e,n):_e(e)?r=e(n):r=D("line",{...n,className:"recharts-reference-line-line"}),r},Bfe=function(e,n,r,i,o,a,s,u,l){var c=o.x,h=o.y,d=o.width,p=o.height;if(r){var _=l.y,g=e.y.apply(_,{position:a});if(Lr(l,"discard")&&!e.y.isInRange(g))return null;var v=[{x:c+d,y:g},{x:c,y:g}];return u==="left"?v.reverse():v}if(n){var b=l.x,y=e.x.apply(b,{position:a});if(Lr(l,"discard")&&!e.x.isInRange(y))return null;var w=[{x:y,y:h+p},{x:y,y:h}];return s==="top"?w.reverse():w}if(i){var x=l.segment,T=x.map(function(A){return e.apply(A,{position:a})});return Lr(l,"discard")&&_he(T,function(A){return!e.isInRange(A)})?null:T}return null};function tx(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,u=t.alwaysShow,l=Afe(),c=dL(i),h=pL(o),d=Cfe();if(!l||!d)return null;ci(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=X1({x:c.scale,y:h.scale}),_=Tt(e),g=Tt(n),v=r&&r.length===2,b=Bfe(p,_,g,v,d,t.position,c.orientation,h.orientation,t);if(!b)return null;var y=Mfe(b,2),w=y[0],x=w.x,T=w.y,A=y[1],I=A.x,S=A.y,P=Lr(t,"hidden")?"url(#".concat(l,")"):void 0,O=PO(PO({clipPath:P},Oe(t,!0)),{},{x1:x,y1:T,x2:I,y2:S});return Y(Ct,{className:Re("recharts-reference-line",s),children:[Ffe(a,O),Zt.renderCallByParent(t,ofe({x1:x,y1:T,x2:I,y2:S}))]})}tx.displayName="ReferenceLine";tx.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function ph(t){return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function CO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(n),!0).forEach(function(r){Ufe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ufe(t,e,n){return e=zfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zfe(t){var e=qfe(t,"string");return ph(e)=="symbol"?e:String(e)}function qfe(t,e){if(ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wfe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=X1({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Lr(e,"discard")&&!a.isInRange(s)?null:s};function Wh(t){var e=t.x,n=t.y,r=t.r,i=t.alwaysShow,o=t.clipPathId,a=Tt(e),s=Tt(n);if(ci(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!a||!s)return null;var u=Wfe(t);if(!u)return null;var l=u.x,c=u.y,h=t.shape,d=t.className,p=Lr(t,"hidden")?"url(#".concat(o,")"):void 0,_=kO(kO({clipPath:p},Oe(t,!0)),{},{cx:l,cy:c});return Y(Ct,{className:Re("recharts-reference-dot",d),children:[Wh.renderDot(h,_),Zt.renderCallByParent(t,{x:l-r,y:c-r,width:2*r,height:2*r})]})}Wh.displayName="ReferenceDot";Wh.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};Wh.renderDot=function(t,e){var n;return Ne.isValidElement(t)?n=Ne.cloneElement(t,e):_e(t)?n=t(e):n=D(Q$,{...e,cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"}),n};function mh(t){return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(r){Gfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gfe(t,e,n){return e=Kfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kfe(t){var e=Hfe(t,"string");return mh(e)=="symbol"?e:String(e)}function Hfe(t,e){if(mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qfe=function(e,n,r,i,o){var a=o.x1,s=o.x2,u=o.y1,l=o.y2,c=o.xAxis,h=o.yAxis;if(!c||!h)return null;var d=X1({x:c.scale,y:h.scale}),p={x:e?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(u,{position:"start"}):d.y.rangeMin},_={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(l,{position:"end"}):d.y.rangeMax};return Lr(o,"discard")&&(!d.isInRange(p)||!d.isInRange(_))?null:aL(p,_)};function Gh(t){var e=t.x1,n=t.x2,r=t.y1,i=t.y2,o=t.className,a=t.alwaysShow,s=t.clipPathId;ci(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Tt(e),l=Tt(n),c=Tt(r),h=Tt(i),d=t.shape;if(!u&&!l&&!c&&!h&&!d)return null;var p=Qfe(u,l,c,h,t);if(!p&&!d)return null;var _=Lr(t,"hidden")?"url(#".concat(s,")"):void 0;return Y(Ct,{className:Re("recharts-reference-area",o),children:[Gh.renderRect(d,NO(NO({clipPath:_},Oe(t,!0)),p)),Zt.renderCallByParent(t,p)]})}Gh.displayName="ReferenceArea";Gh.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};Gh.renderRect=function(t,e){var n;return Ne.isValidElement(t)?n=Ne.cloneElement(t,e):_e(t)?n=t(e):n=D(Q1,{...e,className:"recharts-reference-area-rect"}),n};function mL(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)if(n===void 0||n(t[i])===!0)r.push(t[i]);else return;return r}function Xfe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return sfe(r,n)}function Yfe(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function em(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Jfe(t,e){return mL(t,e+1)}function Zfe(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,u=0,l=1,c=a,h=function(){var _=r==null?void 0:r[u];if(_===void 0)return{v:mL(r,l)};var g=u,v,b=function(){return v===void 0&&(v=n(_,g)),v},y=_.coordinate,w=u===0||em(t,y,b,c,s);w||(u=0,c=a,l+=1),w&&(c=y+t*(b()/2+i),u+=l)},d;l<=o.length;)if(d=h(),d)return d.v;return[]}function gh(t){return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(r){ede(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ede(t,e,n){return e=tde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tde(t){var e=nde(t,"string");return gh(e)=="symbol"?e:String(e)}function nde(t,e){if(gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rde(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,u=e.end,l=function(d){var p=o[d],_,g=function(){return _===void 0&&(_=n(p,d)),_};if(d===a-1){var v=t*(p.coordinate+t*g()/2-u);o[d]=p=Xt(Xt({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else o[d]=p=Xt(Xt({},p),{},{tickCoord:p.coordinate});var b=em(t,p.tickCoord,g,s,u);b&&(u=p.tickCoord-t*(g()/2+i),o[d]=Xt(Xt({},p),{},{isShow:!0}))},c=a-1;c>=0;c--)l(c);return o}function ide(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,u=e.start,l=e.end;if(o){var c=r[s-1],h=n(c,s-1),d=t*(c.coordinate+t*h/2-l);a[s-1]=c=Xt(Xt({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var p=em(t,c.tickCoord,function(){return h},u,l);p&&(l=c.tickCoord-t*(h/2+i),a[s-1]=Xt(Xt({},c),{},{isShow:!0}))}for(var _=o?s-1:s,g=function(y){var w=a[y],x,T=function(){return x===void 0&&(x=n(w,y)),x};if(y===0){var A=t*(w.coordinate-t*T()/2-u);a[y]=w=Xt(Xt({},w),{},{tickCoord:A<0?w.coordinate-A*t:w.coordinate})}else a[y]=w=Xt(Xt({},w),{},{tickCoord:w.coordinate});var I=em(t,w.tickCoord,T,u,l);I&&(u=w.tickCoord+t*(T()/2+i),a[y]=Xt(Xt({},w),{},{isShow:!0}))},v=0;v<_;v++)g(v);return a}function nx(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,u=t.interval,l=t.tickFormatter,c=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(ee(u)||fo.isSsr)return Jfe(i,typeof u=="number"&&ee(u)?u:0);var d=[],p=s==="top"||s==="bottom"?"width":"height",_=c&&p==="width"?Zl(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(w,x){var T=_e(l)?l(w.value,x):w.value;return p==="width"?Xfe(Zl(T,{fontSize:e,letterSpacing:n}),_,h):Zl(T,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?pr(i[1].coordinate-i[0].coordinate):1,b=Yfe(o,v,p);return u==="equidistantPreserveStart"?Zfe(v,b,g,i,a):(u==="preserveStart"||u==="preserveStartEnd"?d=ide(v,b,g,i,a,u==="preserveStartEnd"):d=rde(v,b,g,i,a),d.filter(function(y){return y.isShow}))}var ode=["viewBox"],ade=["viewBox"],sde=["ticks"];function yu(t){return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function MO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(n),!0).forEach(function(r){rx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cv(t,e){if(t==null)return{};var n=ude(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function ude(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function lde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yL(r.key),r)}}function cde(t,e,n){return e&&$O(t.prototype,e),n&&$O(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hde(t,e,n){return e=tm(e),fde(t,gL()?Reflect.construct(e,n||[],tm(t).constructor):e.apply(t,n))}function fde(t,e){if(e&&(yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dde(t)}function dde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gL=function(){return!!t})()}function tm(t){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tm(t)}function pde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V_(t,e)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V_(t,e)}function rx(t,e,n){return e=yL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yL(t){var e=mde(t,"string");return yu(e)=="symbol"?e:String(e)}function mde(t,e){if(yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uu=function(t){pde(e,t);function e(n){var r;return lde(this,e),r=hde(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return cde(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=cv(r,ode),s=this.props,u=s.viewBox,l=cv(s,ade);return!Ms(o,u)||!Ms(a,l)||!Ms(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(!!r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,u=i.height,l=i.orientation,c=i.tickSize,h=i.mirror,d=i.tickMargin,p,_,g,v,b,y,w=h?-1:1,x=r.tickSize||c,T=ee(r.tickCoord)?r.tickCoord:r.coordinate;switch(l){case"top":p=_=r.coordinate,v=a+ +!h*u,g=v-w*x,y=g-w*d,b=T;break;case"left":g=v=r.coordinate,_=o+ +!h*s,p=_-w*x,b=p-w*d,y=T;break;case"right":g=v=r.coordinate,_=o+ +h*s,p=_+w*x,b=p+w*d,y=T;break;default:p=_=r.coordinate,v=a+ +h*u,g=v+w*x,y=g+w*d,b=T;break}return{line:{x1:p,y1:g,x2:_,y2:v},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,u=r.orientation,l=r.mirror,c=r.axisLine,h=an(an(an({},Oe(this.props,!1)),Oe(c,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var d=+(u==="top"&&!l||u==="bottom"&&l);h=an(an({},h),{},{x1:i,y1:o+d*s,x2:i+a,y2:o+d*s})}else{var p=+(u==="left"&&!l||u==="right"&&l);h=an(an({},h),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return D("line",{...h,className:Re("recharts-cartesian-axis-line",Mn(c,"className"))})}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,u=s.tickLine,l=s.stroke,c=s.tick,h=s.tickFormatter,d=s.unit,p=nx(an(an({},this.props),{},{ticks:r}),i,o),_=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Oe(this.props,!1),b=Oe(c,!1),y=an(an({},v),{},{fill:"none"},Oe(u,!1)),w=p.map(function(x,T){var A=a.getTickLineCoord(x),I=A.line,S=A.tick,P=an(an(an(an({textAnchor:_,verticalAnchor:g},v),{},{stroke:"none",fill:l},b),S),{},{index:T,payload:x,visibleTicksCount:p.length,tickFormatter:h});return Y(Ct,{className:"recharts-cartesian-axis-tick",...wp(a.props,x,T),children:[u&&D("line",{...y,...I,className:Re("recharts-cartesian-axis-tick-line",Mn(u,"className"))}),c&&e.renderTickItem(c,P,"".concat(_e(h)?h(x.value,T):x.value).concat(d||""))]},"tick-".concat(x.value,"-").concat(x.coordinate,"-").concat(x.tickCoord))});return D("g",{className:"recharts-cartesian-axis-ticks",children:w})}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,u=i.ticksGenerator,l=i.className,c=i.hide;if(c)return null;var h=this.props,d=h.ticks,p=cv(h,sde),_=d;return _e(u)&&(_=d&&d.length>0?u(this.props):u(p)),a<=0||s<=0||!_||!_.length?null:Y(Ct,{className:Re("recharts-cartesian-axis",l),ref:function(v){r.layerReference=v},children:[o&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),Zt.renderCallByParent(this.props)]})}}],[{key:"renderTickItem",value:function(r,i,o){var a;return Ne.isValidElement(r)?a=Ne.cloneElement(r,i):_e(r)?a=r(i):a=D(Np,{...i,className:"recharts-cartesian-axis-tick-value",children:o}),a}}]),e}(M.exports.Component);rx(Uu,"displayName","CartesianAxis");rx(Uu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var gde=["x1","y1","x2","y2","key"],yde=["offset"];function Ma(t){return Ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ma(t)}function LO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(n),!0).forEach(function(r){vde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vde(t,e,n){return e=_de(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _de(t){var e=wde(t,"string");return Ma(e)=="symbol"?e:String(e)}function wde(t,e){if(Ma(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ma(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VO(t,e){if(t==null)return{};var n=bde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function bde(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var xde=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height;return D("rect",{x:i,y:o,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function vL(t,e){var n;if(Ne.isValidElement(t))n=Ne.cloneElement(t,e);else if(_e(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,u=VO(e,gde),l=Oe(u,!1);l.offset;var c=VO(l,yde);n=M.exports.createElement("line",{...c,x1:r,y1:i,x2:o,y2:a,fill:"none",key:s})}return n}function Tde(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,u){var l=en(en({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(u),index:u});return vL(i,l)});return D("g",{className:"recharts-cartesian-grid-horizontal",children:a})}function Sde(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,u){var l=en(en({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(u),index:u});return vL(i,l)});return D("g",{className:"recharts-cartesian-grid-vertical",children:a})}function Ede(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,u=t.horizontal,l=u===void 0?!0:u;if(!l||!e||!e.length)return null;var c=s.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==c[0]&&c.unshift(0);var h=c.map(function(d,p){var _=!c[p+1],g=_?i+a-d:c[p+1]-d;if(g<=0)return null;var v=p%e.length;return D("rect",{y:d,x:r,height:g,width:o,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"},"react-".concat(p))});return D("g",{className:"recharts-cartesian-gridstripes-horizontal",children:h})}function Ide(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,u=t.height,l=t.verticalPoints;if(!n||!r||!r.length)return null;var c=l.map(function(d){return Math.round(d+o-o)}).sort(function(d,p){return d-p});o!==c[0]&&c.unshift(0);var h=c.map(function(d,p){var _=!c[p+1],g=_?o+s-d:c[p+1]-d;if(g<=0)return null;var v=p%r.length;return D("rect",{x:d,y:a,width:g,height:u,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"},"react-".concat(p))});return D("g",{className:"recharts-cartesian-gridstripes-vertical",children:h})}var Ade=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return N$(nx(en(en(en({},Uu.defaultProps),r),{},{ticks:ai(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},Pde=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return N$(nx(en(en(en({},Uu.defaultProps),r),{},{ticks:ai(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},as={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function _L(t){var e,n,r,i,o,a,s=Z1(),u=ex(),l=kfe(),c=en(en({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:as.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:as.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:as.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:as.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:as.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:as.verticalFill,x:ee(t.x)?t.x:l.left,y:ee(t.y)?t.y:l.top,width:ee(t.width)?t.width:l.width,height:ee(t.height)?t.height:l.height}),h=c.x,d=c.y,p=c.width,_=c.height,g=c.syncWithTicks,v=c.horizontalValues,b=c.verticalValues,y=Pfe(),w=Ofe();if(!ee(p)||p<=0||!ee(_)||_<=0||!ee(h)||h!==+h||!ee(d)||d!==+d)return null;var x=c.verticalCoordinatesGenerator||Ade,T=c.horizontalCoordinatesGenerator||Pde,A=c.horizontalPoints,I=c.verticalPoints;if((!A||!A.length)&&_e(T)){var S=v&&v.length,P=T({yAxis:w?en(en({},w),{},{ticks:S?v:w.ticks}):void 0,width:s,height:u,offset:l},S?!0:g);ci(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ma(P),"]")),Array.isArray(P)&&(A=P)}if((!I||!I.length)&&_e(x)){var O=b&&b.length,R=x({xAxis:y?en(en({},y),{},{ticks:O?b:y.ticks}):void 0,width:s,height:u,offset:l},O?!0:g);ci(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ma(R),"]")),Array.isArray(R)&&(I=R)}return Y("g",{className:"recharts-cartesian-grid",children:[D(xde,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height}),D(Tde,{...c,offset:l,horizontalPoints:A,xAxis:y,yAxis:w}),D(Sde,{...c,offset:l,verticalPoints:I,xAxis:y,yAxis:w}),D(Ede,{...c,horizontalPoints:A}),D(Ide,{...c,verticalPoints:I})]})}_L.displayName="CartesianGrid";var kg=function(e){var n=e.xAxisId,r=Z1(),i=ex(),o=dL(n);return o==null?null:D(Uu,{...o,className:Re("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return ai(s,!0)}})};kg.displayName="XAxis";kg.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var Rg=function(e){var n=e.yAxisId,r=Z1(),i=ex(),o=pL(n);return o==null?null:D(Uu,{...o,className:Re("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return ai(s,!0)}})};Rg.displayName="YAxis";Rg.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function jO(t){return Rde(t)||kde(t)||Cde(t)||Ode()}function Ode(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cde(t,e){if(!!t){if(typeof t=="string")return j_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j_(t,e)}}function kde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rde(t){if(Array.isArray(t))return j_(t)}function j_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var F_=function(e,n,r,i,o){var a=_r(e,tx),s=_r(e,Wh),u=[].concat(jO(a),jO(s)),l=_r(e,Gh),c="".concat(i,"Id"),h=i[0],d=n;if(u.length&&(d=u.reduce(function(g,v){if(v.props[c]===r&&Lr(v.props,"extendDomain")&&ee(v.props[h])){var b=v.props[h];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},d)),l.length){var p="".concat(h,"1"),_="".concat(h,"2");d=l.reduce(function(g,v){if(v.props[c]===r&&Lr(v.props,"extendDomain")&&ee(v.props[p])&&ee(v.props[_])){var b=v.props[p],y=v.props[_];return[Math.min(g[0],b,y),Math.max(g[1],b,y)]}return g},d)}return o&&o.length&&(d=o.reduce(function(g,v){return ee(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},d)),d},wL={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,l,c){this.fn=u,this.context=l,this.once=c||!1}function o(u,l,c,h,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,h||u,d),_=n?n+l:l;return u._events[_]?u._events[_].fn?u._events[_]=[u._events[_],p]:u._events[_].push(p):(u._events[_]=p,u._eventsCount++),u}function a(u,l){--u._eventsCount===0?u._events=new r:delete u._events[l]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],c,h;if(this._eventsCount===0)return l;for(h in c=this._events)e.call(c,h)&&l.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},s.prototype.listeners=function(l){var c=n?n+l:l,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,p=h.length,_=new Array(p);d<p;d++)_[d]=h[d].fn;return _},s.prototype.listenerCount=function(l){var c=n?n+l:l,h=this._events[c];return h?h.fn?1:h.length:0},s.prototype.emit=function(l,c,h,d,p,_){var g=n?n+l:l;if(!this._events[g])return!1;var v=this._events[g],b=arguments.length,y,w;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,h),!0;case 4:return v.fn.call(v.context,c,h,d),!0;case 5:return v.fn.call(v.context,c,h,d,p),!0;case 6:return v.fn.call(v.context,c,h,d,p,_),!0}for(w=1,y=new Array(b-1);w<b;w++)y[w-1]=arguments[w];v.fn.apply(v.context,y)}else{var x=v.length,T;for(w=0;w<x;w++)switch(v[w].once&&this.removeListener(l,v[w].fn,void 0,!0),b){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,c);break;case 3:v[w].fn.call(v[w].context,c,h);break;case 4:v[w].fn.call(v[w].context,c,h,d);break;default:if(!y)for(T=1,y=new Array(b-1);T<b;T++)y[T-1]=arguments[T];v[w].fn.apply(v[w].context,y)}}return!0},s.prototype.on=function(l,c,h){return o(this,l,c,h,!1)},s.prototype.once=function(l,c,h){return o(this,l,c,h,!0)},s.prototype.removeListener=function(l,c,h,d){var p=n?n+l:l;if(!this._events[p])return this;if(!c)return a(this,p),this;var _=this._events[p];if(_.fn)_.fn===c&&(!d||_.once)&&(!h||_.context===h)&&a(this,p);else{for(var g=0,v=[],b=_.length;g<b;g++)(_[g].fn!==c||d&&!_[g].once||h&&_[g].context!==h)&&v.push(_[g]);v.length?this._events[p]=v.length===1?v[0]:v:a(this,p)}return this},s.prototype.removeAllListeners=function(l){var c;return l?(c=n?n+l:l,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(wL);const Nde=wL.exports;var hv=new Nde,fv="recharts.syncMouseEvents";function yh(t){return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function Dde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bL(r.key),r)}}function Mde(t,e,n){return e&&FO(t.prototype,e),n&&FO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dv(t,e,n){return e=bL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bL(t){var e=$de(t,"string");return yh(e)=="symbol"?e:String(e)}function $de(t,e){if(yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lde=function(){function t(){Dde(this,t),dv(this,"activeIndex",0),dv(this,"coordinateList",[]),dv(this,"layout","horizontal")}return Mde(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,u=n.layout,l=u===void 0?null:u,c=n.offset,h=c===void 0?null:c,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=o!=null?o:this.coordinateList)!==null&&r!==void 0?r:[],this.container=s!=null?s:this.container,this.layout=l!=null?l:this.layout,this.offset=h!=null?h:this.offset,this.mouseHandlerCallback=p!=null?p:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,u=this.coordinateList[this.activeIndex].coordinate,l=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=o+u+l,d=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:h,pageY:d})}}}]),t}();function Vde(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(!!r&&!!i&&ee(r)&&ee(i))return!0}return!1}function jde(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function xL(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Ft(e,n,r,i),s=Ft(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Fde(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,u=e.cy,l=e.innerRadius,c=e.outerRadius,h=e.angle,d=Ft(s,u,l,h),p=Ft(s,u,c,h);r=d.x,i=d.y,o=p.x,a=p.y}else return xL(e);return[{x:r,y:i},{x:o,y:a}]}function vh(t){return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function BO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(n),!0).forEach(function(r){Bde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bde(t,e,n){return e=Ude(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ude(t){var e=zde(t,"string");return vh(e)=="symbol"?e:String(e)}function zde(t,e){if(vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qde(t){var e=t.element,n=t.tooltipEventType,r=t.isActive,i=t.activeCoordinate,o=t.activePayload,a=t.offset,s=t.activeTooltipIndex,u=t.tooltipAxisBandSize,l=t.layout,c=t.chartName;if(!e||!e.props.cursor||!r||!i||c!=="ScatterChart"&&n!=="axis")return null;var h,d=$P;if(c==="ScatterChart")h=i,d=Hle;else if(c==="BarChart")h=jde(l,i,a,u),d=Q1;else if(l==="radial"){var p=xL(i),_=p.cx,g=p.cy,v=p.radius,b=p.startAngle,y=p.endAngle;h={cx:_,cy:g,startAngle:b,endAngle:y,innerRadius:v,outerRadius:v},d=V$}else h={points:Fde(l,i,a)},d=$P;var w=Hf(Hf(Hf(Hf({stroke:"#ccc",pointerEvents:"none"},a),h),Oe(e.props.cursor,!1)),{},{payload:o,payloadIndex:s,className:Re("recharts-tooltip-cursor",e.props.cursor.className)});return M.exports.isValidElement(e.props.cursor)?M.exports.cloneElement(e.props.cursor,w):M.exports.createElement(d,w)}var Wde=["item"],Gde=["children","className","width","height","style","compact","title","desc"];function vu(t){return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function UO(t,e){return Qde(t)||Hde(t,e)||SL(t,e)||Kde()}function Kde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function Qde(t){if(Array.isArray(t))return t}function zO(t,e){if(t==null)return{};var n=Xde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function Xde(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Yde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EL(r.key),r)}}function Jde(t,e,n){return e&&qO(t.prototype,e),n&&qO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zde(t,e,n){return e=nm(e),epe(t,TL()?Reflect.construct(e,n||[],nm(t).constructor):e.apply(t,n))}function epe(t,e){if(e&&(vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ee(t)}function TL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TL=function(){return!!t})()}function nm(t){return nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nm(t)}function Ee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B_(t,e)}function B_(t,e){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B_(t,e)}function _u(t){return ipe(t)||rpe(t)||SL(t)||npe()}function npe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SL(t,e){if(!!t){if(typeof t=="string")return U_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U_(t,e)}}function rpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ipe(t){if(Array.isArray(t))return U_(t)}function U_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){de(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function de(t,e,n){return e=EL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EL(t){var e=ope(t,"string");return vu(e)=="symbol"?e:String(e)}function ope(t,e){if(vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ape={xAxis:["bottom","top"],yAxis:["left","right"]},spe={width:"100%",height:"100%"},IL={x:0,y:0};function Qf(t){return t}var upe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},lpe=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return U(U(U({},i),Ft(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var u=o.coordinate,l=i.angle;return U(U(U({},i),Ft(i.cx,i.cy,u,l)),{},{angle:l,radius:u})}return IL},Ng=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r!=null?r:[]).reduce(function(s,u){var l=u.props.data;return l&&l.length?[].concat(_u(s),_u(l)):s},[]);return a.length>0?a:e&&e.length&&ee(i)&&ee(o)?e.slice(i,o+1):[]};function AL(t){return t==="number"?[0,"auto"]:void 0}var z_=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Ng(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(u,l){var c,h=(c=l.props.data)!==null&&c!==void 0?c:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(a.dataKey&&!a.allowDuplicatedCategory){var p=h===void 0?s:h;d=U0(p,a.dataKey,i)}else d=h&&h[r]||s[r];return d?[].concat(_u(u),[M$(l,d)]):u},[])},GO=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=upe(o,r),s=e.orderedTooltipTicks,u=e.tooltipAxis,l=e.tooltipTicks,c=zae(a,s,l,u);if(c>=0&&l){var h=l[c]&&l[c].value,d=z_(e,n,c,h),p=lpe(r,s,c,o);return{activeTooltipIndex:c,activeLabel:h,activePayload:d,activeCoordinate:p}}return null},cpe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,u=n.dataStartIndex,l=n.dataEndIndex,c=e.layout,h=e.children,d=e.stackOffset,p=R$(c,o);return r.reduce(function(_,g){var v,b=g.props,y=b.type,w=b.dataKey,x=b.allowDataOverflow,T=b.allowDuplicatedCategory,A=b.scale,I=b.ticks,S=b.includeHidden,P=g.props[a];if(_[P])return _;var O=Ng(e.data,{graphicalItems:i.filter(function(te){return te.props[a]===P}),dataStartIndex:u,dataEndIndex:l}),R=O.length,N,C,F;Vde(g.props.domain,x,y)&&(N=S_(g.props.domain,null,x),p&&(y==="number"||A!=="auto")&&(F=tc(O,w,"category")));var K=AL(y);if(!N||N.length===0){var z,Q=(z=g.props.domain)!==null&&z!==void 0?z:K;if(w){if(N=tc(O,w,y),y==="category"&&p){var V=YG(N);T&&V?(C=N,N=Yp(0,R)):T||(N=TP(Q,N,g).reduce(function(te,le){return te.indexOf(le)>=0?te:[].concat(_u(te),[le])},[]))}else if(y==="category")T?N=N.filter(function(te){return te!==""&&!ke(te)}):N=TP(Q,N,g).reduce(function(te,le){return te.indexOf(le)>=0||le===""||ke(le)?te:[].concat(_u(te),[le])},[]);else if(y==="number"){var G=Hae(O,i.filter(function(te){return te.props[a]===P&&(S||!te.props.hide)}),w,o,c);G&&(N=G)}p&&(y==="number"||A!=="auto")&&(F=tc(O,w,"category"))}else p?N=Yp(0,R):s&&s[P]&&s[P].hasStack&&y==="number"?N=d==="expand"?[0,1]:D$(s[P].stackGroups,u,l):N=k$(O,i.filter(function(te){return te.props[a]===P&&(S||!te.props.hide)}),y,c,!0);if(y==="number")N=F_(h,N,P,o,I),Q&&(N=S_(Q,N,x));else if(y==="category"&&Q){var X=Q,ae=N.every(function(te){return X.indexOf(te)>=0});ae&&(N=X)}}return U(U({},_),{},de({},P,U(U({},g.props),{},{axisType:o,domain:N,categoricalDomain:F,duplicateDomain:C,originalDomain:(v=g.props.domain)!==null&&v!==void 0?v:K,isCategorical:p,layout:c})))},{})},hpe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,u=n.dataStartIndex,l=n.dataEndIndex,c=e.layout,h=e.children,d=Ng(e.data,{graphicalItems:r,dataStartIndex:u,dataEndIndex:l}),p=d.length,_=R$(c,o),g=-1;return r.reduce(function(v,b){var y=b.props[a],w=AL("number");if(!v[y]){g++;var x;return _?x=Yp(0,p):s&&s[y]&&s[y].hasStack?(x=D$(s[y].stackGroups,u,l),x=F_(h,x,y,o)):(x=S_(w,k$(d,r.filter(function(T){return T.props[a]===y&&!T.props.hide}),"number",c),i.defaultProps.allowDataOverflow),x=F_(h,x,y,o)),U(U({},v),{},de({},y,U(U({axisType:o},i.defaultProps),{},{hide:!0,orientation:Mn(ape,"".concat(o,".").concat(g%2),null),domain:x,originalDomain:w,isCategorical:_,layout:c})))}return v},{})},fpe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,u=n.dataStartIndex,l=n.dataEndIndex,c=e.children,h="".concat(i,"Id"),d=_r(c,o),p={};return d&&d.length?p=cpe(e,{axes:d,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:s,dataStartIndex:u,dataEndIndex:l}):a&&a.length&&(p=hpe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:s,dataStartIndex:u,dataEndIndex:l})),p},dpe=function(e){var n=Ki(e),r=ai(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:b1(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Wp(n,r)}},KO=function(e){var n=e.children,r=e.defaultShowTooltip,i=On(n,mu),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:Boolean(r)}},ppe=function(e){return!e||!e.length?!1:e.some(function(n){var r=li(n&&n.type);return r&&r.indexOf("Bar")>=0})},HO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},mpe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,u=s===void 0?{}:s,l=r.width,c=r.height,h=r.children,d=r.margin||{},p=On(h,mu),_=On(h,su),g=Object.keys(u).reduce(function(T,A){var I=u[A],S=I.orientation;return!I.mirror&&!I.hide?U(U({},T),{},de({},S,T[S]+I.width)):T},{left:d.left||0,right:d.right||0}),v=Object.keys(a).reduce(function(T,A){var I=a[A],S=I.orientation;return!I.mirror&&!I.hide?U(U({},T),{},de({},S,Mn(T,"".concat(S))+I.height)):T},{top:d.top||0,bottom:d.bottom||0}),b=U(U({},v),g),y=b.bottom;p&&(b.bottom+=p.props.height||mu.defaultProps.height),_&&n&&(b=Gae(b,i,r,n));var w=l-b.left-b.right,x=c-b.top-b.bottom;return U(U({brushBottom:y},b),{},{width:Math.max(w,0),height:Math.max(x,0)})},gpe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},ype=function(e){var n,r=e.chartName,i=e.GraphicalChild,o=e.defaultTooltipEventType,a=o===void 0?"axis":o,s=e.validateTooltipEventTypes,u=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,h=e.formatAxisMap,d=e.defaultProps,p=function(v,b){var y=b.graphicalItems,w=b.stackGroups,x=b.offset,T=b.updateId,A=b.dataStartIndex,I=b.dataEndIndex,S=v.barSize,P=v.layout,O=v.barGap,R=v.barCategoryGap,N=v.maxBarSize,C=HO(P),F=C.numericAxisName,K=C.cateAxisName,z=ppe(y),Q=[];return y.forEach(function(V,G){var X=Ng(v.data,{graphicalItems:[V],dataStartIndex:A,dataEndIndex:I}),ae=V.props,te=ae.dataKey,le=ae.maxBarSize,je=V.props["".concat(F,"Id")],Je=V.props["".concat(K,"Id")],Mt={},We=l.reduce(function(Tr,ir){var Ga=b["".concat(ir.axisType,"Map")],Kh=V.props["".concat(ir.axisType,"Id")];Ga&&Ga[Kh]||ir.axisType==="zAxis"||Da(!1);var Ka=Ga[Kh];return U(U({},Tr),{},de(de({},ir.axisType,Ka),"".concat(ir.axisType,"Ticks"),ai(Ka)))},Mt),nr=We[K],re=We["".concat(K,"Ticks")],fe=w&&w[je]&&w[je].hasStack&&ase(V,w[je].stackGroups),me=li(V.type).indexOf("Bar")>=0,q=Wp(nr,re),Ge=[],we=z&&qae({barSize:S,stackGroups:w,totalSize:gpe(We,K)});if(me){var tt,nt,zt=ke(le)?N:le,rr=(tt=(nt=Wp(nr,re,!0))!==null&&nt!==void 0?nt:zt)!==null&&tt!==void 0?tt:0;Ge=Wae({barGap:O,barCategoryGap:R,bandSize:rr!==q?rr:q,sizeList:we[Je],maxBarSize:zt}),rr!==q&&(Ge=Ge.map(function(Tr){return U(U({},Tr),{},{position:U(U({},Tr.position),{},{offset:Tr.position.offset-rr/2})})}))}var Mo=V&&V.type&&V.type.getComposedData;Mo&&Q.push({props:U(U({},Mo(U(U({},We),{},{displayedData:X,props:v,dataKey:te,item:V,bandSize:q,barPosition:Ge,offset:x,stackedData:fe,layout:P,dataStartIndex:A,dataEndIndex:I}))),{},de(de(de({key:V.key||"item-".concat(G)},F,We[F]),K,We[K]),"animationId",T)),childIndex:uK(V,v.children),item:V})}),Q},_=function(v,b){var y=v.props,w=v.dataStartIndex,x=v.dataEndIndex,T=v.updateId;if(!pI({props:y}))return null;var A=y.children,I=y.layout,S=y.stackOffset,P=y.data,O=y.reverseStackOrder,R=HO(I),N=R.numericAxisName,C=R.cateAxisName,F=_r(A,i),K=rse(P,F,"".concat(N,"Id"),"".concat(C,"Id"),S,O),z=l.reduce(function(ae,te){var le="".concat(te.axisType,"Map");return U(U({},ae),{},de({},le,fpe(y,U(U({},te),{},{graphicalItems:F,stackGroups:te.axisType===N&&K,dataStartIndex:w,dataEndIndex:x}))))},{}),Q=mpe(U(U({},z),{},{props:y,graphicalItems:F}),b==null?void 0:b.legendBBox);Object.keys(z).forEach(function(ae){z[ae]=h(y,z[ae],Q,ae.replace("Map",""),r)});var V=z["".concat(C,"Map")],G=dpe(V),X=p(y,U(U({},z),{},{dataStartIndex:w,dataEndIndex:x,updateId:T,graphicalItems:F,stackGroups:K,offset:Q}));return U(U({formattedGraphicalItems:X,graphicalItems:F,offset:Q,stackGroups:K},G),z)};return n=function(g){tpe(v,g);function v(b){var y,w,x;return Yde(this,v),x=Zde(this,v,[b]),de(Ee(x),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),de(Ee(x),"accessibilityManager",new Lde),de(Ee(x),"handleLegendBBoxUpdate",function(T){if(T){var A=x.state,I=A.dataStartIndex,S=A.dataEndIndex,P=A.updateId;x.setState(U({legendBBox:T},_({props:x.props,dataStartIndex:I,dataEndIndex:S,updateId:P},U(U({},x.state),{},{legendBBox:T}))))}}),de(Ee(x),"handleReceiveSyncEvent",function(T,A,I){if(x.props.syncId===T){if(I===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(A)}}),de(Ee(x),"handleBrushChange",function(T){var A=T.startIndex,I=T.endIndex;if(A!==x.state.dataStartIndex||I!==x.state.dataEndIndex){var S=x.state.updateId;x.setState(function(){return U({dataStartIndex:A,dataEndIndex:I},_({props:x.props,dataStartIndex:A,dataEndIndex:I,updateId:S},x.state))}),x.triggerSyncEvent({dataStartIndex:A,dataEndIndex:I})}}),de(Ee(x),"handleMouseEnter",function(T){var A=x.getMouseInfo(T);if(A){var I=U(U({},A),{},{isTooltipActive:!0});x.setState(I),x.triggerSyncEvent(I);var S=x.props.onMouseEnter;_e(S)&&S(I,T)}}),de(Ee(x),"triggeredAfterMouseMove",function(T){var A=x.getMouseInfo(T),I=A?U(U({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(I),x.triggerSyncEvent(I);var S=x.props.onMouseMove;_e(S)&&S(I,T)}),de(Ee(x),"handleItemMouseEnter",function(T){x.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),de(Ee(x),"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),de(Ee(x),"handleMouseMove",function(T){T.persist(),x.throttleTriggeredAfterMouseMove(T)}),de(Ee(x),"handleMouseLeave",function(T){x.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};x.setState(A),x.triggerSyncEvent(A);var I=x.props.onMouseLeave;_e(I)&&I(A,T)}),de(Ee(x),"handleOuterEvent",function(T){var A=sK(T),I=Mn(x.props,"".concat(A));if(A&&_e(I)){var S,P;/.*touch.*/i.test(A)?P=x.getMouseInfo(T.changedTouches[0]):P=x.getMouseInfo(T),I((S=P)!==null&&S!==void 0?S:{},T)}}),de(Ee(x),"handleClick",function(T){var A=x.getMouseInfo(T);if(A){var I=U(U({},A),{},{isTooltipActive:!0});x.setState(I),x.triggerSyncEvent(I);var S=x.props.onClick;_e(S)&&S(I,T)}}),de(Ee(x),"handleMouseDown",function(T){var A=x.props.onMouseDown;if(_e(A)){var I=x.getMouseInfo(T);A(I,T)}}),de(Ee(x),"handleMouseUp",function(T){var A=x.props.onMouseUp;if(_e(A)){var I=x.getMouseInfo(T);A(I,T)}}),de(Ee(x),"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),de(Ee(x),"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&x.handleMouseDown(T.changedTouches[0])}),de(Ee(x),"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&x.handleMouseUp(T.changedTouches[0])}),de(Ee(x),"triggerSyncEvent",function(T){x.props.syncId!==void 0&&hv.emit(fv,x.props.syncId,T,x.eventEmitterSymbol)}),de(Ee(x),"applySyncEvent",function(T){var A=x.props,I=A.layout,S=A.syncMethod,P=x.state.updateId,O=T.dataStartIndex,R=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)x.setState(U({dataStartIndex:O,dataEndIndex:R},_({props:x.props,dataStartIndex:O,dataEndIndex:R,updateId:P},x.state)));else if(T.activeTooltipIndex!==void 0){var N=T.chartX,C=T.chartY,F=T.activeTooltipIndex,K=x.state,z=K.offset,Q=K.tooltipTicks;if(!z)return;if(typeof S=="function")F=S(Q,T);else if(S==="value"){F=-1;for(var V=0;V<Q.length;V++)if(Q[V].value===T.activeLabel){F=V;break}}var G=U(U({},z),{},{x:z.left,y:z.top}),X=Math.min(N,G.x+G.width),ae=Math.min(C,G.y+G.height),te=Q[F]&&Q[F].value,le=z_(x.state,x.props.data,F),je=Q[F]?{x:I==="horizontal"?Q[F].coordinate:X,y:I==="horizontal"?ae:Q[F].coordinate}:IL;x.setState(U(U({},T),{},{activeLabel:te,activeCoordinate:je,activePayload:le,activeTooltipIndex:F}))}else x.setState(T)}),de(Ee(x),"renderCursor",function(T){var A,I=x.state,S=I.isTooltipActive,P=I.activeCoordinate,O=I.activePayload,R=I.offset,N=I.activeTooltipIndex,C=I.tooltipAxisBandSize,F=x.getTooltipEventType(),K=(A=T.props.active)!==null&&A!==void 0?A:S,z=x.props.layout,Q=T.key||"_recharts-cursor";return D(qde,{activeCoordinate:P,activePayload:O,activeTooltipIndex:N,chartName:r,element:T,isActive:K,layout:z,offset:R,tooltipAxisBandSize:C,tooltipEventType:F},Q)}),de(Ee(x),"renderPolarAxis",function(T,A,I){var S=Mn(T,"type.axisType"),P=Mn(x.state,"".concat(S,"Map")),O=P&&P[T.props["".concat(S,"Id")]];return M.exports.cloneElement(T,U(U({},O),{},{className:Re(S,O.className),key:T.key||"".concat(A,"-").concat(I),ticks:ai(O,!0)}))}),de(Ee(x),"renderPolarGrid",function(T){var A=T.props,I=A.radialLines,S=A.polarAngles,P=A.polarRadius,O=x.state,R=O.radiusAxisMap,N=O.angleAxisMap,C=Ki(R),F=Ki(N),K=F.cx,z=F.cy,Q=F.innerRadius,V=F.outerRadius;return M.exports.cloneElement(T,{polarAngles:Array.isArray(S)?S:ai(F,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(P)?P:ai(C,!0).map(function(G){return G.coordinate}),cx:K,cy:z,innerRadius:Q,outerRadius:V,key:T.key||"polar-grid",radialLines:I})}),de(Ee(x),"renderLegend",function(){var T=x.state.formattedGraphicalItems,A=x.props,I=A.children,S=A.width,P=A.height,O=x.props.margin||{},R=S-(O.left||0)-(O.right||0),N=O$({children:I,formattedGraphicalItems:T,legendWidth:R,legendContent:c});if(!N)return null;var C=N.item,F=zO(N,Wde);return M.exports.cloneElement(C,U(U({},F),{},{chartWidth:S,chartHeight:P,margin:O,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),de(Ee(x),"renderTooltip",function(){var T,A=x.props,I=A.children,S=A.accessibilityLayer,P=On(I,Ar);if(!P)return null;var O=x.state,R=O.isTooltipActive,N=O.activeCoordinate,C=O.activePayload,F=O.activeLabel,K=O.offset,z=(T=P.props.active)!==null&&T!==void 0?T:R;return M.exports.cloneElement(P,{viewBox:U(U({},K),{},{x:K.left,y:K.top}),active:z,label:F,payload:z?C:[],coordinate:N,accessibilityLayer:S})}),de(Ee(x),"renderBrush",function(T){var A=x.props,I=A.margin,S=A.data,P=x.state,O=P.offset,R=P.dataStartIndex,N=P.dataEndIndex,C=P.updateId;return M.exports.cloneElement(T,{key:T.key||"_recharts-brush",onChange:qf(x.handleBrushChange,T.props.onChange),data:S,x:ee(T.props.x)?T.props.x:O.left,y:ee(T.props.y)?T.props.y:O.top+O.height+O.brushBottom-(I.bottom||0),width:ee(T.props.width)?T.props.width:O.width,startIndex:R,endIndex:N,updateId:"brush-".concat(C)})}),de(Ee(x),"renderReferenceElement",function(T,A,I){if(!T)return null;var S=Ee(x),P=S.clipPathId,O=x.state,R=O.xAxisMap,N=O.yAxisMap,C=O.offset,F=T.props,K=F.xAxisId,z=F.yAxisId;return M.exports.cloneElement(T,{key:T.key||"".concat(A,"-").concat(I),xAxis:R[K],yAxis:N[z],viewBox:{x:C.left,y:C.top,width:C.width,height:C.height},clipPathId:P})}),de(Ee(x),"renderActivePoints",function(T){var A=T.item,I=T.activePoint,S=T.basePoint,P=T.childIndex,O=T.isRange,R=[],N=A.props.key,C=A.item.props,F=C.activeDot,K=C.dataKey,z=U(U({index:P,dataKey:K,cx:I.x,cy:I.y,r:4,fill:H1(A.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value,key:"".concat(N,"-activePoint-").concat(P)},Oe(F,!1)),_p(F));return R.push(v.renderActiveDot(F,z)),S?R.push(v.renderActiveDot(F,U(U({},z),{},{cx:S.x,cy:S.y,key:"".concat(N,"-basePoint-").concat(P)}))):O&&R.push(null),R}),de(Ee(x),"renderGraphicChild",function(T,A,I){var S=x.filterFormatItem(T,A,I);if(!S)return null;var P=x.getTooltipEventType(),O=x.state,R=O.isTooltipActive,N=O.tooltipAxis,C=O.activeTooltipIndex,F=O.activeLabel,K=x.props.children,z=On(K,Ar),Q=S.props,V=Q.points,G=Q.isRange,X=Q.baseLine,ae=S.item.props,te=ae.activeDot,le=ae.hide,je=ae.activeBar,Je=ae.activeShape,Mt=Boolean(!le&&R&&z&&(te||je||Je)),We={};P!=="axis"&&z&&z.props.trigger==="click"?We={onClick:qf(x.handleItemMouseEnter,T.props.onClick)}:P!=="axis"&&(We={onMouseLeave:qf(x.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:qf(x.handleItemMouseEnter,T.props.onMouseEnter)});var nr=M.exports.cloneElement(T,U(U({},S.props),We));function re(ir){return typeof N.dataKey=="function"?N.dataKey(ir.payload):null}if(Mt)if(C>=0){var fe,me;if(N.dataKey&&!N.allowDuplicatedCategory){var q=typeof N.dataKey=="function"?re:"payload.".concat(N.dataKey.toString());fe=U0(V,q,F),me=G&&X&&U0(X,q,F)}else fe=V==null?void 0:V[C],me=G&&X&&X[C];if(Je||je){var Ge=T.props.activeIndex!==void 0?T.props.activeIndex:C;return[M.exports.cloneElement(T,U(U(U({},S.props),We),{},{activeIndex:Ge})),null,null]}if(!ke(fe))return[nr].concat(_u(x.renderActivePoints({item:S,activePoint:fe,basePoint:me,childIndex:C,isRange:G})))}else{var we,tt=(we=x.getItemByXY(x.state.activeCoordinate))!==null&&we!==void 0?we:{graphicalItem:nr},nt=tt.graphicalItem,zt=nt.item,rr=zt===void 0?T:zt,Mo=nt.childIndex,Tr=U(U(U({},S.props),We),{},{activeIndex:Mo});return[M.exports.cloneElement(rr,Tr),null,null]}return G?[nr,null,null]:[nr,null]}),de(Ee(x),"renderCustomized",function(T,A,I){return M.exports.cloneElement(T,U(U({key:"recharts-customized-".concat(I)},x.props),x.state))}),de(Ee(x),"renderMap",{CartesianGrid:{handler:Qf,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:Qf},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:Qf},YAxis:{handler:Qf},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((y=b.id)!==null&&y!==void 0?y:lg("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=kM(x.triggeredAfterMouseMove,(w=b.throttleDelay)!==null&&w!==void 0?w:1e3/60),x.state={},x}return Jde(v,[{key:"componentDidMount",value:function(){var y,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,w=y.children,x=y.data,T=y.height,A=y.layout,I=On(w,Ar);if(!!I){var S=I.props.defaultIndex;if(!(typeof S!="number"||S<0||S>this.state.tooltipTicks.length)){var P=this.state.tooltipTicks[S]&&this.state.tooltipTicks[S].value,O=z_(this.state,x,S,P),R=this.state.tooltipTicks[S].coordinate,N=(this.state.offset.top+T)/2,C=A==="horizontal",F=C?{x:R,y:N}:{y:R,x:N},K=this.state.formattedGraphicalItems.find(function(Q){var V=Q.item;return V.type.name==="Scatter"});K&&(F=U(U({},F),K.props.points[S].tooltipPosition),O=K.props.points[S].tooltipPayload);var z={activeTooltipIndex:S,isTooltipActive:!0,activeLabel:P,activePayload:O,activeCoordinate:F};this.setState(z),this.renderCursor(I),this.accessibilityManager.setIndex(S)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var x,T;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(y){q0([On(y.children,Ar)],[On(this.props.children,Ar)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=On(this.props.children,Ar);if(y&&typeof y.props.shared=="boolean"){var w=y.props.shared?"axis":"item";return u.indexOf(w)>=0?w:a}return a}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var w=this.container,x=w.getBoundingClientRect(),T=Ine(x),A={chartX:Math.round(y.pageX-T.left),chartY:Math.round(y.pageY-T.top)},I=x.width/w.offsetWidth||1,S=this.inRange(A.chartX,A.chartY,I);if(!S)return null;var P=this.state,O=P.xAxisMap,R=P.yAxisMap,N=this.getTooltipEventType();if(N!=="axis"&&O&&R){var C=Ki(O).scale,F=Ki(R).scale,K=C&&C.invert?C.invert(A.chartX):null,z=F&&F.invert?F.invert(A.chartY):null;return U(U({},A),{},{xValue:K,yValue:z})}var Q=GO(this.state,this.props.data,this.props.layout,S);return Q?U(U({},A),Q):null}},{key:"inRange",value:function(y,w){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,A=y/x,I=w/x;if(T==="horizontal"||T==="vertical"){var S=this.state.offset,P=A>=S.left&&A<=S.left+S.width&&I>=S.top&&I<=S.top+S.height;return P?{x:A,y:I}:null}var O=this.state,R=O.angleAxisMap,N=O.radiusAxisMap;if(R&&N){var C=Ki(R);return IP({x:A,y:I},C)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,w=this.getTooltipEventType(),x=On(y,Ar),T={};x&&w==="axis"&&(x.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var A=_p(this.props,this.handleOuterEvent);return U(U({},A),T)}},{key:"addListener",value:function(){hv.on(fv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){hv.removeListener(fv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,w,x){for(var T=this.state.formattedGraphicalItems,A=0,I=T.length;A<I;A++){var S=T[A];if(S.item===y||S.props.key===y.key||w===li(S.item.type)&&x===S.childIndex)return S}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,w=this.state.offset,x=w.left,T=w.top,A=w.height,I=w.width;return D("defs",{children:D("clipPath",{id:y,children:D("rect",{x,y:T,height:A,width:I})})})}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(w,x){var T=UO(x,2),A=T[0],I=T[1];return U(U({},w),{},de({},A,I.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(w,x){var T=UO(x,2),A=T[0],I=T[1];return U(U({},w),{},de({},A,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(y){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(y){var w=this.state,x=w.formattedGraphicalItems,T=w.activeItem;if(x&&x.length)for(var A=0,I=x.length;A<I;A++){var S=x[A],P=S.props,O=S.item,R=li(O.type);if(R==="Bar"){var N=(P.data||[]).find(function(z){return Vle(y,z)});if(N)return{graphicalItem:S,payload:N}}else if(R==="RadialBar"){var C=(P.data||[]).find(function(z){return IP(y,z)});if(C)return{graphicalItem:S,payload:C}}else if(Pg(S,T)||Og(S,T)||lh(S,T)){var F=jce({graphicalItem:S,activeTooltipItem:T,itemData:O.props.data}),K=O.props.activeIndex===void 0?F:O.props.activeIndex;return{graphicalItem:U(U({},S),{},{childIndex:K}),payload:lh(S,T)?O.props.data[F]:S.props.data[F]}}}return null}},{key:"render",value:function(){var y=this;if(!pI(this))return null;var w=this.props,x=w.children,T=w.className,A=w.width,I=w.height,S=w.style,P=w.compact,O=w.title,R=w.desc,N=zO(w,Gde),C=Oe(N,!1);if(P)return D(IO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId,children:Y(W0,{...C,width:A,height:I,title:O,desc:R,children:[this.renderClipPath(),gI(x,this.renderMap)]})});if(this.props.accessibilityLayer){var F,K;C.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,C.role=(K=this.props.role)!==null&&K!==void 0?K:"application",C.onKeyDown=function(Q){y.accessibilityManager.keyboardEvent(Q)},C.onFocus=function(){y.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return D(IO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId,children:Y("div",{className:Re("recharts-wrapper",T),style:U({position:"relative",cursor:"default",width:A,height:I},S),...z,ref:function(V){y.container=V},children:[Y(W0,{...C,width:A,height:I,title:O,desc:R,style:spe,children:[this.renderClipPath(),gI(x,this.renderMap)]}),this.renderLegend(),this.renderTooltip()]})})}}]),v}(M.exports.Component),de(n,"displayName",r),de(n,"defaultProps",U({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),de(n,"getDerivedStateFromProps",function(g,v){var b=g.dataKey,y=g.data,w=g.children,x=g.width,T=g.height,A=g.layout,I=g.stackOffset,S=g.margin,P=v.dataStartIndex,O=v.dataEndIndex;if(v.updateId===void 0){var R=KO(g);return U(U(U({},R),{},{updateId:0},_(U(U({props:g},R),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:y,prevWidth:x,prevHeight:T,prevLayout:A,prevStackOffset:I,prevMargin:S,prevChildren:w})}if(b!==v.prevDataKey||y!==v.prevData||x!==v.prevWidth||T!==v.prevHeight||A!==v.prevLayout||I!==v.prevStackOffset||!Ms(S,v.prevMargin)){var N=KO(g),C={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},F=U(U({},GO(v,y,A)),{},{updateId:v.updateId+1}),K=U(U(U({},N),C),F);return U(U(U({},K),_(U({props:g},K),v)),{},{prevDataKey:b,prevData:y,prevWidth:x,prevHeight:T,prevLayout:A,prevStackOffset:I,prevMargin:S,prevChildren:w})}if(!q0(w,v.prevChildren)){var z,Q,V,G,X=On(w,mu),ae=X&&(z=(Q=X.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&z!==void 0?z:P,te=X&&(V=(G=X.props)===null||G===void 0?void 0:G.endIndex)!==null&&V!==void 0?V:O,le=ae!==P||te!==O,je=!ke(y),Je=je&&!le?v.updateId:v.updateId+1;return U(U({updateId:Je},_(U(U({props:g},v),{},{updateId:Je,dataStartIndex:ae,dataEndIndex:te}),v)),{},{prevChildren:w,dataStartIndex:ae,dataEndIndex:te})}return null}),de(n,"renderActiveDot",function(g,v){var b;return M.exports.isValidElement(g)?b=M.exports.cloneElement(g,v):_e(g)?b=g(v):b=D(Q$,{...v}),D(Ct,{className:"recharts-active-dot",children:b},v.key)}),n},vpe=ype({chartName:"BarChart",GraphicalChild:fi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:kg},{axisType:"yAxis",AxisComp:Rg}],formatAxisMap:ife});const _pe=()=>{const[t,e]=M.exports.useState(null),[n,r]=M.exports.useState(!0),[i,o]=M.exports.useState(null);if(M.exports.useEffect(()=>{(async()=>{const u=wi.currentUser;if(!u){o("User not authenticated"),r(!1);return}try{const l=Db(jm(ui,"tasks"),Mb("userId","==",u.uid)),h=(await RD(l)).docs.map(g=>({id:g.id,...g.data()})),d=new Date,p=new Date(d.getTime()+7*24*60*60*1e3),_={total:h.length,completed:h.filter(g=>g.completed).length,overdue:h.filter(g=>!g.completed&&new Date(g.dueDate)<d).length,upcomingWeek:h.filter(g=>!g.completed&&new Date(g.dueDate)<=p).length,byCategoryAndPriority:{}};h.forEach(g=>{_.byCategoryAndPriority[g.category]||(_.byCategoryAndPriority[g.category]={low:0,medium:0,high:0}),_.byCategoryAndPriority[g.category][g.priority]++}),e(_),r(!1)}catch(l){console.error("Error fetching task stats:",l),o("Failed to fetch task statistics"),r(!1)}})()},[]),n)return D("div",{className:"flex justify-center items-center h-screen",children:D(yp,{className:"animate-spin",size:48})});if(i)return D("div",{className:"flex justify-center items-center h-screen",children:Y("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[D("strong",{className:"font-bold",children:"Error!"}),Y("span",{className:"block sm:inline",children:[" ",i]})]})});if(!t)return D("div",{children:"No task data available."});const a=Object.entries(t.byCategoryAndPriority).map(([s,u])=>({category:s,Low:u.low,Medium:u.medium,High:u.high}));return Y("div",{className:"max-w-4xl mx-auto mt-8 p-6 bg-white rounded-lg shadow-md",children:[D("h1",{className:"text-2xl font-bold mb-6",children:"Task Dashboard"}),Y("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[Y("div",{className:"bg-blue-100 p-4 rounded-lg",children:[D("h2",{className:"text-lg font-semibold",children:"Total Tasks"}),D("p",{className:"text-3xl font-bold",children:t.total})]}),Y("div",{className:"bg-green-100 p-4 rounded-lg",children:[D("h2",{className:"text-lg font-semibold",children:"Completed"}),D("p",{className:"text-3xl font-bold",children:t.completed})]}),Y("div",{className:"bg-red-100 p-4 rounded-lg",children:[D("h2",{className:"text-lg font-semibold",children:"Overdue"}),D("p",{className:"text-3xl font-bold",children:t.overdue})]}),Y("div",{className:"bg-yellow-100 p-4 rounded-lg",children:[D("h2",{className:"text-lg font-semibold",children:"Due This Week"}),D("p",{className:"text-3xl font-bold",children:t.upcomingWeek})]})]}),D("h2",{className:"text-xl font-semibold mb-4",children:"Tasks by Category and Priority"}),D("div",{className:"h-80 w-full",children:D(_ne,{width:"100%",height:"100%",children:Y(vpe,{data:a,children:[D(_L,{strokeDasharray:"3 3"}),D(kg,{dataKey:"category"}),D(Rg,{}),D(Ar,{}),D(su,{}),D(fi,{dataKey:"Low",stackId:"a",fill:"#10B981"}),D(fi,{dataKey:"Medium",stackId:"a",fill:"#F59E0B"}),D(fi,{dataKey:"High",stackId:"a",fill:"#EF4444"})]})})})]})},wpe=()=>Y("div",{className:"welcome-screen p-8 max-w-2xl mx-auto",children:[D("h1",{className:"text-4xl font-bold mb-4",children:"Welcome to Your To-Do List & Organizer"}),D("p",{className:"mb-4",children:"This app helps you organize your tasks, set priorities, and stay on top of your deadlines."}),D("h2",{className:"text-2xl font-semibold mb-2",children:"Features:"}),Y("ul",{className:"list-disc list-inside mb-4",children:[D("li",{children:"Create and manage tasks"}),D("li",{children:"Categorize tasks and set priorities"}),D("li",{children:"Set deadlines for your tasks"}),D("li",{children:"Mark tasks as complete"}),D("li",{children:"View task statistics in your profile"}),D("li",{children:"Sync your tasks across devices"})]}),D("p",{className:"mb-4",children:"Sign in to start organizing your life!"}),D(y2,{})]}),bpe=()=>{const t=Su(),e=ja(),n=async()=>{try{await e2(wi),e("/")}catch(r){console.error("Error signing out:",r)}};return Y("nav",{style:{position:"fixed",top:0,left:0,right:0,backgroundColor:"#1a202c",color:"white",padding:"1rem",display:"flex",justifyContent:"space-around",alignItems:"center",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.1)",zIndex:1e3},children:[D(ra,{to:"/dashboard",style:{color:t.pathname==="/dashboard"?"#63b3ed":"white"},children:D(uq,{size:24})}),D(ra,{to:"/tasks",style:{color:t.pathname==="/tasks"?"#63b3ed":"white"},children:D(cq,{size:24})}),D(ra,{to:"/add-task",style:{color:t.pathname==="/add-task"?"#63b3ed":"white"},children:D(pq,{size:24})}),D(ra,{to:"/profile",style:{color:t.pathname==="/profile"?"#63b3ed":"white"},children:D(gq,{size:24})}),D("button",{onClick:n,style:{background:"none",border:"none",color:"white",cursor:"pointer"},children:D(hq,{size:24})})]})};const xpe=()=>{const[t,e]=M.exports.useState(null),[n,r]=M.exports.useState(!0);return M.exports.useEffect(()=>{const i=wi.onAuthStateChanged(o=>{e(o),r(!1)});return()=>i()},[]),n?D("div",{className:"flex justify-center items-center h-screen",children:D("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-indigo-500"})}):D(SB,{children:Y("div",{className:"app flex flex-col min-h-screen bg-gray-100",children:[t&&D(bpe,{}),D("main",{className:"flex-grow pt-16 px-4",children:Y(mB,{children:[D(Li,{path:"/",element:t?D(Fo,{to:"/dashboard"}):D(wpe,{})}),D(Li,{path:"/signin",element:t?D(Fo,{to:"/dashboard"}):D(y2,{})}),D(Li,{path:"/dashboard",element:t?D(_pe,{}):D(Fo,{to:"/"})}),D(Li,{path:"/tasks",element:t?D(yq,{}):D(Fo,{to:"/"})}),D(Li,{path:"/add-task",element:t?D(vq,{}):D(Fo,{to:"/"})}),D(Li,{path:"/edit-task/:id",element:t?D(_q,{}):D(Fo,{to:"/"})}),D(Li,{path:"/profile",element:t?D(wq,{}):D(Fo,{to:"/"})})]})})]})})};pv.createRoot(document.getElementById("root")).render(D(Ne.StrictMode,{children:D(xpe,{})}));
